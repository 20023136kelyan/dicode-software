var gK=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Eke=gK((Bke,dg)=>{function yK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k1={exports:{}},tm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function vK(){if(zI)return tm;zI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return tm.Fragment=e,tm.jsx=n,tm.jsxs=n,tm}var UI;function xK(){return UI||(UI=1,k1.exports=vK()),k1.exports}var l=xK(),C1={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI;function bK(){if(BI)return dt;BI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(z,Q,ue){this.props=z,this.context=Q,this.refs=A,this.updater=ue||j}T.prototype.isReactComponent={},T.prototype.setState=function(z,Q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Q,"setState")},T.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=T.prototype;function C(z,Q,ue){this.props=z,this.context=Q,this.refs=A,this.updater=ue||j}var U=C.prototype=new O;U.constructor=C,E(U,T.prototype),U.isPureReactComponent=!0;var B=Array.isArray;function $(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function I(z,Q,ue){var ge=ue.ref;return{$$typeof:t,type:z,key:Q,ref:ge!==void 0?ge:null,props:ue}}function L(z,Q){return I(z.type,Q,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function q(z){var Q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return Q[ue]})}var M=/\/+/g;function ce(z,Q){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):Q.toString(36)}function me(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then($,$):(z.status="pending",z.then(function(Q){z.status==="pending"&&(z.status="fulfilled",z.value=Q)},function(Q){z.status==="pending"&&(z.status="rejected",z.reason=Q)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,Q,ue,ge,pe){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Ae=!1;if(z===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(z.$$typeof){case t:case e:Ae=!0;break;case m:return Ae=z._init,G(Ae(z._payload),Q,ue,ge,pe)}}if(Ae)return pe=pe(z),Ae=ge===""?"."+ce(z,0):ge,B(pe)?(ue="",Ae!=null&&(ue=Ae.replace(M,"$&/")+"/"),G(pe,Q,ue,"",function(Re){return Re})):pe!=null&&(V(pe)&&(pe=L(pe,ue+(pe.key==null||z&&z.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+Ae)),Q.push(pe)),1;Ae=0;var Le=ge===""?".":ge+":";if(B(z))for(var ae=0;ae<z.length;ae++)ge=z[ae],Ne=Le+ce(ge,ae),Ae+=G(ge,Q,ue,Ne,pe);else if(ae=b(z),typeof ae=="function")for(z=ae.call(z),ae=0;!(ge=z.next()).done;)ge=ge.value,Ne=Le+ce(ge,ae++),Ae+=G(ge,Q,ue,Ne,pe);else if(Ne==="object"){if(typeof z.then=="function")return G(me(z),Q,ue,ge,pe);throw Q=String(z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(z,Q,ue){if(z==null)return z;var ge=[],pe=0;return G(z,ge,"","",function(Ne){return Q.call(ue,Ne,pe++)}),ge}function se(z){if(z._status===-1){var Q=z._result;Q=Q(),Q.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=Q)}if(z._status===1)return z._result.default;throw z._result}var be=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Y={map:X,forEach:function(z,Q,ue){X(z,function(){Q.apply(this,arguments)},ue)},count:function(z){var Q=0;return X(z,function(){Q++}),Q},toArray:function(z){return X(z,function(Q){return Q})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return dt.Activity=g,dt.Children=Y,dt.Component=T,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=C,dt.StrictMode=r,dt.Suspense=d,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return N.H.useMemoCache(z)}},dt.cache=function(z){return function(){return z.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(z,Q,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ge=E({},z.props),pe=z.key;if(Q!=null)for(Ne in Q.key!==void 0&&(pe=""+Q.key),Q)!k.call(Q,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Q.ref===void 0||(ge[Ne]=Q[Ne]);var Ne=arguments.length-2;if(Ne===1)ge.children=ue;else if(1<Ne){for(var Ae=Array(Ne),Le=0;Le<Ne;Le++)Ae[Le]=arguments[Le+2];ge.children=Ae}return I(z.type,pe,ge)},dt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},dt.createElement=function(z,Q,ue){var ge,pe={},Ne=null;if(Q!=null)for(ge in Q.key!==void 0&&(Ne=""+Q.key),Q)k.call(Q,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(pe[ge]=Q[ge]);var Ae=arguments.length-2;if(Ae===1)pe.children=ue;else if(1<Ae){for(var Le=Array(Ae),ae=0;ae<Ae;ae++)Le[ae]=arguments[ae+2];pe.children=Le}if(z&&z.defaultProps)for(ge in Ae=z.defaultProps,Ae)pe[ge]===void 0&&(pe[ge]=Ae[ge]);return I(z,Ne,pe)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(z){return{$$typeof:u,render:z}},dt.isValidElement=V,dt.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:se}},dt.memo=function(z,Q){return{$$typeof:h,type:z,compare:Q===void 0?null:Q}},dt.startTransition=function(z){var Q=N.T,ue={};N.T=ue;try{var ge=z(),pe=N.S;pe!==null&&pe(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then($,be)}catch(Ne){be(Ne)}finally{Q!==null&&ue.types!==null&&(Q.types=ue.types),N.T=Q}},dt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},dt.use=function(z){return N.H.use(z)},dt.useActionState=function(z,Q,ue){return N.H.useActionState(z,Q,ue)},dt.useCallback=function(z,Q){return N.H.useCallback(z,Q)},dt.useContext=function(z){return N.H.useContext(z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(z,Q){return N.H.useDeferredValue(z,Q)},dt.useEffect=function(z,Q){return N.H.useEffect(z,Q)},dt.useEffectEvent=function(z){return N.H.useEffectEvent(z)},dt.useId=function(){return N.H.useId()},dt.useImperativeHandle=function(z,Q,ue){return N.H.useImperativeHandle(z,Q,ue)},dt.useInsertionEffect=function(z,Q){return N.H.useInsertionEffect(z,Q)},dt.useLayoutEffect=function(z,Q){return N.H.useLayoutEffect(z,Q)},dt.useMemo=function(z,Q){return N.H.useMemo(z,Q)},dt.useOptimistic=function(z,Q){return N.H.useOptimistic(z,Q)},dt.useReducer=function(z,Q,ue){return N.H.useReducer(z,Q,ue)},dt.useRef=function(z){return N.H.useRef(z)},dt.useState=function(z){return N.H.useState(z)},dt.useSyncExternalStore=function(z,Q,ue){return N.H.useSyncExternalStore(z,Q,ue)},dt.useTransition=function(){return N.H.useTransition()},dt.version="19.2.0",dt}var $I;function Tf(){return $I||($I=1,C1.exports=bK()),C1.exports}var x=Tf();const tN=za(x),wK=yK({__proto__:null,default:tN},[x]);var P1={exports:{}},nm={},I1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function _K(){return FI||(FI=1,(function(t){function e(G,X){var se=G.length;G.push(X);e:for(;0<se;){var be=se-1>>>1,Y=G[be];if(0<i(Y,X))G[be]=X,G[se]=Y,se=be;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var X=G[0],se=G.pop();if(se!==X){G[0]=se;e:for(var be=0,Y=G.length,z=Y>>>1;be<z;){var Q=2*(be+1)-1,ue=G[Q],ge=Q+1,pe=G[ge];if(0>i(ue,se))ge<Y&&0>i(pe,ue)?(G[be]=pe,G[ge]=se,be=ge):(G[be]=ue,G[Q]=se,be=Q);else if(ge<Y&&0>i(pe,se))G[be]=pe,G[ge]=se,be=ge;else break e}}return X}function i(G,X){var se=G.sortIndex-X.sortIndex;return se!==0?se:G.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],h=[],m=1,g=null,y=3,b=!1,j=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function U(G){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=G)r(h),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(h)}}function B(G){if(E=!1,U(G),!j)if(n(d)!==null)j=!0,$||($=!0,q());else{var X=n(h);X!==null&&me(B,X.startTime-G)}}var $=!1,N=-1,k=5,I=-1;function L(){return A?!0:!(t.unstable_now()-I<k)}function V(){if(A=!1,$){var G=t.unstable_now();I=G;var X=!0;try{e:{j=!1,E&&(E=!1,O(N),N=-1),b=!0;var se=y;try{t:{for(U(G),g=n(d);g!==null&&!(g.expirationTime>G&&L());){var be=g.callback;if(typeof be=="function"){g.callback=null,y=g.priorityLevel;var Y=be(g.expirationTime<=G);if(G=t.unstable_now(),typeof Y=="function"){g.callback=Y,U(G),X=!0;break t}g===n(d)&&r(d),U(G)}else r(d);g=n(d)}if(g!==null)X=!0;else{var z=n(h);z!==null&&me(B,z.startTime-G),X=!1}}break e}finally{g=null,y=se,b=!1}X=void 0}}finally{X?q():$=!1}}}var q;if(typeof C=="function")q=function(){C(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ce=M.port2;M.port1.onmessage=V,q=function(){ce.postMessage(null)}}else q=function(){T(V,0)};function me(G,X){N=T(function(){G(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var se=y;y=X;try{return G()}finally{y=se}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var se=y;y=G;try{return X()}finally{y=se}},t.unstable_scheduleCallback=function(G,X,se){var be=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,G={id:m++,callback:X,priorityLevel:G,startTime:se,expirationTime:Y,sortIndex:-1},se>be?(G.sortIndex=se,e(h,G),n(d)===null&&G===n(h)&&(E?(O(N),N=-1):E=!0,me(B,se-be))):(G.sortIndex=Y,e(d,G),j||b||(j=!0,$||($=!0,q()))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var X=y;return function(){var se=y;y=X;try{return G.apply(this,arguments)}finally{y=se}}}})(O1)),O1}var qI;function jK(){return qI||(qI=1,I1.exports=_K()),I1.exports}var R1={exports:{}},Kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function EK(){if(HI)return Kr;HI=1;var t=Tf();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kr.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},Kr.flushSync=function(d){var h=o.T,m=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=h,r.p=m,r.d.f()}},Kr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Kr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Kr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Kr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Kr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Kr.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Kr.requestFormReset=function(d){r.d.r(d)},Kr.unstable_batchedUpdates=function(d,h){return d(h)},Kr.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},Kr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Kr.version="19.2.0",Kr}var KI;function YL(){if(KI)return R1.exports;KI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R1.exports=EK(),R1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function AK(){if(GI)return nm;GI=1;var t=jK(),e=Tf(),n=YL();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function h(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var f=s,p=c;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(p=w.return,p!==null){f=p;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return d(w),s;if(_===p)return d(w),c;_=_.sibling}throw Error(r(188))}if(f.return!==p.return)f=w,p=_;else{for(var P=!1,F=w.child;F;){if(F===f){P=!0,f=w,p=_;break}if(F===p){P=!0,p=w,f=_;break}F=F.sibling}if(!P){for(F=_.child;F;){if(F===f){P=!0,f=_,p=w;break}if(F===p){P=!0,p=_,f=w;break}F=F.sibling}if(!P)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:c}function m(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=m(s),c!==null)return c;s=s.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case C:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case U:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return c=s.displayName||null,c!==null?c:ce(s.type)||"Memo";case k:c=s._payload,s=s._init;try{return ce(s(c))}catch{}}return null}var me=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},be=[],Y=-1;function z(s){return{current:s}}function Q(s){0>Y||(s.current=be[Y],be[Y]=null,Y--)}function ue(s,c){Y++,be[Y]=s.current,s.current=c}var ge=z(null),pe=z(null),Ne=z(null),Ae=z(null);function Le(s,c){switch(ue(Ne,c),ue(pe,s),ue(ge,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?lI(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=lI(c),s=cI(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ge),ue(ge,s)}function ae(){Q(ge),Q(pe),Q(Ne)}function Re(s){s.memoizedState!==null&&ue(Ae,s);var c=ge.current,f=cI(c,s.type);c!==f&&(ue(pe,s),ue(ge,f))}function Ie(s){pe.current===s&&(Q(ge),Q(pe)),Ae.current===s&&(Q(Ae),Xh._currentValue=se)}var K,ee;function ne(s){if(K===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);K=c&&c[1]||"",ee=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+s+ee}var Ee=!1;function Ue(s,c){if(!s||Ee)return"";Ee=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(he){var de=he}Reflect.construct(s,[],_e)}else{try{_e.call()}catch(he){de=he}s.call(_e.prototype)}}else{try{throw Error()}catch(he){de=he}(_e=s())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(he){if(he&&de&&typeof he.stack=="string")return[he.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),P=_[0],F=_[1];if(P&&F){var W=P.split(`
`),le=F.split(`
`);for(w=p=0;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;for(;w<le.length&&!le[w].includes("DetermineComponentFrameRoot");)w++;if(p===W.length||w===le.length)for(p=W.length-1,w=le.length-1;1<=p&&0<=w&&W[p]!==le[w];)w--;for(;1<=p&&0<=w;p--,w--)if(W[p]!==le[w]){if(p!==1||w!==1)do if(p--,w--,0>w||W[p]!==le[w]){var ve=`
`+W[p].replace(" at new "," at ");return s.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",s.displayName)),ve}while(1<=p&&0<=w);break}}}finally{Ee=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?ne(f):""}function Qe(s,c){switch(s.tag){case 26:case 27:case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return s.child!==c&&c!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return Ue(s.type,!1);case 11:return Ue(s.type.render,!1);case 1:return Ue(s.type,!0);case 31:return ne("Activity");default:return""}}function bt(s){try{var c="",f=null;do c+=Qe(s,f),f=s,s=s.return;while(s);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Je=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,kr=t.unstable_cancelCallback,$a=t.unstable_shouldYield,ps=t.unstable_requestPaint,Sn=t.unstable_now,sr=t.unstable_getCurrentPriorityLevel,sa=t.unstable_ImmediatePriority,Fa=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,ye=t.unstable_LowPriority,Ce=t.unstable_IdlePriority,We=t.log,He=t.unstable_setDisableYieldValue,Se=null,$e=null;function lt(s){if(typeof We=="function"&&He(s),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Se,s)}catch{}}var tt=Math.clz32?Math.clz32:wt,Rn=Math.log,Ke=Math.LN2;function wt(s){return s>>>=0,s===0?32:31-(Rn(s)/Ke|0)|0}var vt=256,Yt=262144,ft=4194304;function pr(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gn(s,c,f){var p=s.pendingLanes;if(p===0)return 0;var w=0,_=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var F=p&134217727;return F!==0?(p=F&~_,p!==0?w=pr(p):(P&=F,P!==0?w=pr(P):f||(f=F&~s,f!==0&&(w=pr(f))))):(F=p&~_,F!==0?w=pr(F):P!==0?w=pr(P):f||(f=p&~s,f!==0&&(w=pr(f)))),w===0?0:c!==0&&c!==w&&(c&_)===0&&(_=w&-w,f=c&-c,_>=f||_===32&&(f&4194048)!==0)?c:w}function Dn(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function qt(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tn(){var s=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),s}function Bt(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function zn(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function or(s,c,f,p,w,_){var P=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var F=s.entanglements,W=s.expirationTimes,le=s.hiddenUpdates;for(f=P&~f;0<f;){var ve=31-tt(f),_e=1<<ve;F[ve]=0,W[ve]=-1;var de=le[ve];if(de!==null)for(le[ve]=null,ve=0;ve<de.length;ve++){var he=de[ve];he!==null&&(he.lane&=-536870913)}f&=~_e}p!==0&&Cr(s,p,0),_!==0&&w===0&&s.tag!==0&&(s.suspendedLanes|=_&~(P&~c))}function Cr(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var p=31-tt(c);s.entangledLanes|=c,s.entanglements[p]=s.entanglements[p]|1073741824|f&261930}function oa(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var p=31-tt(f),w=1<<p;w&c|s[p]&c&&(s[p]|=c),f&=~w}}function qa(s,c){var f=c&-c;return f=(f&42)!==0?1:gi(f),(f&(s.suspendedLanes|c))!==0?0:f}function gi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ri(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function la(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:II(s.type))}function Hr(s,c){var f=X.p;try{return X.p=s,c()}finally{X.p=f}}var Pr=Math.random().toString(36).slice(2),gn="__reactFiber$"+Pr,kt="__reactProps$"+Pr,Ir="__reactContainer$"+Pr,Qs="__reactEvents$"+Pr,lh="__reactListeners$"+Pr,jc="__reactHandles$"+Pr,Hu="__reactResources$"+Pr,ca="__reactMarker$"+Pr;function Jo(s){delete s[gn],delete s[kt],delete s[Qs],delete s[lh],delete s[jc]}function ua(s){var c=s[gn];if(c)return c;for(var f=s.parentNode;f;){if(c=f[Ir]||f[gn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=gI(s);s!==null;){if(f=s[gn])return f;s=gI(s)}return c}s=f,f=s.parentNode}return null}function yi(s){if(s=s[gn]||s[Ir]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function ii(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function da(s){var c=s[Hu];return c||(c=s[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function R(s){s[ca]=!0}var J=new Set,Te={};function Oe(s,c){Ye(s,c),Ye(s+"Capture",c)}function Ye(s,c){for(Te[s]=c,s=0;s<c.length;s++)J.add(c[s])}var $t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Ha={};function vi(s){return Je.call(Ha,s)?!0:Je.call(gr,s)?!1:$t.test(s)?Ha[s]=!0:(gr[s]=!0,!1)}function Xs(s,c,f){if(vi(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function Wn(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function Yn(s,c,f,p){if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+p)}}function yr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function el(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ch(s,c,f){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,_=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return w.call(this)},set:function(P){f=""+P,_.call(this,P)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(P){f=""+P},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Ht(s){if(!s._valueTracker){var c=el(s)?"checked":"value";s._valueTracker=ch(s,c,""+s[c])}}function Ec(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),p="";return s&&(p=el(s)?s.checked?"true":"false":s.value),s=p,s!==f?(c.setValue(s),!0):!1}function gs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ac=/[\n"\\]/g;function xi(s){return s.replace(Ac,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ku(s,c,f,p,w,_,P,F){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),c!=null?P==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+yr(c)):s.value!==""+yr(c)&&(s.value=""+yr(c)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),c!=null?uh(s,P,yr(c)):f!=null?uh(s,P,yr(f)):p!=null&&s.removeAttribute("value"),w==null&&_!=null&&(s.defaultChecked=!!_),w!=null&&(s.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+yr(F):s.removeAttribute("name")}function fg(s,c,f,p,w,_,P,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),c!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Ht(s);return}f=f!=null?""+yr(f):"",c=c!=null?""+yr(c):f,F||c===s.value||(s.value=c),s.defaultValue=c}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=F?s.checked:!!p,s.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P),Ht(s)}function uh(s,c,f){c==="number"&&gs(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function tl(s,c,f,p){if(s=s.options,c){c={};for(var w=0;w<f.length;w++)c["$"+f[w]]=!0;for(f=0;f<s.length;f++)w=c.hasOwnProperty("$"+s[f].value),s[f].selected!==w&&(s[f].selected=w),w&&p&&(s[f].defaultSelected=!0)}else{for(f=""+yr(f),c=null,w=0;w<s.length;w++){if(s[w].value===f){s[w].selected=!0,p&&(s[w].defaultSelected=!0);return}c!==null||s[w].disabled||(c=s[w])}c!==null&&(c.selected=!0)}}function hg(s,c,f){if(c!=null&&(c=""+yr(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+yr(f):""}function nl(s,c,f,p){if(c==null){if(p!=null){if(f!=null)throw Error(r(92));if(me(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),c=f}f=yr(c),s.defaultValue=f,p=s.textContent,p===f&&p!==""&&p!==null&&(s.value=p),Ht(s)}function bi(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var mg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(s,c,f){var p=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":p?s.setProperty(c,f):typeof f!="number"||f===0||mg.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function fh(s,c,f){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var w in c)p=c[w],c.hasOwnProperty(w)&&f[w]!==p&&dh(s,w,p)}else for(var _ in c)c.hasOwnProperty(_)&&dh(s,_,c[_])}function Gu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wu(s){return rl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ka(){}var hh=null;function fa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var il=null,ys=null;function Nc(s){var c=yi(s);if(c&&(s=c.stateNode)){var f=s[kt]||null;e:switch(s=c.stateNode,c.type){case"input":if(Ku(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+xi(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var p=f[c];if(p!==s&&p.form===s.form){var w=p[kt]||null;if(!w)throw Error(r(90));Ku(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<f.length;c++)p=f[c],p.form===s.form&&Ec(p)}break e;case"textarea":hg(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&tl(s,!!f.multiple,c,!1)}}}var Yu=!1;function al(s,c,f){if(Yu)return s(c,f);Yu=!0;try{var p=s(c);return p}finally{if(Yu=!1,(il!==null||ys!==null)&&(ly(),il&&(c=il,s=ys,ys=il=null,Nc(c),s)))for(c=0;c<s.length;c++)Nc(s[c])}}function Ga(s,c){var f=s.stateNode;if(f===null)return null;var p=f[kt]||null;if(p===null)return null;f=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(ha)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Sc=!1}var vs=null,mh=null,Tc=null;function ph(){if(Tc)return Tc;var s,c=mh,f=c.length,p,w="value"in vs?vs.value:vs.textContent,_=w.length;for(s=0;s<f&&c[s]===w[s];s++);var P=f-s;for(p=1;p<=P&&c[f-p]===w[_-p];p++);return Tc=w.slice(s,1<p?1-p:void 0)}function kc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Zs(){return!0}function Wa(){return!1}function Or(s){function c(f,p,w,_,P){this._reactName=f,this._targetInst=w,this.type=p,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(f=s[F],this[F]=f?f(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zs:Wa,this.isPropagationStopped=Wa,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),c}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=Or(Js),sl=g({},Js,{view:0,detail:0}),gh=Or(sl),ol,Qu,bs,Xu=g({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bs&&(bs&&s.type==="mousemove"?(ol=s.screenX-bs.screenX,Qu=s.screenY-bs.screenY):Qu=ol=0,bs=s),ol)},movementY:function(s){return"movementY"in s?s.movementY:Qu}}),yh=Or(Xu),Cc=g({},Xu,{dataTransfer:0}),gg=Or(Cc),yg=g({},sl,{relatedTarget:0}),Pc=Or(yg),vh=g({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),vg=Or(vh),Zu=g({},Js,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xg=Or(Zu),bg=g({},Js,{data:0}),ws=Or(bg),wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=jg[s])?!!c[s]:!1}function ll(){return Eg}var ai=g({},sl,{key:function(s){if(s.key){var c=wg[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=kc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_g[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(s){return s.type==="keypress"?kc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ag=Or(ai),Ng=g({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Or(Ng),v=g({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),S=Or(v),D=g({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=Or(D),ie=g({},Xu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=Or(ie),Pe=g({},Js,{newState:0,oldState:0}),ht=Or(Pe),Un=[9,13,27,32],Lt=ha&&"CompositionEvent"in window,bn=null;ha&&"documentMode"in document&&(bn=document.documentMode);var ma=ha&&"TextEvent"in window&&!bn,_s=ha&&(!Lt||bn&&8<bn&&11>=bn),Ya=" ",Qa=!1;function Ic(s,c){switch(s){case"keyup":return Un.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ed=!1;function Uq(s,c){switch(s){case"compositionend":return Ju(c);case"keypress":return c.which!==32?null:(Qa=!0,Ya);case"textInput":return s=c.data,s===Ya&&Qa?null:s;default:return null}}function Bq(s,c){if(ed)return s==="compositionend"||!Lt&&Ic(s,c)?(s=ph(),Tc=mh=vs=null,ed=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return _s&&c.locale!=="ko"?null:c.data;default:return null}}var $q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x2(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!$q[s.type]:c==="textarea"}function b2(s,c,f,p){il?ys?ys.push(p):ys=[p]:il=p,c=py(c,"onChange"),0<c.length&&(f=new xs("onChange","change",null,f,p),s.push({event:f,listeners:c}))}var xh=null,bh=null;function Fq(s){nI(s,0)}function Sg(s){var c=ii(s);if(Ec(c))return s}function w2(s,c){if(s==="change")return c}var _2=!1;if(ha){var Mb;if(ha){var Lb="oninput"in document;if(!Lb){var j2=document.createElement("div");j2.setAttribute("oninput","return;"),Lb=typeof j2.oninput=="function"}Mb=Lb}else Mb=!1;_2=Mb&&(!document.documentMode||9<document.documentMode)}function E2(){xh&&(xh.detachEvent("onpropertychange",A2),bh=xh=null)}function A2(s){if(s.propertyName==="value"&&Sg(bh)){var c=[];b2(c,bh,s,fa(s)),al(Fq,c)}}function qq(s,c,f){s==="focusin"?(E2(),xh=c,bh=f,xh.attachEvent("onpropertychange",A2)):s==="focusout"&&E2()}function Hq(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sg(bh)}function Kq(s,c){if(s==="click")return Sg(c)}function Gq(s,c){if(s==="input"||s==="change")return Sg(c)}function Wq(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var zi=typeof Object.is=="function"?Object.is:Wq;function wh(s,c){if(zi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),p=Object.keys(c);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var w=f[p];if(!Je.call(c,w)||!zi(s[w],c[w]))return!1}return!0}function N2(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function S2(s,c){var f=N2(s);s=0;for(var p;f;){if(f.nodeType===3){if(p=s+f.textContent.length,s<=c&&p>=c)return{node:f,offset:c-s};s=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=N2(f)}}function T2(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?T2(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function k2(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=gs(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=gs(s.document)}return c}function Vb(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Yq=ha&&"documentMode"in document&&11>=document.documentMode,td=null,zb=null,_h=null,Ub=!1;function C2(s,c,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ub||td==null||td!==gs(p)||(p=td,"selectionStart"in p&&Vb(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),_h&&wh(_h,p)||(_h=p,p=py(zb,"onSelect"),0<p.length&&(c=new xs("onSelect","select",null,c,f),s.push({event:c,listeners:p}),c.target=td)))}function Oc(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var nd={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionrun:Oc("Transition","TransitionRun"),transitionstart:Oc("Transition","TransitionStart"),transitioncancel:Oc("Transition","TransitionCancel"),transitionend:Oc("Transition","TransitionEnd")},Bb={},P2={};ha&&(P2=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function Rc(s){if(Bb[s])return Bb[s];if(!nd[s])return s;var c=nd[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in P2)return Bb[s]=c[f];return s}var I2=Rc("animationend"),O2=Rc("animationiteration"),R2=Rc("animationstart"),Qq=Rc("transitionrun"),Xq=Rc("transitionstart"),Zq=Rc("transitioncancel"),D2=Rc("transitionend"),M2=new Map,$b="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$b.push("scrollEnd");function Xa(s,c){M2.set(s,c),Oe(c,[s])}var Tg=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},pa=[],rd=0,Fb=0;function kg(){for(var s=rd,c=Fb=rd=0;c<s;){var f=pa[c];pa[c++]=null;var p=pa[c];pa[c++]=null;var w=pa[c];pa[c++]=null;var _=pa[c];if(pa[c++]=null,p!==null&&w!==null){var P=p.pending;P===null?w.next=w:(w.next=P.next,P.next=w),p.pending=w}_!==0&&L2(f,w,_)}}function Cg(s,c,f,p){pa[rd++]=s,pa[rd++]=c,pa[rd++]=f,pa[rd++]=p,Fb|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function qb(s,c,f,p){return Cg(s,c,f,p),Pg(s)}function Dc(s,c){return Cg(s,null,null,c),Pg(s)}function L2(s,c,f){s.lanes|=f;var p=s.alternate;p!==null&&(p.lanes|=f);for(var w=!1,_=s.return;_!==null;)_.childLanes|=f,p=_.alternate,p!==null&&(p.childLanes|=f),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(w=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,w&&c!==null&&(w=31-tt(f),s=_.hiddenUpdates,p=s[w],p===null?s[w]=[c]:p.push(c),c.lane=f|536870912),_):null}function Pg(s){if(50<qh)throw qh=0,Jw=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var id={};function Jq(s,c,f,p){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(s,c,f,p){return new Jq(s,c,f,p)}function Hb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function to(s,c){var f=s.alternate;return f===null?(f=Ui(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function V2(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Ig(s,c,f,p,w,_){var P=0;if(p=s,typeof s=="function")Hb(s)&&(P=1);else if(typeof s=="string")P=iK(s,f,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Ui(31,f,c,w),s.elementType=I,s.lanes=_,s;case E:return Mc(f.children,w,_,c);case A:P=8,w|=24;break;case T:return s=Ui(12,f,c,w|2),s.elementType=T,s.lanes=_,s;case B:return s=Ui(13,f,c,w),s.elementType=B,s.lanes=_,s;case $:return s=Ui(19,f,c,w),s.elementType=$,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:P=10;break e;case O:P=9;break e;case U:P=11;break e;case N:P=14;break e;case k:P=16,p=null;break e}P=29,f=Error(r(130,s===null?"null":typeof s,"")),p=null}return c=Ui(P,f,c,w),c.elementType=s,c.type=p,c.lanes=_,c}function Mc(s,c,f,p){return s=Ui(7,s,p,c),s.lanes=f,s}function Kb(s,c,f){return s=Ui(6,s,null,c),s.lanes=f,s}function z2(s){var c=Ui(18,null,null,0);return c.stateNode=s,c}function Gb(s,c,f){return c=Ui(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var U2=new WeakMap;function ga(s,c){if(typeof s=="object"&&s!==null){var f=U2.get(s);return f!==void 0?f:(c={value:s,source:c,stack:bt(c)},U2.set(s,c),c)}return{value:s,source:c,stack:bt(c)}}var ad=[],sd=0,Og=null,jh=0,ya=[],va=0,cl=null,js=1,Es="";function no(s,c){ad[sd++]=jh,ad[sd++]=Og,Og=s,jh=c}function B2(s,c,f){ya[va++]=js,ya[va++]=Es,ya[va++]=cl,cl=s;var p=js;s=Es;var w=32-tt(p)-1;p&=~(1<<w),f+=1;var _=32-tt(c)+w;if(30<_){var P=w-w%5;_=(p&(1<<P)-1).toString(32),p>>=P,w-=P,js=1<<32-tt(c)+w|f<<w|p,Es=_+s}else js=1<<_|f<<w|p,Es=s}function Wb(s){s.return!==null&&(no(s,1),B2(s,1,0))}function Yb(s){for(;s===Og;)Og=ad[--sd],ad[sd]=null,jh=ad[--sd],ad[sd]=null;for(;s===cl;)cl=ya[--va],ya[va]=null,Es=ya[--va],ya[va]=null,js=ya[--va],ya[va]=null}function $2(s,c){ya[va++]=js,ya[va++]=Es,ya[va++]=cl,js=c.id,Es=c.overflow,cl=s}var Rr=null,yn=null,Ct=!1,ul=null,xa=!1,Qb=Error(r(519));function dl(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eh(ga(c,s)),Qb}function F2(s){var c=s.stateNode,f=s.type,p=s.memoizedProps;switch(c[gn]=s,c[kt]=p,f){case"dialog":jt("cancel",c),jt("close",c);break;case"iframe":case"object":case"embed":jt("load",c);break;case"video":case"audio":for(f=0;f<Kh.length;f++)jt(Kh[f],c);break;case"source":jt("error",c);break;case"img":case"image":case"link":jt("error",c),jt("load",c);break;case"details":jt("toggle",c);break;case"input":jt("invalid",c),fg(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":jt("invalid",c);break;case"textarea":jt("invalid",c),nl(c,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||p.suppressHydrationWarning===!0||sI(c.textContent,f)?(p.popover!=null&&(jt("beforetoggle",c),jt("toggle",c)),p.onScroll!=null&&jt("scroll",c),p.onScrollEnd!=null&&jt("scrollend",c),p.onClick!=null&&(c.onclick=Ka),c=!0):c=!1,c||dl(s,!0)}function q2(s){for(Rr=s.return;Rr;)switch(Rr.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:Rr=Rr.return}}function od(s){if(s!==Rr)return!1;if(!Ct)return q2(s),Ct=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||m1(s.type,s.memoizedProps)),f=!f),f&&yn&&dl(s),q2(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));yn=pI(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));yn=pI(s)}else c===27?(c=yn,Al(s.type)?(s=x1,x1=null,yn=s):yn=c):yn=Rr?wa(s.stateNode.nextSibling):null;return!0}function Lc(){yn=Rr=null,Ct=!1}function Xb(){var s=ul;return s!==null&&(Ei===null?Ei=s:Ei.push.apply(Ei,s),ul=null),s}function Eh(s){ul===null?ul=[s]:ul.push(s)}var Zb=z(null),Vc=null,ro=null;function fl(s,c,f){ue(Zb,c._currentValue),c._currentValue=f}function io(s){s._currentValue=Zb.current,Q(Zb)}function Jb(s,c,f){for(;s!==null;){var p=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),s===f)break;s=s.return}}function ew(s,c,f,p){var w=s.child;for(w!==null&&(w.return=s);w!==null;){var _=w.dependencies;if(_!==null){var P=w.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=w;for(var W=0;W<c.length;W++)if(F.context===c[W]){_.lanes|=f,F=_.alternate,F!==null&&(F.lanes|=f),Jb(_.return,f,s),p||(P=null);break e}_=F.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(r(341));P.lanes|=f,_=P.alternate,_!==null&&(_.lanes|=f),Jb(P,f,s),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===s){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function ld(s,c,f,p){s=null;for(var w=c,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var F=w.type;zi(w.pendingProps.value,P.value)||(s!==null?s.push(F):s=[F])}}else if(w===Ae.current){if(P=w.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(s!==null?s.push(Xh):s=[Xh])}w=w.return}s!==null&&ew(c,s,f,p),c.flags|=262144}function Rg(s){for(s=s.firstContext;s!==null;){if(!zi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zc(s){Vc=s,ro=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Dr(s){return H2(Vc,s)}function Dg(s,c){return Vc===null&&zc(s),H2(s,c)}function H2(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},ro===null){if(s===null)throw Error(r(308));ro=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ro=ro.next=c;return f}var eH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,p){s.push(p)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},tH=t.unstable_scheduleCallback,nH=t.unstable_NormalPriority,Qn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tw(){return{controller:new eH,data:new Map,refCount:0}}function Ah(s){s.refCount--,s.refCount===0&&tH(nH,function(){s.controller.abort()})}var Nh=null,nw=0,cd=0,ud=null;function rH(s,c){if(Nh===null){var f=Nh=[];nw=0,cd=a1(),ud={status:"pending",value:void 0,then:function(p){f.push(p)}}}return nw++,c.then(K2,K2),c}function K2(){if(--nw===0&&Nh!==null){ud!==null&&(ud.status="fulfilled");var s=Nh;Nh=null,cd=0,ud=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function iH(s,c){var f=[],p={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return s.then(function(){p.status="fulfilled",p.value=c;for(var w=0;w<f.length;w++)(0,f[w])(c)},function(w){for(p.status="rejected",p.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),p}var G2=G.S;G.S=function(s,c){CP=Sn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&rH(s,c),G2!==null&&G2(s,c)};var Uc=z(null);function rw(){var s=Uc.current;return s!==null?s:sn.pooledCache}function Mg(s,c){c===null?ue(Uc,Uc.current):ue(Uc,c.pool)}function W2(){var s=rw();return s===null?null:{parent:Qn._currentValue,pool:s}}var dd=Error(r(460)),iw=Error(r(474)),Lg=Error(r(542)),Vg={then:function(){}};function Y2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Q2(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(Ka,Ka),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Z2(s),s;default:if(typeof c.status=="string")c.then(Ka,Ka);else{if(s=sn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(p){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=p}},function(p){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Z2(s),s}throw $c=c,dd}}function Bc(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?($c=f,dd):f}}var $c=null;function X2(){if($c===null)throw Error(r(459));var s=$c;return $c=null,s}function Z2(s){if(s===dd||s===Lg)throw Error(r(483))}var fd=null,Sh=0;function zg(s){var c=Sh;return Sh+=1,fd===null&&(fd=[]),Q2(fd,s,c)}function Th(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function Ug(s,c){throw c.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function J2(s){function c(te,Z){if(s){var oe=te.deletions;oe===null?(te.deletions=[Z],te.flags|=16):oe.push(Z)}}function f(te,Z){if(!s)return null;for(;Z!==null;)c(te,Z),Z=Z.sibling;return null}function p(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function w(te,Z){return te=to(te,Z),te.index=0,te.sibling=null,te}function _(te,Z,oe){return te.index=oe,s?(oe=te.alternate,oe!==null?(oe=oe.index,oe<Z?(te.flags|=67108866,Z):oe):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function P(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function F(te,Z,oe,we){return Z===null||Z.tag!==6?(Z=Kb(oe,te.mode,we),Z.return=te,Z):(Z=w(Z,oe),Z.return=te,Z)}function W(te,Z,oe,we){var nt=oe.type;return nt===E?ve(te,Z,oe.props.children,we,oe.key):Z!==null&&(Z.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===k&&Bc(nt)===Z.type)?(Z=w(Z,oe.props),Th(Z,oe),Z.return=te,Z):(Z=Ig(oe.type,oe.key,oe.props,null,te.mode,we),Th(Z,oe),Z.return=te,Z)}function le(te,Z,oe,we){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=Gb(oe,te.mode,we),Z.return=te,Z):(Z=w(Z,oe.children||[]),Z.return=te,Z)}function ve(te,Z,oe,we,nt){return Z===null||Z.tag!==7?(Z=Mc(oe,te.mode,we,nt),Z.return=te,Z):(Z=w(Z,oe),Z.return=te,Z)}function _e(te,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Kb(""+Z,te.mode,oe),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return oe=Ig(Z.type,Z.key,Z.props,null,te.mode,oe),Th(oe,Z),oe.return=te,oe;case j:return Z=Gb(Z,te.mode,oe),Z.return=te,Z;case k:return Z=Bc(Z),_e(te,Z,oe)}if(me(Z)||q(Z))return Z=Mc(Z,te.mode,oe,null),Z.return=te,Z;if(typeof Z.then=="function")return _e(te,zg(Z),oe);if(Z.$$typeof===C)return _e(te,Dg(te,Z),oe);Ug(te,Z)}return null}function de(te,Z,oe,we){var nt=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return nt!==null?null:F(te,Z,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return oe.key===nt?W(te,Z,oe,we):null;case j:return oe.key===nt?le(te,Z,oe,we):null;case k:return oe=Bc(oe),de(te,Z,oe,we)}if(me(oe)||q(oe))return nt!==null?null:ve(te,Z,oe,we,null);if(typeof oe.then=="function")return de(te,Z,zg(oe),we);if(oe.$$typeof===C)return de(te,Z,Dg(te,oe),we);Ug(te,oe)}return null}function he(te,Z,oe,we,nt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return te=te.get(oe)||null,F(Z,te,""+we,nt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return te=te.get(we.key===null?oe:we.key)||null,W(Z,te,we,nt);case j:return te=te.get(we.key===null?oe:we.key)||null,le(Z,te,we,nt);case k:return we=Bc(we),he(te,Z,oe,we,nt)}if(me(we)||q(we))return te=te.get(oe)||null,ve(Z,te,we,nt,null);if(typeof we.then=="function")return he(te,Z,oe,zg(we),nt);if(we.$$typeof===C)return he(te,Z,oe,Dg(Z,we),nt);Ug(Z,we)}return null}function Be(te,Z,oe,we){for(var nt=null,Rt=null,Fe=Z,gt=Z=0,At=null;Fe!==null&&gt<oe.length;gt++){Fe.index>gt?(At=Fe,Fe=null):At=Fe.sibling;var Dt=de(te,Fe,oe[gt],we);if(Dt===null){Fe===null&&(Fe=At);break}s&&Fe&&Dt.alternate===null&&c(te,Fe),Z=_(Dt,Z,gt),Rt===null?nt=Dt:Rt.sibling=Dt,Rt=Dt,Fe=At}if(gt===oe.length)return f(te,Fe),Ct&&no(te,gt),nt;if(Fe===null){for(;gt<oe.length;gt++)Fe=_e(te,oe[gt],we),Fe!==null&&(Z=_(Fe,Z,gt),Rt===null?nt=Fe:Rt.sibling=Fe,Rt=Fe);return Ct&&no(te,gt),nt}for(Fe=p(Fe);gt<oe.length;gt++)At=he(Fe,te,gt,oe[gt],we),At!==null&&(s&&At.alternate!==null&&Fe.delete(At.key===null?gt:At.key),Z=_(At,Z,gt),Rt===null?nt=At:Rt.sibling=At,Rt=At);return s&&Fe.forEach(function(Cl){return c(te,Cl)}),Ct&&no(te,gt),nt}function st(te,Z,oe,we){if(oe==null)throw Error(r(151));for(var nt=null,Rt=null,Fe=Z,gt=Z=0,At=null,Dt=oe.next();Fe!==null&&!Dt.done;gt++,Dt=oe.next()){Fe.index>gt?(At=Fe,Fe=null):At=Fe.sibling;var Cl=de(te,Fe,Dt.value,we);if(Cl===null){Fe===null&&(Fe=At);break}s&&Fe&&Cl.alternate===null&&c(te,Fe),Z=_(Cl,Z,gt),Rt===null?nt=Cl:Rt.sibling=Cl,Rt=Cl,Fe=At}if(Dt.done)return f(te,Fe),Ct&&no(te,gt),nt;if(Fe===null){for(;!Dt.done;gt++,Dt=oe.next())Dt=_e(te,Dt.value,we),Dt!==null&&(Z=_(Dt,Z,gt),Rt===null?nt=Dt:Rt.sibling=Dt,Rt=Dt);return Ct&&no(te,gt),nt}for(Fe=p(Fe);!Dt.done;gt++,Dt=oe.next())Dt=he(Fe,te,gt,Dt.value,we),Dt!==null&&(s&&Dt.alternate!==null&&Fe.delete(Dt.key===null?gt:Dt.key),Z=_(Dt,Z,gt),Rt===null?nt=Dt:Rt.sibling=Dt,Rt=Dt);return s&&Fe.forEach(function(pK){return c(te,pK)}),Ct&&no(te,gt),nt}function Jt(te,Z,oe,we){if(typeof oe=="object"&&oe!==null&&oe.type===E&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:e:{for(var nt=oe.key;Z!==null;){if(Z.key===nt){if(nt=oe.type,nt===E){if(Z.tag===7){f(te,Z.sibling),we=w(Z,oe.props.children),we.return=te,te=we;break e}}else if(Z.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===k&&Bc(nt)===Z.type){f(te,Z.sibling),we=w(Z,oe.props),Th(we,oe),we.return=te,te=we;break e}f(te,Z);break}else c(te,Z);Z=Z.sibling}oe.type===E?(we=Mc(oe.props.children,te.mode,we,oe.key),we.return=te,te=we):(we=Ig(oe.type,oe.key,oe.props,null,te.mode,we),Th(we,oe),we.return=te,te=we)}return P(te);case j:e:{for(nt=oe.key;Z!==null;){if(Z.key===nt)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){f(te,Z.sibling),we=w(Z,oe.children||[]),we.return=te,te=we;break e}else{f(te,Z);break}else c(te,Z);Z=Z.sibling}we=Gb(oe,te.mode,we),we.return=te,te=we}return P(te);case k:return oe=Bc(oe),Jt(te,Z,oe,we)}if(me(oe))return Be(te,Z,oe,we);if(q(oe)){if(nt=q(oe),typeof nt!="function")throw Error(r(150));return oe=nt.call(oe),st(te,Z,oe,we)}if(typeof oe.then=="function")return Jt(te,Z,zg(oe),we);if(oe.$$typeof===C)return Jt(te,Z,Dg(te,oe),we);Ug(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Z!==null&&Z.tag===6?(f(te,Z.sibling),we=w(Z,oe),we.return=te,te=we):(f(te,Z),we=Kb(oe,te.mode,we),we.return=te,te=we),P(te)):f(te,Z)}return function(te,Z,oe,we){try{Sh=0;var nt=Jt(te,Z,oe,we);return fd=null,nt}catch(Fe){if(Fe===dd||Fe===Lg)throw Fe;var Rt=Ui(29,Fe,null,te.mode);return Rt.lanes=we,Rt.return=te,Rt}finally{}}}var Fc=J2(!0),eC=J2(!1),hl=!1;function aw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ml(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function pl(s,c,f){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Vt&2)!==0){var w=p.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),p.pending=c,c=Pg(s),L2(s,null,f),c}return Cg(s,p,c,f),Pg(s)}function kh(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var p=c.lanes;p&=s.pendingLanes,f|=p,c.lanes=f,oa(s,f)}}function ow(s,c){var f=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var P={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?w=_=P:_=_.next=P,f=f.next}while(f!==null);_===null?w=_=c:_=_.next=c}else w=_=c;f={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var lw=!1;function Ch(){if(lw){var s=ud;if(s!==null)throw s}}function Ph(s,c,f,p){lw=!1;var w=s.updateQueue;hl=!1;var _=w.firstBaseUpdate,P=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var W=F,le=W.next;W.next=null,P===null?_=le:P.next=le,P=W;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,F=ve.lastBaseUpdate,F!==P&&(F===null?ve.firstBaseUpdate=le:F.next=le,ve.lastBaseUpdate=W))}if(_!==null){var _e=w.baseState;P=0,ve=le=W=null,F=_;do{var de=F.lane&-536870913,he=de!==F.lane;if(he?(Et&de)===de:(p&de)===de){de!==0&&de===cd&&(lw=!0),ve!==null&&(ve=ve.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Be=s,st=F;de=c;var Jt=f;switch(st.tag){case 1:if(Be=st.payload,typeof Be=="function"){_e=Be.call(Jt,_e,de);break e}_e=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=st.payload,de=typeof Be=="function"?Be.call(Jt,_e,de):Be,de==null)break e;_e=g({},_e,de);break e;case 2:hl=!0}}de=F.callback,de!==null&&(s.flags|=64,he&&(s.flags|=8192),he=w.callbacks,he===null?w.callbacks=[de]:he.push(de))}else he={lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ve===null?(le=ve=he,W=_e):ve=ve.next=he,P|=de;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;he=F,F=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);ve===null&&(W=_e),w.baseState=W,w.firstBaseUpdate=le,w.lastBaseUpdate=ve,_===null&&(w.shared.lanes=0),bl|=P,s.lanes=P,s.memoizedState=_e}}function tC(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function nC(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)tC(f[s],c)}var hd=z(null),Bg=z(0);function rC(s,c){s=mo,ue(Bg,s),ue(hd,c),mo=s|c.baseLanes}function cw(){ue(Bg,mo),ue(hd,hd.current)}function uw(){mo=Bg.current,Q(hd),Q(Bg)}var Bi=z(null),ba=null;function gl(s){var c=s.alternate;ue(Bn,Bn.current&1),ue(Bi,s),ba===null&&(c===null||hd.current!==null||c.memoizedState!==null)&&(ba=s)}function dw(s){ue(Bn,Bn.current),ue(Bi,s),ba===null&&(ba=s)}function iC(s){s.tag===22?(ue(Bn,Bn.current),ue(Bi,s),ba===null&&(ba=s)):yl()}function yl(){ue(Bn,Bn.current),ue(Bi,Bi.current)}function $i(s){Q(Bi),ba===s&&(ba=null),Q(Bn)}var Bn=z(0);function $g(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||y1(f)||v1(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ao=0,mt=null,Xt=null,Xn=null,Fg=!1,md=!1,qc=!1,qg=0,Ih=0,pd=null,aH=0;function Mn(){throw Error(r(321))}function fw(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!zi(s[f],c[f]))return!1;return!0}function hw(s,c,f,p,w,_){return ao=_,mt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=s===null||s.memoizedState===null?BC:Tw,qc=!1,_=f(p,w),qc=!1,md&&(_=sC(c,f,p,w)),aC(s),_}function aC(s){G.H=Dh;var c=Xt!==null&&Xt.next!==null;if(ao=0,Xn=Xt=mt=null,Fg=!1,Ih=0,pd=null,c)throw Error(r(300));s===null||Zn||(s=s.dependencies,s!==null&&Rg(s)&&(Zn=!0))}function sC(s,c,f,p){mt=s;var w=0;do{if(md&&(pd=null),Ih=0,md=!1,25<=w)throw Error(r(301));if(w+=1,Xn=Xt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}G.H=$C,_=c(f,p)}while(md);return _}function sH(){var s=G.H,c=s.useState()[0];return c=typeof c.then=="function"?Oh(c):c,s=s.useState()[0],(Xt!==null?Xt.memoizedState:null)!==s&&(mt.flags|=1024),c}function mw(){var s=qg!==0;return qg=0,s}function pw(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function gw(s){if(Fg){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Fg=!1}ao=0,Xn=Xt=mt=null,md=!1,Ih=qg=0,pd=null}function si(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?mt.memoizedState=Xn=s:Xn=Xn.next=s,Xn}function $n(){if(Xt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var c=Xn===null?mt.memoizedState:Xn.next;if(c!==null)Xn=c,Xt=s;else{if(s===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Xn===null?mt.memoizedState=Xn=s:Xn=Xn.next=s}return Xn}function Hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oh(s){var c=Ih;return Ih+=1,pd===null&&(pd=[]),s=Q2(pd,s,c),c=mt,(Xn===null?c.memoizedState:Xn.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?BC:Tw),s}function Kg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Oh(s);if(s.$$typeof===C)return Dr(s)}throw Error(r(438,String(s)))}function yw(s){var c=null,f=mt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var p=mt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=Hg(),mt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),p=0;p<s;p++)f[p]=L;return c.index++,f}function so(s,c){return typeof c=="function"?c(s):c}function Gg(s){var c=$n();return vw(c,Xt,s)}function vw(s,c,f){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var w=s.baseQueue,_=p.pending;if(_!==null){if(w!==null){var P=w.next;w.next=_.next,_.next=P}c.baseQueue=w=_,p.pending=null}if(_=s.baseState,w===null)s.memoizedState=_;else{c=w.next;var F=P=null,W=null,le=c,ve=!1;do{var _e=le.lane&-536870913;if(_e!==le.lane?(Et&_e)===_e:(ao&_e)===_e){var de=le.revertLane;if(de===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),_e===cd&&(ve=!0);else if((ao&de)===de){le=le.next,de===cd&&(ve=!0);continue}else _e={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(F=W=_e,P=_):W=W.next=_e,mt.lanes|=de,bl|=de;_e=le.action,qc&&f(_,_e),_=le.hasEagerState?le.eagerState:f(_,_e)}else de={lane:_e,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(F=W=de,P=_):W=W.next=de,mt.lanes|=_e,bl|=_e;le=le.next}while(le!==null&&le!==c);if(W===null?P=_:W.next=F,!zi(_,s.memoizedState)&&(Zn=!0,ve&&(f=ud,f!==null)))throw f;s.memoizedState=_,s.baseState=P,s.baseQueue=W,p.lastRenderedState=_}return w===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function xw(s){var c=$n(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var p=f.dispatch,w=f.pending,_=c.memoizedState;if(w!==null){f.pending=null;var P=w=w.next;do _=s(_,P.action),P=P.next;while(P!==w);zi(_,c.memoizedState)||(Zn=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),f.lastRenderedState=_}return[_,p]}function oC(s,c,f){var p=mt,w=$n(),_=Ct;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=c();var P=!zi((Xt||w).memoizedState,f);if(P&&(w.memoizedState=f,Zn=!0),w=w.queue,_w(uC.bind(null,p,w,s),[s]),w.getSnapshot!==c||P||Xn!==null&&Xn.memoizedState.tag&1){if(p.flags|=2048,gd(9,{destroy:void 0},cC.bind(null,p,w,f,c),null),sn===null)throw Error(r(349));_||(ao&127)!==0||lC(p,c,f)}return f}function lC(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=mt.updateQueue,c===null?(c=Hg(),mt.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function cC(s,c,f,p){c.value=f,c.getSnapshot=p,dC(c)&&fC(s)}function uC(s,c,f){return f(function(){dC(c)&&fC(s)})}function dC(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!zi(s,f)}catch{return!0}}function fC(s){var c=Dc(s,2);c!==null&&Ai(c,s,2)}function bw(s){var c=si();if(typeof s=="function"){var f=s;if(s=f(),qc){lt(!0);try{f()}finally{lt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:s},c}function hC(s,c,f,p){return s.baseState=f,vw(s,Xt,typeof p=="function"?p:so)}function oH(s,c,f,p,w){if(Qg(s))throw Error(r(485));if(s=c.action,s!==null){var _={payload:w,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};G.T!==null?f(!0):_.isTransition=!1,p(_),f=c.pending,f===null?(_.next=c.pending=_,mC(c,_)):(_.next=f.next,c.pending=f.next=_)}}function mC(s,c){var f=c.action,p=c.payload,w=s.state;if(c.isTransition){var _=G.T,P={};G.T=P;try{var F=f(w,p),W=G.S;W!==null&&W(P,F),pC(s,c,F)}catch(le){ww(s,c,le)}finally{_!==null&&P.types!==null&&(_.types=P.types),G.T=_}}else try{_=f(w,p),pC(s,c,_)}catch(le){ww(s,c,le)}}function pC(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){gC(s,c,p)},function(p){return ww(s,c,p)}):gC(s,c,f)}function gC(s,c,f){c.status="fulfilled",c.value=f,yC(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,mC(s,f)))}function ww(s,c,f){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=f,yC(c),c=c.next;while(c!==p)}s.action=null}function yC(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function vC(s,c){return c}function xC(s,c){if(Ct){var f=sn.formState;if(f!==null){e:{var p=mt;if(Ct){if(yn){t:{for(var w=yn,_=xa;w.nodeType!==8;){if(!_){w=null;break t}if(w=wa(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){yn=wa(w.nextSibling),p=w.data==="F!";break e}}dl(p)}p=!1}p&&(c=f[0])}}return f=si(),f.memoizedState=f.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vC,lastRenderedState:c},f.queue=p,f=VC.bind(null,mt,p),p.dispatch=f,p=bw(!1),_=Sw.bind(null,mt,!1,p.queue),p=si(),w={state:c,dispatch:null,action:s,pending:null},p.queue=w,f=oH.bind(null,mt,w,_,f),w.dispatch=f,p.memoizedState=s,[c,f,!1]}function bC(s){var c=$n();return wC(c,Xt,s)}function wC(s,c,f){if(c=vw(s,c,vC)[0],s=Gg(so)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Oh(c)}catch(P){throw P===dd?Lg:P}else p=c;c=$n();var w=c.queue,_=w.dispatch;return f!==c.memoizedState&&(mt.flags|=2048,gd(9,{destroy:void 0},lH.bind(null,w,f),null)),[p,_,s]}function lH(s,c){s.action=c}function _C(s){var c=$n(),f=Xt;if(f!==null)return wC(c,f,s);$n(),c=c.memoizedState,f=$n();var p=f.queue.dispatch;return f.memoizedState=s,[c,p,!1]}function gd(s,c,f,p){return s={tag:s,create:f,deps:p,inst:c,next:null},c=mt.updateQueue,c===null&&(c=Hg(),mt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(p=f.next,f.next=s,s.next=p,c.lastEffect=s),s}function jC(){return $n().memoizedState}function Wg(s,c,f,p){var w=si();mt.flags|=s,w.memoizedState=gd(1|c,{destroy:void 0},f,p===void 0?null:p)}function Yg(s,c,f,p){var w=$n();p=p===void 0?null:p;var _=w.memoizedState.inst;Xt!==null&&p!==null&&fw(p,Xt.memoizedState.deps)?w.memoizedState=gd(c,_,f,p):(mt.flags|=s,w.memoizedState=gd(1|c,_,f,p))}function EC(s,c){Wg(8390656,8,s,c)}function _w(s,c){Yg(2048,8,s,c)}function cH(s){mt.flags|=4;var c=mt.updateQueue;if(c===null)c=Hg(),mt.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function AC(s){var c=$n().memoizedState;return cH({ref:c,nextImpl:s}),function(){if((Vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function NC(s,c){return Yg(4,2,s,c)}function SC(s,c){return Yg(4,4,s,c)}function TC(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function kC(s,c,f){f=f!=null?f.concat([s]):null,Yg(4,4,TC.bind(null,c,s),f)}function jw(){}function CC(s,c){var f=$n();c=c===void 0?null:c;var p=f.memoizedState;return c!==null&&fw(c,p[1])?p[0]:(f.memoizedState=[s,c],s)}function PC(s,c){var f=$n();c=c===void 0?null:c;var p=f.memoizedState;if(c!==null&&fw(c,p[1]))return p[0];if(p=s(),qc){lt(!0);try{s()}finally{lt(!1)}}return f.memoizedState=[p,c],p}function Ew(s,c,f){return f===void 0||(ao&1073741824)!==0&&(Et&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=IP(),mt.lanes|=s,bl|=s,f)}function IC(s,c,f,p){return zi(f,c)?f:hd.current!==null?(s=Ew(s,f,p),zi(s,c)||(Zn=!0),s):(ao&42)===0||(ao&1073741824)!==0&&(Et&261930)===0?(Zn=!0,s.memoizedState=f):(s=IP(),mt.lanes|=s,bl|=s,c)}function OC(s,c,f,p,w){var _=X.p;X.p=_!==0&&8>_?_:8;var P=G.T,F={};G.T=F,Sw(s,!1,c,f);try{var W=w(),le=G.S;if(le!==null&&le(F,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ve=iH(W,p);Rh(s,c,ve,Hi(s))}else Rh(s,c,p,Hi(s))}catch(_e){Rh(s,c,{then:function(){},status:"rejected",reason:_e},Hi())}finally{X.p=_,P!==null&&F.types!==null&&(P.types=F.types),G.T=P}}function uH(){}function Aw(s,c,f,p){if(s.tag!==5)throw Error(r(476));var w=RC(s).queue;OC(s,w,c,se,f===null?uH:function(){return DC(s),f(p)})}function RC(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:se},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function DC(s){var c=RC(s);c.next===null&&(c=s.alternate.memoizedState),Rh(s,c.next.queue,{},Hi())}function Nw(){return Dr(Xh)}function MC(){return $n().memoizedState}function LC(){return $n().memoizedState}function dH(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=Hi();s=ml(f);var p=pl(c,s,f);p!==null&&(Ai(p,c,f),kh(p,c,f)),c={cache:tw()},s.payload=c;return}c=c.return}}function fH(s,c,f){var p=Hi();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Qg(s)?zC(c,f):(f=qb(s,c,f,p),f!==null&&(Ai(f,s,p),UC(f,c,p)))}function VC(s,c,f){var p=Hi();Rh(s,c,f,p)}function Rh(s,c,f,p){var w={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Qg(s))zC(c,w);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var P=c.lastRenderedState,F=_(P,f);if(w.hasEagerState=!0,w.eagerState=F,zi(F,P))return Cg(s,c,w,0),sn===null&&kg(),!1}catch{}finally{}if(f=qb(s,c,w,p),f!==null)return Ai(f,s,p),UC(f,c,p),!0}return!1}function Sw(s,c,f,p){if(p={lane:2,revertLane:a1(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Qg(s)){if(c)throw Error(r(479))}else c=qb(s,f,p,2),c!==null&&Ai(c,s,2)}function Qg(s){var c=s.alternate;return s===mt||c!==null&&c===mt}function zC(s,c){md=Fg=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function UC(s,c,f){if((f&4194048)!==0){var p=c.lanes;p&=s.pendingLanes,f|=p,c.lanes=f,oa(s,f)}}var Dh={readContext:Dr,use:Kg,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};Dh.useEffectEvent=Mn;var BC={readContext:Dr,use:Kg,useCallback:function(s,c){return si().memoizedState=[s,c===void 0?null:c],s},useContext:Dr,useEffect:EC,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,Wg(4194308,4,TC.bind(null,c,s),f)},useLayoutEffect:function(s,c){return Wg(4194308,4,s,c)},useInsertionEffect:function(s,c){Wg(4,2,s,c)},useMemo:function(s,c){var f=si();c=c===void 0?null:c;var p=s();if(qc){lt(!0);try{s()}finally{lt(!1)}}return f.memoizedState=[p,c],p},useReducer:function(s,c,f){var p=si();if(f!==void 0){var w=f(c);if(qc){lt(!0);try{f(c)}finally{lt(!1)}}}else w=c;return p.memoizedState=p.baseState=w,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:w},p.queue=s,s=s.dispatch=fH.bind(null,mt,s),[p.memoizedState,s]},useRef:function(s){var c=si();return s={current:s},c.memoizedState=s},useState:function(s){s=bw(s);var c=s.queue,f=VC.bind(null,mt,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:jw,useDeferredValue:function(s,c){var f=si();return Ew(f,s,c)},useTransition:function(){var s=bw(!1);return s=OC.bind(null,mt,s.queue,!0,!1),si().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var p=mt,w=si();if(Ct){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),sn===null)throw Error(r(349));(Et&127)!==0||lC(p,c,f)}w.memoizedState=f;var _={value:f,getSnapshot:c};return w.queue=_,EC(uC.bind(null,p,_,s),[s]),p.flags|=2048,gd(9,{destroy:void 0},cC.bind(null,p,_,f,c),null),f},useId:function(){var s=si(),c=sn.identifierPrefix;if(Ct){var f=Es,p=js;f=(p&~(1<<32-tt(p)-1)).toString(32)+f,c="_"+c+"R_"+f,f=qg++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=aH++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Nw,useFormState:xC,useActionState:xC,useOptimistic:function(s){var c=si();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Sw.bind(null,mt,!0,f),f.dispatch=c,[s,c]},useMemoCache:yw,useCacheRefresh:function(){return si().memoizedState=dH.bind(null,mt)},useEffectEvent:function(s){var c=si(),f={impl:s};return c.memoizedState=f,function(){if((Vt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Tw={readContext:Dr,use:Kg,useCallback:CC,useContext:Dr,useEffect:_w,useImperativeHandle:kC,useInsertionEffect:NC,useLayoutEffect:SC,useMemo:PC,useReducer:Gg,useRef:jC,useState:function(){return Gg(so)},useDebugValue:jw,useDeferredValue:function(s,c){var f=$n();return IC(f,Xt.memoizedState,s,c)},useTransition:function(){var s=Gg(so)[0],c=$n().memoizedState;return[typeof s=="boolean"?s:Oh(s),c]},useSyncExternalStore:oC,useId:MC,useHostTransitionStatus:Nw,useFormState:bC,useActionState:bC,useOptimistic:function(s,c){var f=$n();return hC(f,Xt,s,c)},useMemoCache:yw,useCacheRefresh:LC};Tw.useEffectEvent=AC;var $C={readContext:Dr,use:Kg,useCallback:CC,useContext:Dr,useEffect:_w,useImperativeHandle:kC,useInsertionEffect:NC,useLayoutEffect:SC,useMemo:PC,useReducer:xw,useRef:jC,useState:function(){return xw(so)},useDebugValue:jw,useDeferredValue:function(s,c){var f=$n();return Xt===null?Ew(f,s,c):IC(f,Xt.memoizedState,s,c)},useTransition:function(){var s=xw(so)[0],c=$n().memoizedState;return[typeof s=="boolean"?s:Oh(s),c]},useSyncExternalStore:oC,useId:MC,useHostTransitionStatus:Nw,useFormState:_C,useActionState:_C,useOptimistic:function(s,c){var f=$n();return Xt!==null?hC(f,Xt,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:yw,useCacheRefresh:LC};$C.useEffectEvent=AC;function kw(s,c,f,p){c=s.memoizedState,f=f(p,c),f=f==null?c:g({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Cw={enqueueSetState:function(s,c,f){s=s._reactInternals;var p=Hi(),w=ml(p);w.payload=c,f!=null&&(w.callback=f),c=pl(s,w,p),c!==null&&(Ai(c,s,p),kh(c,s,p))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var p=Hi(),w=ml(p);w.tag=1,w.payload=c,f!=null&&(w.callback=f),c=pl(s,w,p),c!==null&&(Ai(c,s,p),kh(c,s,p))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=Hi(),p=ml(f);p.tag=2,c!=null&&(p.callback=c),c=pl(s,p,f),c!==null&&(Ai(c,s,f),kh(c,s,f))}};function FC(s,c,f,p,w,_,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,P):c.prototype&&c.prototype.isPureReactComponent?!wh(f,p)||!wh(w,_):!0}function qC(s,c,f,p){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,p),c.state!==s&&Cw.enqueueReplaceState(c,c.state,null)}function Hc(s,c){var f=c;if("ref"in c){f={};for(var p in c)p!=="ref"&&(f[p]=c[p])}if(s=s.defaultProps){f===c&&(f=g({},f));for(var w in s)f[w]===void 0&&(f[w]=s[w])}return f}function HC(s){Tg(s)}function KC(s){console.error(s)}function GC(s){Tg(s)}function Xg(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function WC(s,c,f){try{var p=s.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Pw(s,c,f){return f=ml(f),f.tag=3,f.payload={element:null},f.callback=function(){Xg(s,c)},f}function YC(s){return s=ml(s),s.tag=3,s}function QC(s,c,f,p){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var _=p.value;s.payload=function(){return w(_)},s.callback=function(){WC(c,f,p)}}var P=f.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){WC(c,f,p),typeof w!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var F=p.stack;this.componentDidCatch(p.value,{componentStack:F!==null?F:""})})}function hH(s,c,f,p,w){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=f.alternate,c!==null&&ld(c,f,w,!0),f=Bi.current,f!==null){switch(f.tag){case 31:case 13:return ba===null?cy():f.alternate===null&&Ln===0&&(Ln=3),f.flags&=-257,f.flags|=65536,f.lanes=w,p===Vg?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([p]):c.add(p),n1(s,p,w)),!1;case 22:return f.flags|=65536,p===Vg?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([p]):f.add(p)),n1(s,p,w)),!1}throw Error(r(435,f.tag))}return n1(s,p,w),cy(),!1}if(Ct)return c=Bi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,p!==Qb&&(s=Error(r(422),{cause:p}),Eh(ga(s,f)))):(p!==Qb&&(c=Error(r(423),{cause:p}),Eh(ga(c,f))),s=s.current.alternate,s.flags|=65536,w&=-w,s.lanes|=w,p=ga(p,f),w=Pw(s.stateNode,p,w),ow(s,w),Ln!==4&&(Ln=2)),!1;var _=Error(r(520),{cause:p});if(_=ga(_,f),Fh===null?Fh=[_]:Fh.push(_),Ln!==4&&(Ln=2),c===null)return!0;p=ga(p,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=w&-w,f.lanes|=s,s=Pw(f.stateNode,p,s),ow(f,s),!1;case 1:if(c=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wl===null||!wl.has(_))))return f.flags|=65536,w&=-w,f.lanes|=w,w=YC(w),QC(w,s,f,p),ow(f,w),!1}f=f.return}while(f!==null);return!1}var Iw=Error(r(461)),Zn=!1;function Mr(s,c,f,p){c.child=s===null?eC(c,null,f,p):Fc(c,s.child,f,p)}function XC(s,c,f,p,w){f=f.render;var _=c.ref;if("ref"in p){var P={};for(var F in p)F!=="ref"&&(P[F]=p[F])}else P=p;return zc(c),p=hw(s,c,f,P,_,w),F=mw(),s!==null&&!Zn?(pw(s,c,w),oo(s,c,w)):(Ct&&F&&Wb(c),c.flags|=1,Mr(s,c,p,w),c.child)}function ZC(s,c,f,p,w){if(s===null){var _=f.type;return typeof _=="function"&&!Hb(_)&&_.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=_,JC(s,c,_,p,w)):(s=Ig(f.type,null,p,c,c.mode,w),s.ref=c.ref,s.return=c,c.child=s)}if(_=s.child,!Uw(s,w)){var P=_.memoizedProps;if(f=f.compare,f=f!==null?f:wh,f(P,p)&&s.ref===c.ref)return oo(s,c,w)}return c.flags|=1,s=to(_,p),s.ref=c.ref,s.return=c,c.child=s}function JC(s,c,f,p,w){if(s!==null){var _=s.memoizedProps;if(wh(_,p)&&s.ref===c.ref)if(Zn=!1,c.pendingProps=p=_,Uw(s,w))(s.flags&131072)!==0&&(Zn=!0);else return c.lanes=s.lanes,oo(s,c,w)}return Ow(s,c,f,p,w)}function eP(s,c,f,p){var w=p.children,_=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,s!==null){for(p=c.child=s.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~_}else p=0,c.child=null;return tP(s,c,_,f,p)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Mg(c,_!==null?_.cachePool:null),_!==null?rC(c,_):cw(),iC(c);else return p=c.lanes=536870912,tP(s,c,_!==null?_.baseLanes|f:f,f,p)}else _!==null?(Mg(c,_.cachePool),rC(c,_),yl(),c.memoizedState=null):(s!==null&&Mg(c,null),cw(),yl());return Mr(s,c,w,f),c.child}function Mh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function tP(s,c,f,p,w){var _=rw();return _=_===null?null:{parent:Qn._currentValue,pool:_},c.memoizedState={baseLanes:f,cachePool:_},s!==null&&Mg(c,null),cw(),iC(c),s!==null&&ld(s,c,p,!0),c.childLanes=w,null}function Zg(s,c){return c=ey({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function nP(s,c,f){return Fc(c,s.child,null,f),s=Zg(c,c.pendingProps),s.flags|=2,$i(c),c.memoizedState=null,s}function mH(s,c,f){var p=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Ct){if(p.mode==="hidden")return s=Zg(c,p),c.lanes=536870912,Mh(null,s);if(dw(c),(s=yn)?(s=mI(s,xa),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:cl!==null?{id:js,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},f=z2(s),f.return=c,c.child=f,Rr=c,yn=null)):s=null,s===null)throw dl(c);return c.lanes=536870912,null}return Zg(c,p)}var _=s.memoizedState;if(_!==null){var P=_.dehydrated;if(dw(c),w)if(c.flags&256)c.flags&=-257,c=nP(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Zn||ld(s,c,f,!1),w=(f&s.childLanes)!==0,Zn||w){if(p=sn,p!==null&&(P=qa(p,f),P!==0&&P!==_.retryLane))throw _.retryLane=P,Dc(s,P),Ai(p,s,P),Iw;cy(),c=nP(s,c,f)}else s=_.treeContext,yn=wa(P.nextSibling),Rr=c,Ct=!0,ul=null,xa=!1,s!==null&&$2(c,s),c=Zg(c,p),c.flags|=4096;return c}return s=to(s.child,{mode:p.mode,children:p.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Jg(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function Ow(s,c,f,p,w){return zc(c),f=hw(s,c,f,p,void 0,w),p=mw(),s!==null&&!Zn?(pw(s,c,w),oo(s,c,w)):(Ct&&p&&Wb(c),c.flags|=1,Mr(s,c,f,w),c.child)}function rP(s,c,f,p,w,_){return zc(c),c.updateQueue=null,f=sC(c,p,f,w),aC(s),p=mw(),s!==null&&!Zn?(pw(s,c,_),oo(s,c,_)):(Ct&&p&&Wb(c),c.flags|=1,Mr(s,c,f,_),c.child)}function iP(s,c,f,p,w){if(zc(c),c.stateNode===null){var _=id,P=f.contextType;typeof P=="object"&&P!==null&&(_=Dr(P)),_=new f(p,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Cw,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=p,_.state=c.memoizedState,_.refs={},aw(c),P=f.contextType,_.context=typeof P=="object"&&P!==null?Dr(P):id,_.state=c.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(kw(c,f,P,p),_.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&Cw.enqueueReplaceState(_,_.state,null),Ph(c,p,_,w),Ch(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(s===null){_=c.stateNode;var F=c.memoizedProps,W=Hc(f,F);_.props=W;var le=_.context,ve=f.contextType;P=id,typeof ve=="object"&&ve!==null&&(P=Dr(ve));var _e=f.getDerivedStateFromProps;ve=typeof _e=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=c.pendingProps!==F,ve||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||le!==P)&&qC(c,_,p,P),hl=!1;var de=c.memoizedState;_.state=de,Ph(c,p,_,w),Ch(),le=c.memoizedState,F||de!==le||hl?(typeof _e=="function"&&(kw(c,f,_e,p),le=c.memoizedState),(W=hl||FC(c,f,W,p,de,le,P))?(ve||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=le),_.props=p,_.state=le,_.context=P,p=W):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{_=c.stateNode,sw(s,c),P=c.memoizedProps,ve=Hc(f,P),_.props=ve,_e=c.pendingProps,de=_.context,le=f.contextType,W=id,typeof le=="object"&&le!==null&&(W=Dr(le)),F=f.getDerivedStateFromProps,(le=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==_e||de!==W)&&qC(c,_,p,W),hl=!1,de=c.memoizedState,_.state=de,Ph(c,p,_,w),Ch();var he=c.memoizedState;P!==_e||de!==he||hl||s!==null&&s.dependencies!==null&&Rg(s.dependencies)?(typeof F=="function"&&(kw(c,f,F,p),he=c.memoizedState),(ve=hl||FC(c,f,ve,p,de,he,W)||s!==null&&s.dependencies!==null&&Rg(s.dependencies))?(le||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,he,W),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,he,W)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=he),_.props=p,_.state=he,_.context=W,p=ve):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&de===s.memoizedState||(c.flags|=1024),p=!1)}return _=p,Jg(s,c),p=(c.flags&128)!==0,_||p?(_=c.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,s!==null&&p?(c.child=Fc(c,s.child,null,w),c.child=Fc(c,null,f,w)):Mr(s,c,f,w),c.memoizedState=_.state,s=c.child):s=oo(s,c,w),s}function aP(s,c,f,p){return Lc(),c.flags|=256,Mr(s,c,f,p),c.child}var Rw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dw(s){return{baseLanes:s,cachePool:W2()}}function Mw(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=qi),s}function sP(s,c,f){var p=c.pendingProps,w=!1,_=(c.flags&128)!==0,P;if((P=_)||(P=s!==null&&s.memoizedState===null?!1:(Bn.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,s===null){if(Ct){if(w?gl(c):yl(),(s=yn)?(s=mI(s,xa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:cl!==null?{id:js,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},f=z2(s),f.return=c,c.child=f,Rr=c,yn=null)):s=null,s===null)throw dl(c);return v1(s)?c.lanes=32:c.lanes=536870912,null}var F=p.children;return p=p.fallback,w?(yl(),w=c.mode,F=ey({mode:"hidden",children:F},w),p=Mc(p,w,f,null),F.return=c,p.return=c,F.sibling=p,c.child=F,p=c.child,p.memoizedState=Dw(f),p.childLanes=Mw(s,P,f),c.memoizedState=Rw,Mh(null,p)):(gl(c),Lw(c,F))}var W=s.memoizedState;if(W!==null&&(F=W.dehydrated,F!==null)){if(_)c.flags&256?(gl(c),c.flags&=-257,c=Vw(s,c,f)):c.memoizedState!==null?(yl(),c.child=s.child,c.flags|=128,c=null):(yl(),F=p.fallback,w=c.mode,p=ey({mode:"visible",children:p.children},w),F=Mc(F,w,f,null),F.flags|=2,p.return=c,F.return=c,p.sibling=F,c.child=p,Fc(c,s.child,null,f),p=c.child,p.memoizedState=Dw(f),p.childLanes=Mw(s,P,f),c.memoizedState=Rw,c=Mh(null,p));else if(gl(c),v1(F)){if(P=F.nextSibling&&F.nextSibling.dataset,P)var le=P.dgst;P=le,p=Error(r(419)),p.stack="",p.digest=P,Eh({value:p,source:null,stack:null}),c=Vw(s,c,f)}else if(Zn||ld(s,c,f,!1),P=(f&s.childLanes)!==0,Zn||P){if(P=sn,P!==null&&(p=qa(P,f),p!==0&&p!==W.retryLane))throw W.retryLane=p,Dc(s,p),Ai(P,s,p),Iw;y1(F)||cy(),c=Vw(s,c,f)}else y1(F)?(c.flags|=192,c.child=s.child,c=null):(s=W.treeContext,yn=wa(F.nextSibling),Rr=c,Ct=!0,ul=null,xa=!1,s!==null&&$2(c,s),c=Lw(c,p.children),c.flags|=4096);return c}return w?(yl(),F=p.fallback,w=c.mode,W=s.child,le=W.sibling,p=to(W,{mode:"hidden",children:p.children}),p.subtreeFlags=W.subtreeFlags&65011712,le!==null?F=to(le,F):(F=Mc(F,w,f,null),F.flags|=2),F.return=c,p.return=c,p.sibling=F,c.child=p,Mh(null,p),p=c.child,F=s.child.memoizedState,F===null?F=Dw(f):(w=F.cachePool,w!==null?(W=Qn._currentValue,w=w.parent!==W?{parent:W,pool:W}:w):w=W2(),F={baseLanes:F.baseLanes|f,cachePool:w}),p.memoizedState=F,p.childLanes=Mw(s,P,f),c.memoizedState=Rw,Mh(s.child,p)):(gl(c),f=s.child,s=f.sibling,f=to(f,{mode:"visible",children:p.children}),f.return=c,f.sibling=null,s!==null&&(P=c.deletions,P===null?(c.deletions=[s],c.flags|=16):P.push(s)),c.child=f,c.memoizedState=null,f)}function Lw(s,c){return c=ey({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function ey(s,c){return s=Ui(22,s,null,c),s.lanes=0,s}function Vw(s,c,f){return Fc(c,s.child,null,f),s=Lw(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function oP(s,c,f){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c),Jb(s.return,c,f)}function zw(s,c,f,p,w,_){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:w,treeForkCount:_}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=f,P.tailMode=w,P.treeForkCount=_)}function lP(s,c,f){var p=c.pendingProps,w=p.revealOrder,_=p.tail;p=p.children;var P=Bn.current,F=(P&2)!==0;if(F?(P=P&1|2,c.flags|=128):P&=1,ue(Bn,P),Mr(s,c,p,f),p=Ct?jh:0,!F&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&oP(s,f,c);else if(s.tag===19)oP(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(w){case"forwards":for(f=c.child,w=null;f!==null;)s=f.alternate,s!==null&&$g(s)===null&&(w=f),f=f.sibling;f=w,f===null?(w=c.child,c.child=null):(w=f.sibling,f.sibling=null),zw(c,!1,w,f,_,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=c.child,c.child=null;w!==null;){if(s=w.alternate,s!==null&&$g(s)===null){c.child=w;break}s=w.sibling,w.sibling=f,f=w,w=s}zw(c,!0,f,null,_,p);break;case"together":zw(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function oo(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),bl|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(ld(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,f=to(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=to(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function Uw(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&Rg(s)))}function pH(s,c,f){switch(c.tag){case 3:Le(c,c.stateNode.containerInfo),fl(c,Qn,s.memoizedState.cache),Lc();break;case 27:case 5:Re(c);break;case 4:Le(c,c.stateNode.containerInfo);break;case 10:fl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,dw(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(gl(c),c.flags|=128,null):(f&c.child.childLanes)!==0?sP(s,c,f):(gl(c),s=oo(s,c,f),s!==null?s.sibling:null);gl(c);break;case 19:var w=(s.flags&128)!==0;if(p=(f&c.childLanes)!==0,p||(ld(s,c,f,!1),p=(f&c.childLanes)!==0),w){if(p)return lP(s,c,f);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ue(Bn,Bn.current),p)break;return null;case 22:return c.lanes=0,eP(s,c,f,c.pendingProps);case 24:fl(c,Qn,s.memoizedState.cache)}return oo(s,c,f)}function cP(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)Zn=!0;else{if(!Uw(s,f)&&(c.flags&128)===0)return Zn=!1,pH(s,c,f);Zn=(s.flags&131072)!==0}else Zn=!1,Ct&&(c.flags&1048576)!==0&&B2(c,jh,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(s=Bc(c.elementType),c.type=s,typeof s=="function")Hb(s)?(p=Hc(s,p),c.tag=1,c=iP(null,c,s,p,f)):(c.tag=0,c=Ow(null,c,s,p,f));else{if(s!=null){var w=s.$$typeof;if(w===U){c.tag=11,c=XC(null,c,s,p,f);break e}else if(w===N){c.tag=14,c=ZC(null,c,s,p,f);break e}}throw c=ce(s)||s,Error(r(306,c,""))}}return c;case 0:return Ow(s,c,c.type,c.pendingProps,f);case 1:return p=c.type,w=Hc(p,c.pendingProps),iP(s,c,p,w,f);case 3:e:{if(Le(c,c.stateNode.containerInfo),s===null)throw Error(r(387));p=c.pendingProps;var _=c.memoizedState;w=_.element,sw(s,c),Ph(c,p,null,f);var P=c.memoizedState;if(p=P.cache,fl(c,Qn,p),p!==_.cache&&ew(c,[Qn],f,!0),Ch(),p=P.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=aP(s,c,p,f);break e}else if(p!==w){w=ga(Error(r(424)),c),Eh(w),c=aP(s,c,p,f);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yn=wa(s.firstChild),Rr=c,Ct=!0,ul=null,xa=!0,f=eC(c,null,p,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Lc(),p===w){c=oo(s,c,f);break e}Mr(s,c,p,f)}c=c.child}return c;case 26:return Jg(s,c),s===null?(f=bI(c.type,null,c.pendingProps,null))?c.memoizedState=f:Ct||(f=c.type,s=c.pendingProps,p=gy(Ne.current).createElement(f),p[gn]=c,p[kt]=s,Lr(p,f,s),R(p),c.stateNode=p):c.memoizedState=bI(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Re(c),s===null&&Ct&&(p=c.stateNode=yI(c.type,c.pendingProps,Ne.current),Rr=c,xa=!0,w=yn,Al(c.type)?(x1=w,yn=wa(p.firstChild)):yn=w),Mr(s,c,c.pendingProps.children,f),Jg(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Ct&&((w=p=yn)&&(p=HH(p,c.type,c.pendingProps,xa),p!==null?(c.stateNode=p,Rr=c,yn=wa(p.firstChild),xa=!1,w=!0):w=!1),w||dl(c)),Re(c),w=c.type,_=c.pendingProps,P=s!==null?s.memoizedProps:null,p=_.children,m1(w,_)?p=null:P!==null&&m1(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=hw(s,c,sH,null,null,f),Xh._currentValue=w),Jg(s,c),Mr(s,c,p,f),c.child;case 6:return s===null&&Ct&&((s=f=yn)&&(f=KH(f,c.pendingProps,xa),f!==null?(c.stateNode=f,Rr=c,yn=null,s=!0):s=!1),s||dl(c)),null;case 13:return sP(s,c,f);case 4:return Le(c,c.stateNode.containerInfo),p=c.pendingProps,s===null?c.child=Fc(c,null,p,f):Mr(s,c,p,f),c.child;case 11:return XC(s,c,c.type,c.pendingProps,f);case 7:return Mr(s,c,c.pendingProps,f),c.child;case 8:return Mr(s,c,c.pendingProps.children,f),c.child;case 12:return Mr(s,c,c.pendingProps.children,f),c.child;case 10:return p=c.pendingProps,fl(c,c.type,p.value),Mr(s,c,p.children,f),c.child;case 9:return w=c.type._context,p=c.pendingProps.children,zc(c),w=Dr(w),p=p(w),c.flags|=1,Mr(s,c,p,f),c.child;case 14:return ZC(s,c,c.type,c.pendingProps,f);case 15:return JC(s,c,c.type,c.pendingProps,f);case 19:return lP(s,c,f);case 31:return mH(s,c,f);case 22:return eP(s,c,f,c.pendingProps);case 24:return zc(c),p=Dr(Qn),s===null?(w=rw(),w===null&&(w=sn,_=tw(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=f),w=_),c.memoizedState={parent:p,cache:w},aw(c),fl(c,Qn,w)):((s.lanes&f)!==0&&(sw(s,c),Ph(c,null,null,f),Ch()),w=s.memoizedState,_=c.memoizedState,w.parent!==p?(w={parent:p,cache:p},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),fl(c,Qn,p)):(p=_.cache,fl(c,Qn,p),p!==w.cache&&ew(c,[Qn],f,!0))),Mr(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function lo(s){s.flags|=4}function Bw(s,c,f,p,w){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(w&335544128)===w)if(s.stateNode.complete)s.flags|=8192;else if(MP())s.flags|=8192;else throw $c=Vg,iw}else s.flags&=-16777217}function uP(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!AI(c))if(MP())s.flags|=8192;else throw $c=Vg,iw}function ty(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Tn():536870912,s.lanes|=c,bd|=c)}function Lh(s,c){if(!Ct)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function vn(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,p=0;if(c)for(var w=s.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=p,s.childLanes=f,c}function gH(s,c,f){var p=c.pendingProps;switch(Yb(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(c),null;case 1:return vn(c),null;case 3:return f=c.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),io(Qn),ae(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(od(c)?lo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xb())),vn(c),null;case 26:var w=c.type,_=c.memoizedState;return s===null?(lo(c),_!==null?(vn(c),uP(c,_)):(vn(c),Bw(c,w,null,p,f))):_?_!==s.memoizedState?(lo(c),vn(c),uP(c,_)):(vn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==p&&lo(c),vn(c),Bw(c,w,s,p,f)),null;case 27:if(Ie(c),f=Ne.current,w=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&lo(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return vn(c),null}s=ge.current,od(c)?F2(c):(s=yI(w,p,f),c.stateNode=s,lo(c))}return vn(c),null;case 5:if(Ie(c),w=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&lo(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return vn(c),null}if(_=ge.current,od(c))F2(c);else{var P=gy(Ne.current);switch(_){case 1:_=P.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=P.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=P.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?P.createElement(w,{is:p.is}):P.createElement(w)}}_[gn]=c,_[kt]=p;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)_.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=_;e:switch(Lr(_,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&lo(c)}}return vn(c),Bw(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==p&&lo(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(s=Ne.current,od(c)){if(s=c.stateNode,f=c.memoizedProps,p=null,w=Rr,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}s[gn]=c,s=!!(s.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||sI(s.nodeValue,f)),s||dl(c,!0)}else s=gy(s).createTextNode(p),s[gn]=c,c.stateNode=s}return vn(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(p=od(c),f!==null){if(s===null){if(!p)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[gn]=c}else Lc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;vn(c),s=!1}else f=Xb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?($i(c),c):($i(c),null);if((c.flags&128)!==0)throw Error(r(558))}return vn(c),null;case 13:if(p=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(w=od(c),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[gn]=c}else Lc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;vn(c),w=!1}else w=Xb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?($i(c),c):($i(c),null)}return $i(c),(c.flags&128)!==0?(c.lanes=f,c):(f=p!==null,s=s!==null&&s.memoizedState!==null,f&&(p=c.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==w&&(p.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),ty(c,c.updateQueue),vn(c),null);case 4:return ae(),s===null&&c1(c.stateNode.containerInfo),vn(c),null;case 10:return io(c.type),vn(c),null;case 19:if(Q(Bn),p=c.memoizedState,p===null)return vn(c),null;if(w=(c.flags&128)!==0,_=p.rendering,_===null)if(w)Lh(p,!1);else{if(Ln!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(_=$g(s),_!==null){for(c.flags|=128,Lh(p,!1),s=_.updateQueue,c.updateQueue=s,ty(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)V2(f,s),f=f.sibling;return ue(Bn,Bn.current&1|2),Ct&&no(c,p.treeForkCount),c.child}s=s.sibling}p.tail!==null&&Sn()>sy&&(c.flags|=128,w=!0,Lh(p,!1),c.lanes=4194304)}else{if(!w)if(s=$g(_),s!==null){if(c.flags|=128,w=!0,s=s.updateQueue,c.updateQueue=s,ty(c,s),Lh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ct)return vn(c),null}else 2*Sn()-p.renderingStartTime>sy&&f!==536870912&&(c.flags|=128,w=!0,Lh(p,!1),c.lanes=4194304);p.isBackwards?(_.sibling=c.child,c.child=_):(s=p.last,s!==null?s.sibling=_:c.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Sn(),s.sibling=null,f=Bn.current,ue(Bn,w?f&1|2:f&1),Ct&&no(c,p.treeForkCount),s):(vn(c),null);case 22:case 23:return $i(c),uw(),p=c.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(f&536870912)!==0&&(c.flags&128)===0&&(vn(c),c.subtreeFlags&6&&(c.flags|=8192)):vn(c),f=c.updateQueue,f!==null&&ty(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048),s!==null&&Q(Uc),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),io(Qn),vn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function yH(s,c){switch(Yb(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return io(Qn),ae(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ie(c),null;case 31:if(c.memoizedState!==null){if($i(c),c.alternate===null)throw Error(r(340));Lc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if($i(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Lc()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Q(Bn),null;case 4:return ae(),null;case 10:return io(c.type),null;case 22:case 23:return $i(c),uw(),s!==null&&Q(Uc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return io(Qn),null;case 25:return null;default:return null}}function dP(s,c){switch(Yb(c),c.tag){case 3:io(Qn),ae();break;case 26:case 27:case 5:Ie(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&$i(c);break;case 13:$i(c);break;case 19:Q(Bn);break;case 10:io(c.type);break;case 22:case 23:$i(c),uw(),s!==null&&Q(Uc);break;case 24:io(Qn)}}function Vh(s,c){try{var f=c.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var w=p.next;f=w;do{if((f.tag&s)===s){p=void 0;var _=f.create,P=f.inst;p=_(),P.destroy=p}f=f.next}while(f!==w)}}catch(F){Gt(c,c.return,F)}}function vl(s,c,f){try{var p=c.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var _=w.next;p=_;do{if((p.tag&s)===s){var P=p.inst,F=P.destroy;if(F!==void 0){P.destroy=void 0,w=c;var W=f,le=F;try{le()}catch(ve){Gt(w,W,ve)}}}p=p.next}while(p!==_)}}catch(ve){Gt(c,c.return,ve)}}function fP(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{nC(c,f)}catch(p){Gt(s,s.return,p)}}}function hP(s,c,f){f.props=Hc(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(p){Gt(s,c,p)}}function zh(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof f=="function"?s.refCleanup=f(p):f.current=p}}catch(w){Gt(s,c,w)}}function As(s,c){var f=s.ref,p=s.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(w){Gt(s,c,w)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){Gt(s,c,w)}else f.current=null}function mP(s){var c=s.type,f=s.memoizedProps,p=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(w){Gt(s,s.return,w)}}function $w(s,c,f){try{var p=s.stateNode;zH(p,s.type,f,c),p[kt]=c}catch(w){Gt(s,s.return,w)}}function pP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Al(s.type)||s.tag===4}function Fw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Al(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qw(s,c,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Ka));else if(p!==4&&(p===27&&Al(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(qw(s,c,f),s=s.sibling;s!==null;)qw(s,c,f),s=s.sibling}function ny(s,c,f){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(p!==4&&(p===27&&Al(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(ny(s,c,f),s=s.sibling;s!==null;)ny(s,c,f),s=s.sibling}function gP(s){var c=s.stateNode,f=s.memoizedProps;try{for(var p=s.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);Lr(c,p,f),c[gn]=s,c[kt]=f}catch(_){Gt(s,s.return,_)}}var co=!1,Jn=!1,Hw=!1,yP=typeof WeakSet=="function"?WeakSet:Set,vr=null;function vH(s,c){if(s=s.containerInfo,f1=jy,s=k2(s),Vb(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var w=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var P=0,F=-1,W=-1,le=0,ve=0,_e=s,de=null;t:for(;;){for(var he;_e!==f||w!==0&&_e.nodeType!==3||(F=P+w),_e!==_||p!==0&&_e.nodeType!==3||(W=P+p),_e.nodeType===3&&(P+=_e.nodeValue.length),(he=_e.firstChild)!==null;)de=_e,_e=he;for(;;){if(_e===s)break t;if(de===f&&++le===w&&(F=P),de===_&&++ve===p&&(W=P),(he=_e.nextSibling)!==null)break;_e=de,de=_e.parentNode}_e=he}f=F===-1||W===-1?null:{start:F,end:W}}else f=null}f=f||{start:0,end:0}}else f=null;for(h1={focusedElem:s,selectionRange:f},jy=!1,vr=c;vr!==null;)if(c=vr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,vr=s;else for(;vr!==null;){switch(c=vr,_=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)w=s[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,f=c,w=_.memoizedProps,_=_.memoizedState,p=f.stateNode;try{var Be=Hc(f.type,w);s=p.getSnapshotBeforeUpdate(Be,_),p.__reactInternalSnapshotBeforeUpdate=s}catch(st){Gt(f,f.return,st)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)g1(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":g1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,vr=s;break}vr=c.return}}function vP(s,c,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:fo(s,f),p&4&&Vh(5,f);break;case 1:if(fo(s,f),p&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(P){Gt(f,f.return,P)}else{var w=Hc(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(w,c,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Gt(f,f.return,P)}}p&64&&fP(f),p&512&&zh(f,f.return);break;case 3:if(fo(s,f),p&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{nC(s,c)}catch(P){Gt(f,f.return,P)}}break;case 27:c===null&&p&4&&gP(f);case 26:case 5:fo(s,f),c===null&&p&4&&mP(f),p&512&&zh(f,f.return);break;case 12:fo(s,f);break;case 31:fo(s,f),p&4&&wP(s,f);break;case 13:fo(s,f),p&4&&_P(s,f),p&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=SH.bind(null,f),GH(s,f))));break;case 22:if(p=f.memoizedState!==null||co,!p){c=c!==null&&c.memoizedState!==null||Jn,w=co;var _=Jn;co=p,(Jn=c)&&!_?ho(s,f,(f.subtreeFlags&8772)!==0):fo(s,f),co=w,Jn=_}break;case 30:break;default:fo(s,f)}}function xP(s){var c=s.alternate;c!==null&&(s.alternate=null,xP(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Jo(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var wn=null,wi=!1;function uo(s,c,f){for(f=f.child;f!==null;)bP(s,c,f),f=f.sibling}function bP(s,c,f){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Se,f)}catch{}switch(f.tag){case 26:Jn||As(f,c),uo(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Jn||As(f,c);var p=wn,w=wi;Al(f.type)&&(wn=f.stateNode,wi=!1),uo(s,c,f),Wh(f.stateNode),wn=p,wi=w;break;case 5:Jn||As(f,c);case 6:if(p=wn,w=wi,wn=null,uo(s,c,f),wn=p,wi=w,wn!==null)if(wi)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(f.stateNode)}catch(_){Gt(f,c,_)}else try{wn.removeChild(f.stateNode)}catch(_){Gt(f,c,_)}break;case 18:wn!==null&&(wi?(s=wn,fI(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),Td(s)):fI(wn,f.stateNode));break;case 4:p=wn,w=wi,wn=f.stateNode.containerInfo,wi=!0,uo(s,c,f),wn=p,wi=w;break;case 0:case 11:case 14:case 15:vl(2,f,c),Jn||vl(4,f,c),uo(s,c,f);break;case 1:Jn||(As(f,c),p=f.stateNode,typeof p.componentWillUnmount=="function"&&hP(f,c,p)),uo(s,c,f);break;case 21:uo(s,c,f);break;case 22:Jn=(p=Jn)||f.memoizedState!==null,uo(s,c,f),Jn=p;break;default:uo(s,c,f)}}function wP(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Td(s)}catch(f){Gt(c,c.return,f)}}}function _P(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Td(s)}catch(f){Gt(c,c.return,f)}}function xH(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new yP),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new yP),c;default:throw Error(r(435,s.tag))}}function ry(s,c){var f=xH(s);c.forEach(function(p){if(!f.has(p)){f.add(p);var w=TH.bind(null,s,p);p.then(w,w)}})}function _i(s,c){var f=c.deletions;if(f!==null)for(var p=0;p<f.length;p++){var w=f[p],_=s,P=c,F=P;e:for(;F!==null;){switch(F.tag){case 27:if(Al(F.type)){wn=F.stateNode,wi=!1;break e}break;case 5:wn=F.stateNode,wi=!1;break e;case 3:case 4:wn=F.stateNode.containerInfo,wi=!0;break e}F=F.return}if(wn===null)throw Error(r(160));bP(_,P,w),wn=null,wi=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)jP(c,s),c=c.sibling}var Za=null;function jP(s,c){var f=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:_i(c,s),ji(s),p&4&&(vl(3,s,s.return),Vh(3,s),vl(5,s,s.return));break;case 1:_i(c,s),ji(s),p&512&&(Jn||f===null||As(f,f.return)),p&64&&co&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var w=Za;if(_i(c,s),ji(s),p&512&&(Jn||f===null||As(f,f.return)),p&4){var _=f!==null?f.memoizedState:null;if(p=s.memoizedState,f===null)if(p===null)if(s.stateNode===null){e:{p=s.type,f=s.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":_=w.getElementsByTagName("title")[0],(!_||_[ca]||_[gn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(p),w.head.insertBefore(_,w.querySelector("head > title"))),Lr(_,p,f),_[gn]=s,R(_),p=_;break e;case"link":var P=jI("link","href",w).get(p+(f.href||""));if(P){for(var F=0;F<P.length;F++)if(_=P[F],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){P.splice(F,1);break t}}_=w.createElement(p),Lr(_,p,f),w.head.appendChild(_);break;case"meta":if(P=jI("meta","content",w).get(p+(f.content||""))){for(F=0;F<P.length;F++)if(_=P[F],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){P.splice(F,1);break t}}_=w.createElement(p),Lr(_,p,f),w.head.appendChild(_);break;default:throw Error(r(468,p))}_[gn]=s,R(_),p=_}s.stateNode=p}else EI(w,s.type,s.stateNode);else s.stateNode=_I(w,p,s.memoizedProps);else _!==p?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,p===null?EI(w,s.type,s.stateNode):_I(w,p,s.memoizedProps)):p===null&&s.stateNode!==null&&$w(s,s.memoizedProps,f.memoizedProps)}break;case 27:_i(c,s),ji(s),p&512&&(Jn||f===null||As(f,f.return)),f!==null&&p&4&&$w(s,s.memoizedProps,f.memoizedProps);break;case 5:if(_i(c,s),ji(s),p&512&&(Jn||f===null||As(f,f.return)),s.flags&32){w=s.stateNode;try{bi(w,"")}catch(Be){Gt(s,s.return,Be)}}p&4&&s.stateNode!=null&&(w=s.memoizedProps,$w(s,w,f!==null?f.memoizedProps:w)),p&1024&&(Hw=!0);break;case 6:if(_i(c,s),ji(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,f=s.stateNode;try{f.nodeValue=p}catch(Be){Gt(s,s.return,Be)}}break;case 3:if(xy=null,w=Za,Za=yy(c.containerInfo),_i(c,s),Za=w,ji(s),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Td(c.containerInfo)}catch(Be){Gt(s,s.return,Be)}Hw&&(Hw=!1,EP(s));break;case 4:p=Za,Za=yy(s.stateNode.containerInfo),_i(c,s),ji(s),Za=p;break;case 12:_i(c,s),ji(s);break;case 31:_i(c,s),ji(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,ry(s,p)));break;case 13:_i(c,s),ji(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ay=Sn()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,ry(s,p)));break;case 22:w=s.memoizedState!==null;var W=f!==null&&f.memoizedState!==null,le=co,ve=Jn;if(co=le||w,Jn=ve||W,_i(c,s),Jn=ve,co=le,ji(s),p&8192)e:for(c=s.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(f===null||W||co||Jn||Kc(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){W=f=c;try{if(_=W.stateNode,w)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{F=W.stateNode;var _e=W.memoizedProps.style,de=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;F.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Be){Gt(W,W.return,Be)}}}else if(c.tag===6){if(f===null){W=c;try{W.stateNode.nodeValue=w?"":W.memoizedProps}catch(Be){Gt(W,W.return,Be)}}}else if(c.tag===18){if(f===null){W=c;try{var he=W.stateNode;w?hI(he,!0):hI(W.stateNode,!1)}catch(Be){Gt(W,W.return,Be)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=s.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,ry(s,f))));break;case 19:_i(c,s),ji(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,ry(s,p)));break;case 30:break;case 21:break;default:_i(c,s),ji(s)}}function ji(s){var c=s.flags;if(c&2){try{for(var f,p=s.return;p!==null;){if(pP(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,_=Fw(s);ny(s,_,w);break;case 5:var P=f.stateNode;f.flags&32&&(bi(P,""),f.flags&=-33);var F=Fw(s);ny(s,F,P);break;case 3:case 4:var W=f.stateNode.containerInfo,le=Fw(s);qw(s,le,W);break;default:throw Error(r(161))}}catch(ve){Gt(s,s.return,ve)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function EP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;EP(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function fo(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)vP(s,c.alternate,c),c=c.sibling}function Kc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:vl(4,c,c.return),Kc(c);break;case 1:As(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&hP(c,c.return,f),Kc(c);break;case 27:Wh(c.stateNode);case 26:case 5:As(c,c.return),Kc(c);break;case 22:c.memoizedState===null&&Kc(c);break;case 30:Kc(c);break;default:Kc(c)}s=s.sibling}}function ho(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,w=s,_=c,P=_.flags;switch(_.tag){case 0:case 11:case 15:ho(w,_,f),Vh(4,_);break;case 1:if(ho(w,_,f),p=_,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(le){Gt(p,p.return,le)}if(p=_,w=p.updateQueue,w!==null){var F=p.stateNode;try{var W=w.shared.hiddenCallbacks;if(W!==null)for(w.shared.hiddenCallbacks=null,w=0;w<W.length;w++)tC(W[w],F)}catch(le){Gt(p,p.return,le)}}f&&P&64&&fP(_),zh(_,_.return);break;case 27:gP(_);case 26:case 5:ho(w,_,f),f&&p===null&&P&4&&mP(_),zh(_,_.return);break;case 12:ho(w,_,f);break;case 31:ho(w,_,f),f&&P&4&&wP(w,_);break;case 13:ho(w,_,f),f&&P&4&&_P(w,_);break;case 22:_.memoizedState===null&&ho(w,_,f),zh(_,_.return);break;case 30:break;default:ho(w,_,f)}c=c.sibling}}function Kw(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Ah(f))}function Gw(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Ah(s))}function Ja(s,c,f,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)AP(s,c,f,p),c=c.sibling}function AP(s,c,f,p){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Ja(s,c,f,p),w&2048&&Vh(9,c);break;case 1:Ja(s,c,f,p);break;case 3:Ja(s,c,f,p),w&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Ah(s)));break;case 12:if(w&2048){Ja(s,c,f,p),s=c.stateNode;try{var _=c.memoizedProps,P=_.id,F=_.onPostCommit;typeof F=="function"&&F(P,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(W){Gt(c,c.return,W)}}else Ja(s,c,f,p);break;case 31:Ja(s,c,f,p);break;case 13:Ja(s,c,f,p);break;case 23:break;case 22:_=c.stateNode,P=c.alternate,c.memoizedState!==null?_._visibility&2?Ja(s,c,f,p):Uh(s,c):_._visibility&2?Ja(s,c,f,p):(_._visibility|=2,yd(s,c,f,p,(c.subtreeFlags&10256)!==0||!1)),w&2048&&Kw(P,c);break;case 24:Ja(s,c,f,p),w&2048&&Gw(c.alternate,c);break;default:Ja(s,c,f,p)}}function yd(s,c,f,p,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=s,P=c,F=f,W=p,le=P.flags;switch(P.tag){case 0:case 11:case 15:yd(_,P,F,W,w),Vh(8,P);break;case 23:break;case 22:var ve=P.stateNode;P.memoizedState!==null?ve._visibility&2?yd(_,P,F,W,w):Uh(_,P):(ve._visibility|=2,yd(_,P,F,W,w)),w&&le&2048&&Kw(P.alternate,P);break;case 24:yd(_,P,F,W,w),w&&le&2048&&Gw(P.alternate,P);break;default:yd(_,P,F,W,w)}c=c.sibling}}function Uh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,p=c,w=p.flags;switch(p.tag){case 22:Uh(f,p),w&2048&&Kw(p.alternate,p);break;case 24:Uh(f,p),w&2048&&Gw(p.alternate,p);break;default:Uh(f,p)}c=c.sibling}}var Bh=8192;function vd(s,c,f){if(s.subtreeFlags&Bh)for(s=s.child;s!==null;)NP(s,c,f),s=s.sibling}function NP(s,c,f){switch(s.tag){case 26:vd(s,c,f),s.flags&Bh&&s.memoizedState!==null&&aK(f,Za,s.memoizedState,s.memoizedProps);break;case 5:vd(s,c,f);break;case 3:case 4:var p=Za;Za=yy(s.stateNode.containerInfo),vd(s,c,f),Za=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Bh,Bh=16777216,vd(s,c,f),Bh=p):vd(s,c,f));break;default:vd(s,c,f)}}function SP(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function $h(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];vr=p,kP(p,s)}SP(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)TP(s),s=s.sibling}function TP(s){switch(s.tag){case 0:case 11:case 15:$h(s),s.flags&2048&&vl(9,s,s.return);break;case 3:$h(s);break;case 12:$h(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,iy(s)):$h(s);break;default:$h(s)}}function iy(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];vr=p,kP(p,s)}SP(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:vl(8,c,c.return),iy(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,iy(c));break;default:iy(c)}s=s.sibling}}function kP(s,c){for(;vr!==null;){var f=vr;switch(f.tag){case 0:case 11:case 15:vl(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ah(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,vr=p;else e:for(f=s;vr!==null;){p=vr;var w=p.sibling,_=p.return;if(xP(p),p===f){vr=null;break e}if(w!==null){w.return=_,vr=w;break e}vr=_}}}var bH={getCacheForType:function(s){var c=Dr(Qn),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return Dr(Qn).controller.signal}},wH=typeof WeakMap=="function"?WeakMap:Map,Vt=0,sn=null,_t=null,Et=0,Kt=0,Fi=null,xl=!1,xd=!1,Ww=!1,mo=0,Ln=0,bl=0,Gc=0,Yw=0,qi=0,bd=0,Fh=null,Ei=null,Qw=!1,ay=0,CP=0,sy=1/0,oy=null,wl=null,lr=0,_l=null,wd=null,po=0,Xw=0,Zw=null,PP=null,qh=0,Jw=null;function Hi(){return(Vt&2)!==0&&Et!==0?Et&-Et:G.T!==null?a1():la()}function IP(){if(qi===0)if((Et&536870912)===0||Ct){var s=Yt;Yt<<=1,(Yt&3932160)===0&&(Yt=262144),qi=s}else qi=536870912;return s=Bi.current,s!==null&&(s.flags|=32),qi}function Ai(s,c,f){(s===sn&&(Kt===2||Kt===9)||s.cancelPendingCommit!==null)&&(_d(s,0),jl(s,Et,qi,!1)),zn(s,f),((Vt&2)===0||s!==sn)&&(s===sn&&((Vt&2)===0&&(Gc|=f),Ln===4&&jl(s,Et,qi,!1)),Ns(s))}function OP(s,c,f){if((Vt&6)!==0)throw Error(r(327));var p=!f&&(c&127)===0&&(c&s.expiredLanes)===0||Dn(s,c),w=p?EH(s,c):t1(s,c,!0),_=p;do{if(w===0){xd&&!p&&jl(s,c,0,!1);break}else{if(f=s.current.alternate,_&&!_H(f)){w=t1(s,c,!1),_=!1;continue}if(w===2){if(_=c,s.errorRecoveryDisabledLanes&_)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var F=s;w=Fh;var W=F.current.memoizedState.isDehydrated;if(W&&(_d(F,P).flags|=256),P=t1(F,P,!1),P!==2){if(Ww&&!W){F.errorRecoveryDisabledLanes|=_,Gc|=_,w=4;break e}_=Ei,Ei=w,_!==null&&(Ei===null?Ei=_:Ei.push.apply(Ei,_))}w=P}if(_=!1,w!==2)continue}}if(w===1){_d(s,0),jl(s,c,0,!0);break}e:{switch(p=s,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:jl(p,c,qi,!xl);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=ay+300-Sn(),10<w)){if(jl(p,c,qi,!xl),Gn(p,0,!0)!==0)break e;po=c,p.timeoutHandle=uI(RP.bind(null,p,f,Ei,oy,Qw,c,qi,Gc,bd,xl,_,"Throttled",-0,0),w);break e}RP(p,f,Ei,oy,Qw,c,qi,Gc,bd,xl,_,null,-0,0)}}break}while(!0);Ns(s)}function RP(s,c,f,p,w,_,P,F,W,le,ve,_e,de,he){if(s.timeoutHandle=-1,_e=c.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ka},NP(c,_,_e);var Be=(_&62914560)===_?ay-Sn():(_&4194048)===_?CP-Sn():0;if(Be=sK(_e,Be),Be!==null){po=_,s.cancelPendingCommit=Be($P.bind(null,s,c,_,f,p,w,P,F,W,ve,_e,null,de,he)),jl(s,_,P,!le);return}}$P(s,c,_,f,p,w,P,F,W)}function _H(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var w=f[p],_=w.getSnapshot;w=w.value;try{if(!zi(_(),w))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function jl(s,c,f,p){c&=~Yw,c&=~Gc,s.suspendedLanes|=c,s.pingedLanes&=~c,p&&(s.warmLanes|=c),p=s.expirationTimes;for(var w=c;0<w;){var _=31-tt(w),P=1<<_;p[_]=-1,w&=~P}f!==0&&Cr(s,f,c)}function ly(){return(Vt&6)===0?(Hh(0),!1):!0}function e1(){if(_t!==null){if(Kt===0)var s=_t.return;else s=_t,ro=Vc=null,gw(s),fd=null,Sh=0,s=_t;for(;s!==null;)dP(s.alternate,s),s=s.return;_t=null}}function _d(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,$H(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),po=0,e1(),sn=s,_t=f=to(s.current,null),Et=c,Kt=0,Fi=null,xl=!1,xd=Dn(s,c),Ww=!1,bd=qi=Yw=Gc=bl=Ln=0,Ei=Fh=null,Qw=!1,(c&8)!==0&&(c|=c&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=c;0<p;){var w=31-tt(p),_=1<<w;c|=s[w],p&=~_}return mo=c,kg(),f}function DP(s,c){mt=null,G.H=Dh,c===dd||c===Lg?(c=X2(),Kt=3):c===iw?(c=X2(),Kt=4):Kt=c===Iw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Fi=c,_t===null&&(Ln=1,Xg(s,ga(c,s.current)))}function MP(){var s=Bi.current;return s===null?!0:(Et&4194048)===Et?ba===null:(Et&62914560)===Et||(Et&536870912)!==0?s===ba:!1}function LP(){var s=G.H;return G.H=Dh,s===null?Dh:s}function VP(){var s=G.A;return G.A=bH,s}function cy(){Ln=4,xl||(Et&4194048)!==Et&&Bi.current!==null||(xd=!0),(bl&134217727)===0&&(Gc&134217727)===0||sn===null||jl(sn,Et,qi,!1)}function t1(s,c,f){var p=Vt;Vt|=2;var w=LP(),_=VP();(sn!==s||Et!==c)&&(oy=null,_d(s,c)),c=!1;var P=Ln;e:do try{if(Kt!==0&&_t!==null){var F=_t,W=Fi;switch(Kt){case 8:e1(),P=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(c=!0);var le=Kt;if(Kt=0,Fi=null,jd(s,F,W,le),f&&xd){P=0;break e}break;default:le=Kt,Kt=0,Fi=null,jd(s,F,W,le)}}jH(),P=Ln;break}catch(ve){DP(s,ve)}while(!0);return c&&s.shellSuspendCounter++,ro=Vc=null,Vt=p,G.H=w,G.A=_,_t===null&&(sn=null,Et=0,kg()),P}function jH(){for(;_t!==null;)zP(_t)}function EH(s,c){var f=Vt;Vt|=2;var p=LP(),w=VP();sn!==s||Et!==c?(oy=null,sy=Sn()+500,_d(s,c)):xd=Dn(s,c);e:do try{if(Kt!==0&&_t!==null){c=_t;var _=Fi;t:switch(Kt){case 1:Kt=0,Fi=null,jd(s,c,_,1);break;case 2:case 9:if(Y2(_)){Kt=0,Fi=null,UP(c);break}c=function(){Kt!==2&&Kt!==9||sn!==s||(Kt=7),Ns(s)},_.then(c,c);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:Y2(_)?(Kt=0,Fi=null,UP(c)):(Kt=0,Fi=null,jd(s,c,_,7));break;case 5:var P=null;switch(_t.tag){case 26:P=_t.memoizedState;case 5:case 27:var F=_t;if(P?AI(P):F.stateNode.complete){Kt=0,Fi=null;var W=F.sibling;if(W!==null)_t=W;else{var le=F.return;le!==null?(_t=le,uy(le)):_t=null}break t}}Kt=0,Fi=null,jd(s,c,_,5);break;case 6:Kt=0,Fi=null,jd(s,c,_,6);break;case 8:e1(),Ln=6;break e;default:throw Error(r(462))}}AH();break}catch(ve){DP(s,ve)}while(!0);return ro=Vc=null,G.H=p,G.A=w,Vt=f,_t!==null?0:(sn=null,Et=0,kg(),Ln)}function AH(){for(;_t!==null&&!$a();)zP(_t)}function zP(s){var c=cP(s.alternate,s,mo);s.memoizedProps=s.pendingProps,c===null?uy(s):_t=c}function UP(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=rP(f,c,c.pendingProps,c.type,void 0,Et);break;case 11:c=rP(f,c,c.pendingProps,c.type.render,c.ref,Et);break;case 5:gw(c);default:dP(f,c),c=_t=V2(c,mo),c=cP(f,c,mo)}s.memoizedProps=s.pendingProps,c===null?uy(s):_t=c}function jd(s,c,f,p){ro=Vc=null,gw(c),fd=null,Sh=0;var w=c.return;try{if(hH(s,w,c,f,Et)){Ln=1,Xg(s,ga(f,s.current)),_t=null;return}}catch(_){if(w!==null)throw _t=w,_;Ln=1,Xg(s,ga(f,s.current)),_t=null;return}c.flags&32768?(Ct||p===1?s=!0:xd||(Et&536870912)!==0?s=!1:(xl=s=!0,(p===2||p===9||p===3||p===6)&&(p=Bi.current,p!==null&&p.tag===13&&(p.flags|=16384))),BP(c,s)):uy(c)}function uy(s){var c=s;do{if((c.flags&32768)!==0){BP(c,xl);return}s=c.return;var f=gH(c.alternate,c,mo);if(f!==null){_t=f;return}if(c=c.sibling,c!==null){_t=c;return}_t=c=s}while(c!==null);Ln===0&&(Ln=5)}function BP(s,c){do{var f=yH(s.alternate,s);if(f!==null){f.flags&=32767,_t=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){_t=s;return}_t=s=f}while(s!==null);Ln=6,_t=null}function $P(s,c,f,p,w,_,P,F,W){s.cancelPendingCommit=null;do dy();while(lr!==0);if((Vt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(_=c.lanes|c.childLanes,_|=Fb,or(s,f,_,P,F,W),s===sn&&(_t=sn=null,Et=0),wd=c,_l=s,po=f,Xw=_,Zw=w,PP=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,kH(pi,function(){return GP(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null,w=X.p,X.p=2,P=Vt,Vt|=4;try{vH(s,c,f)}finally{Vt=P,X.p=w,G.T=p}}lr=1,FP(),qP(),HP()}}function FP(){if(lr===1){lr=0;var s=_l,c=wd,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var p=X.p;X.p=2;var w=Vt;Vt|=4;try{jP(c,s);var _=h1,P=k2(s.containerInfo),F=_.focusedElem,W=_.selectionRange;if(P!==F&&F&&F.ownerDocument&&T2(F.ownerDocument.documentElement,F)){if(W!==null&&Vb(F)){var le=W.start,ve=W.end;if(ve===void 0&&(ve=le),"selectionStart"in F)F.selectionStart=le,F.selectionEnd=Math.min(ve,F.value.length);else{var _e=F.ownerDocument||document,de=_e&&_e.defaultView||window;if(de.getSelection){var he=de.getSelection(),Be=F.textContent.length,st=Math.min(W.start,Be),Jt=W.end===void 0?st:Math.min(W.end,Be);!he.extend&&st>Jt&&(P=Jt,Jt=st,st=P);var te=S2(F,st),Z=S2(F,Jt);if(te&&Z&&(he.rangeCount!==1||he.anchorNode!==te.node||he.anchorOffset!==te.offset||he.focusNode!==Z.node||he.focusOffset!==Z.offset)){var oe=_e.createRange();oe.setStart(te.node,te.offset),he.removeAllRanges(),st>Jt?(he.addRange(oe),he.extend(Z.node,Z.offset)):(oe.setEnd(Z.node,Z.offset),he.addRange(oe))}}}}for(_e=[],he=F;he=he.parentNode;)he.nodeType===1&&_e.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<_e.length;F++){var we=_e[F];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}jy=!!f1,h1=f1=null}finally{Vt=w,X.p=p,G.T=f}}s.current=c,lr=2}}function qP(){if(lr===2){lr=0;var s=_l,c=wd,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var p=X.p;X.p=2;var w=Vt;Vt|=4;try{vP(s,c.alternate,c)}finally{Vt=w,X.p=p,G.T=f}}lr=3}}function HP(){if(lr===4||lr===3){lr=0,ps();var s=_l,c=wd,f=po,p=PP;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?lr=5:(lr=0,wd=_l=null,KP(s,s.pendingLanes));var w=s.pendingLanes;if(w===0&&(wl=null),ri(f),c=c.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Se,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=G.T,w=X.p,X.p=2,G.T=null;try{for(var _=s.onRecoverableError,P=0;P<p.length;P++){var F=p[P];_(F.value,{componentStack:F.stack})}}finally{G.T=c,X.p=w}}(po&3)!==0&&dy(),Ns(s),w=s.pendingLanes,(f&261930)!==0&&(w&42)!==0?s===Jw?qh++:(qh=0,Jw=s):qh=0,Hh(0)}}function KP(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Ah(c)))}function dy(){return FP(),qP(),HP(),GP()}function GP(){if(lr!==5)return!1;var s=_l,c=Xw;Xw=0;var f=ri(po),p=G.T,w=X.p;try{X.p=32>f?32:f,G.T=null,f=Zw,Zw=null;var _=_l,P=po;if(lr=0,wd=_l=null,po=0,(Vt&6)!==0)throw Error(r(331));var F=Vt;if(Vt|=4,TP(_.current),AP(_,_.current,P,f),Vt=F,Hh(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Se,_)}catch{}return!0}finally{X.p=w,G.T=p,KP(s,c)}}function WP(s,c,f){c=ga(f,c),c=Pw(s.stateNode,c,2),s=pl(s,c,2),s!==null&&(zn(s,2),Ns(s))}function Gt(s,c,f){if(s.tag===3)WP(s,s,f);else for(;c!==null;){if(c.tag===3){WP(c,s,f);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(wl===null||!wl.has(p))){s=ga(f,s),f=YC(2),p=pl(c,f,2),p!==null&&(QC(f,p,c,s),zn(p,2),Ns(p));break}}c=c.return}}function n1(s,c,f){var p=s.pingCache;if(p===null){p=s.pingCache=new wH;var w=new Set;p.set(c,w)}else w=p.get(c),w===void 0&&(w=new Set,p.set(c,w));w.has(f)||(Ww=!0,w.add(f),s=NH.bind(null,s,c,f),c.then(s,s))}function NH(s,c,f){var p=s.pingCache;p!==null&&p.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,sn===s&&(Et&f)===f&&(Ln===4||Ln===3&&(Et&62914560)===Et&&300>Sn()-ay?(Vt&2)===0&&_d(s,0):Yw|=f,bd===Et&&(bd=0)),Ns(s)}function YP(s,c){c===0&&(c=Tn()),s=Dc(s,c),s!==null&&(zn(s,c),Ns(s))}function SH(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),YP(s,f)}function TH(s,c){var f=0;switch(s.tag){case 31:case 13:var p=s.stateNode,w=s.memoizedState;w!==null&&(f=w.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),YP(s,f)}function kH(s,c){return et(s,c)}var fy=null,Ed=null,r1=!1,hy=!1,i1=!1,El=0;function Ns(s){s!==Ed&&s.next===null&&(Ed===null?fy=Ed=s:Ed=Ed.next=s),hy=!0,r1||(r1=!0,PH())}function Hh(s,c){if(!i1&&hy){i1=!0;do for(var f=!1,p=fy;p!==null;){if(s!==0){var w=p.pendingLanes;if(w===0)var _=0;else{var P=p.suspendedLanes,F=p.pingedLanes;_=(1<<31-tt(42|s)+1)-1,_&=w&~(P&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,JP(p,_))}else _=Et,_=Gn(p,p===sn?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Dn(p,_)||(f=!0,JP(p,_));p=p.next}while(f);i1=!1}}function CH(){QP()}function QP(){hy=r1=!1;var s=0;El!==0&&BH()&&(s=El);for(var c=Sn(),f=null,p=fy;p!==null;){var w=p.next,_=XP(p,c);_===0?(p.next=null,f===null?fy=w:f.next=w,w===null&&(Ed=f)):(f=p,(s!==0||(_&3)!==0)&&(hy=!0)),p=w}lr!==0&&lr!==5||Hh(s),El!==0&&(El=0)}function XP(s,c){for(var f=s.suspendedLanes,p=s.pingedLanes,w=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var P=31-tt(_),F=1<<P,W=w[P];W===-1?((F&f)===0||(F&p)!==0)&&(w[P]=qt(F,c)):W<=c&&(s.expiredLanes|=F),_&=~F}if(c=sn,f=Et,f=Gn(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,f===0||s===c&&(Kt===2||Kt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&kr(p),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Dn(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(p!==null&&kr(p),ri(f)){case 2:case 8:f=Fa;break;case 32:f=pi;break;case 268435456:f=Ce;break;default:f=pi}return p=ZP.bind(null,s),f=et(f,p),s.callbackPriority=c,s.callbackNode=f,c}return p!==null&&p!==null&&kr(p),s.callbackPriority=2,s.callbackNode=null,2}function ZP(s,c){if(lr!==0&&lr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(dy()&&s.callbackNode!==f)return null;var p=Et;return p=Gn(s,s===sn?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(OP(s,p,c),XP(s,Sn()),s.callbackNode!=null&&s.callbackNode===f?ZP.bind(null,s):null)}function JP(s,c){if(dy())return null;OP(s,c,!0)}function PH(){FH(function(){(Vt&6)!==0?et(sa,CH):QP()})}function a1(){if(El===0){var s=cd;s===0&&(s=vt,vt<<=1,(vt&261888)===0&&(vt=256)),El=s}return El}function eI(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wu(""+s)}function tI(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function IH(s,c,f,p,w){if(c==="submit"&&f&&f.stateNode===w){var _=eI((w[kt]||null).action),P=p.submitter;P&&(c=(c=P[kt]||null)?eI(c.formAction):P.getAttribute("formAction"),c!==null&&(_=c,P=null));var F=new xs("action","action",null,p,w);s.push({event:F,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(El!==0){var W=P?tI(w,P):new FormData(w);Aw(f,{pending:!0,data:W,method:w.method,action:_},null,W)}}else typeof _=="function"&&(F.preventDefault(),W=P?tI(w,P):new FormData(w),Aw(f,{pending:!0,data:W,method:w.method,action:_},_,W))},currentTarget:w}]})}}for(var s1=0;s1<$b.length;s1++){var o1=$b[s1],OH=o1.toLowerCase(),RH=o1[0].toUpperCase()+o1.slice(1);Xa(OH,"on"+RH)}Xa(I2,"onAnimationEnd"),Xa(O2,"onAnimationIteration"),Xa(R2,"onAnimationStart"),Xa("dblclick","onDoubleClick"),Xa("focusin","onFocus"),Xa("focusout","onBlur"),Xa(Qq,"onTransitionRun"),Xa(Xq,"onTransitionStart"),Xa(Zq,"onTransitionCancel"),Xa(D2,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Oe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kh));function nI(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var p=s[f],w=p.event;p=p.listeners;e:{var _=void 0;if(c)for(var P=p.length-1;0<=P;P--){var F=p[P],W=F.instance,le=F.currentTarget;if(F=F.listener,W!==_&&w.isPropagationStopped())break e;_=F,w.currentTarget=le;try{_(w)}catch(ve){Tg(ve)}w.currentTarget=null,_=W}else for(P=0;P<p.length;P++){if(F=p[P],W=F.instance,le=F.currentTarget,F=F.listener,W!==_&&w.isPropagationStopped())break e;_=F,w.currentTarget=le;try{_(w)}catch(ve){Tg(ve)}w.currentTarget=null,_=W}}}}function jt(s,c){var f=c[Qs];f===void 0&&(f=c[Qs]=new Set);var p=s+"__bubble";f.has(p)||(rI(c,s,2,!1),f.add(p))}function l1(s,c,f){var p=0;c&&(p|=4),rI(f,s,p,c)}var my="_reactListening"+Math.random().toString(36).slice(2);function c1(s){if(!s[my]){s[my]=!0,J.forEach(function(f){f!=="selectionchange"&&(DH.has(f)||l1(f,!1,s),l1(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[my]||(c[my]=!0,l1("selectionchange",!1,c))}}function rI(s,c,f,p){switch(II(c)){case 2:var w=cK;break;case 8:w=uK;break;default:w=E1}f=w.bind(null,c,f,s),w=void 0,!Sc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),p?w!==void 0?s.addEventListener(c,f,{capture:!0,passive:w}):s.addEventListener(c,f,!0):w!==void 0?s.addEventListener(c,f,{passive:w}):s.addEventListener(c,f,!1)}function u1(s,c,f,p,w){var _=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var F=p.stateNode.containerInfo;if(F===w)break;if(P===4)for(P=p.return;P!==null;){var W=P.tag;if((W===3||W===4)&&P.stateNode.containerInfo===w)return;P=P.return}for(;F!==null;){if(P=ua(F),P===null)return;if(W=P.tag,W===5||W===6||W===26||W===27){p=_=P;continue e}F=F.parentNode}}p=p.return}al(function(){var le=_,ve=fa(f),_e=[];e:{var de=M2.get(s);if(de!==void 0){var he=xs,Be=s;switch(s){case"keypress":if(kc(f)===0)break e;case"keydown":case"keyup":he=Ag;break;case"focusin":Be="focus",he=Pc;break;case"focusout":Be="blur",he=Pc;break;case"beforeblur":case"afterblur":he=Pc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=S;break;case I2:case O2:case R2:he=vg;break;case D2:he=H;break;case"scroll":case"scrollend":he=gh;break;case"wheel":he=fe;break;case"copy":case"cut":case"paste":he=xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=eo;break;case"toggle":case"beforetoggle":he=ht}var st=(c&4)!==0,Jt=!st&&(s==="scroll"||s==="scrollend"),te=st?de!==null?de+"Capture":null:de;st=[];for(var Z=le,oe;Z!==null;){var we=Z;if(oe=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||oe===null||te===null||(we=Ga(Z,te),we!=null&&st.push(Gh(Z,we,oe))),Jt)break;Z=Z.return}0<st.length&&(de=new he(de,Be,null,f,ve),_e.push({event:de,listeners:st}))}}if((c&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",de&&f!==hh&&(Be=f.relatedTarget||f.fromElement)&&(ua(Be)||Be[Ir]))break e;if((he||de)&&(de=ve.window===ve?ve:(de=ve.ownerDocument)?de.defaultView||de.parentWindow:window,he?(Be=f.relatedTarget||f.toElement,he=le,Be=Be?ua(Be):null,Be!==null&&(Jt=a(Be),st=Be.tag,Be!==Jt||st!==5&&st!==27&&st!==6)&&(Be=null)):(he=null,Be=le),he!==Be)){if(st=yh,we="onMouseLeave",te="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(st=eo,we="onPointerLeave",te="onPointerEnter",Z="pointer"),Jt=he==null?de:ii(he),oe=Be==null?de:ii(Be),de=new st(we,Z+"leave",he,f,ve),de.target=Jt,de.relatedTarget=oe,we=null,ua(ve)===le&&(st=new st(te,Z+"enter",Be,f,ve),st.target=oe,st.relatedTarget=Jt,we=st),Jt=we,he&&Be)t:{for(st=MH,te=he,Z=Be,oe=0,we=te;we;we=st(we))oe++;we=0;for(var nt=Z;nt;nt=st(nt))we++;for(;0<oe-we;)te=st(te),oe--;for(;0<we-oe;)Z=st(Z),we--;for(;oe--;){if(te===Z||Z!==null&&te===Z.alternate){st=te;break t}te=st(te),Z=st(Z)}st=null}else st=null;he!==null&&iI(_e,de,he,st,!1),Be!==null&&Jt!==null&&iI(_e,Jt,Be,st,!0)}}e:{if(de=le?ii(le):window,he=de.nodeName&&de.nodeName.toLowerCase(),he==="select"||he==="input"&&de.type==="file")var Rt=w2;else if(x2(de))if(_2)Rt=Gq;else{Rt=Hq;var Fe=qq}else he=de.nodeName,!he||he.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?le&&Gu(le.elementType)&&(Rt=w2):Rt=Kq;if(Rt&&(Rt=Rt(s,le))){b2(_e,Rt,f,ve);break e}Fe&&Fe(s,de,le),s==="focusout"&&le&&de.type==="number"&&le.memoizedProps.value!=null&&uh(de,"number",de.value)}switch(Fe=le?ii(le):window,s){case"focusin":(x2(Fe)||Fe.contentEditable==="true")&&(td=Fe,zb=le,_h=null);break;case"focusout":_h=zb=td=null;break;case"mousedown":Ub=!0;break;case"contextmenu":case"mouseup":case"dragend":Ub=!1,C2(_e,f,ve);break;case"selectionchange":if(Yq)break;case"keydown":case"keyup":C2(_e,f,ve)}var gt;if(Lt)e:{switch(s){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else ed?Ic(s,f)&&(At="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(At="onCompositionStart");At&&(_s&&f.locale!=="ko"&&(ed||At!=="onCompositionStart"?At==="onCompositionEnd"&&ed&&(gt=ph()):(vs=ve,mh="value"in vs?vs.value:vs.textContent,ed=!0)),Fe=py(le,At),0<Fe.length&&(At=new ws(At,s,null,f,ve),_e.push({event:At,listeners:Fe}),gt?At.data=gt:(gt=Ju(f),gt!==null&&(At.data=gt)))),(gt=ma?Uq(s,f):Bq(s,f))&&(At=py(le,"onBeforeInput"),0<At.length&&(Fe=new ws("onBeforeInput","beforeinput",null,f,ve),_e.push({event:Fe,listeners:At}),Fe.data=gt)),IH(_e,s,le,f,ve)}nI(_e,c)})}function Gh(s,c,f){return{instance:s,listener:c,currentTarget:f}}function py(s,c){for(var f=c+"Capture",p=[];s!==null;){var w=s,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=Ga(s,f),w!=null&&p.unshift(Gh(s,w,_)),w=Ga(s,c),w!=null&&p.push(Gh(s,w,_))),s.tag===3)return p;s=s.return}return[]}function MH(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function iI(s,c,f,p,w){for(var _=c._reactName,P=[];f!==null&&f!==p;){var F=f,W=F.alternate,le=F.stateNode;if(F=F.tag,W!==null&&W===p)break;F!==5&&F!==26&&F!==27||le===null||(W=le,w?(le=Ga(f,_),le!=null&&P.unshift(Gh(f,le,W))):w||(le=Ga(f,_),le!=null&&P.push(Gh(f,le,W)))),f=f.return}P.length!==0&&s.push({event:c,listeners:P})}var LH=/\r\n?/g,VH=/\u0000|\uFFFD/g;function aI(s){return(typeof s=="string"?s:""+s).replace(LH,`
`).replace(VH,"")}function sI(s,c){return c=aI(c),aI(s)===c}function Zt(s,c,f,p,w,_){switch(f){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||bi(s,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&bi(s,""+p);break;case"className":Wn(s,"class",p);break;case"tabIndex":Wn(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(s,f,p);break;case"style":fh(s,p,_);break;case"data":if(c!=="object"){Wn(s,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(f);break}p=Wu(""+p),s.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(c!=="input"&&Zt(s,c,"name",w.name,w,null),Zt(s,c,"formEncType",w.formEncType,w,null),Zt(s,c,"formMethod",w.formMethod,w,null),Zt(s,c,"formTarget",w.formTarget,w,null)):(Zt(s,c,"encType",w.encType,w,null),Zt(s,c,"method",w.method,w,null),Zt(s,c,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(f);break}p=Wu(""+p),s.setAttribute(f,p);break;case"onClick":p!=null&&(s.onclick=Ka);break;case"onScroll":p!=null&&jt("scroll",s);break;case"onScrollEnd":p!=null&&jt("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}f=Wu(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,""+p):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":p===!0?s.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(f,p):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(f,p):s.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(f):s.setAttribute(f,p);break;case"popover":jt("beforetoggle",s),jt("toggle",s),Xs(s,"popover",p);break;case"xlinkActuate":Yn(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Yn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Yn(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Yn(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Yn(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Yn(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Yn(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Yn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Yn(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Xs(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=pg.get(f)||f,Xs(s,f,p))}}function d1(s,c,f,p,w,_){switch(f){case"style":fh(s,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof p=="string"?bi(s,p):(typeof p=="number"||typeof p=="bigint")&&bi(s,""+p);break;case"onScroll":p!=null&&jt("scroll",s);break;case"onScrollEnd":p!=null&&jt("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Te.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),c=f.slice(2,w?f.length-7:void 0),_=s[kt]||null,_=_!=null?_[f]:null,typeof _=="function"&&s.removeEventListener(c,_,w),typeof p=="function")){typeof _!="function"&&_!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,p,w);break e}f in s?s[f]=p:p===!0?s.setAttribute(f,""):Xs(s,f,p)}}}function Lr(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",s),jt("load",s);var p=!1,w=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var P=f[_];if(P!=null)switch(_){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Zt(s,c,_,P,f,null)}}w&&Zt(s,c,"srcSet",f.srcSet,f,null),p&&Zt(s,c,"src",f.src,f,null);return;case"input":jt("invalid",s);var F=_=P=w=null,W=null,le=null;for(p in f)if(f.hasOwnProperty(p)){var ve=f[p];if(ve!=null)switch(p){case"name":w=ve;break;case"type":P=ve;break;case"checked":W=ve;break;case"defaultChecked":le=ve;break;case"value":_=ve;break;case"defaultValue":F=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:Zt(s,c,p,ve,f,null)}}fg(s,_,F,W,le,P,w,!1);return;case"select":jt("invalid",s),p=P=_=null;for(w in f)if(f.hasOwnProperty(w)&&(F=f[w],F!=null))switch(w){case"value":_=F;break;case"defaultValue":P=F;break;case"multiple":p=F;default:Zt(s,c,w,F,f,null)}c=_,f=P,s.multiple=!!p,c!=null?tl(s,!!p,c,!1):f!=null&&tl(s,!!p,f,!0);return;case"textarea":jt("invalid",s),_=w=p=null;for(P in f)if(f.hasOwnProperty(P)&&(F=f[P],F!=null))switch(P){case"value":p=F;break;case"defaultValue":w=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Zt(s,c,P,F,f,null)}nl(s,p,w,_);return;case"option":for(W in f)if(f.hasOwnProperty(W)&&(p=f[W],p!=null))switch(W){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Zt(s,c,W,p,f,null)}return;case"dialog":jt("beforetoggle",s),jt("toggle",s),jt("cancel",s),jt("close",s);break;case"iframe":case"object":jt("load",s);break;case"video":case"audio":for(p=0;p<Kh.length;p++)jt(Kh[p],s);break;case"image":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"embed":case"source":case"link":jt("error",s),jt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in f)if(f.hasOwnProperty(le)&&(p=f[le],p!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Zt(s,c,le,p,f,null)}return;default:if(Gu(c)){for(ve in f)f.hasOwnProperty(ve)&&(p=f[ve],p!==void 0&&d1(s,c,ve,p,f,void 0));return}}for(F in f)f.hasOwnProperty(F)&&(p=f[F],p!=null&&Zt(s,c,F,p,f,null))}function zH(s,c,f,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,P=null,F=null,W=null,le=null,ve=null;for(he in f){var _e=f[he];if(f.hasOwnProperty(he)&&_e!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":W=_e;default:p.hasOwnProperty(he)||Zt(s,c,he,null,p,_e)}}for(var de in p){var he=p[de];if(_e=f[de],p.hasOwnProperty(de)&&(he!=null||_e!=null))switch(de){case"type":_=he;break;case"name":w=he;break;case"checked":le=he;break;case"defaultChecked":ve=he;break;case"value":P=he;break;case"defaultValue":F=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:he!==_e&&Zt(s,c,de,he,p,_e)}}Ku(s,P,F,W,le,ve,_,w);return;case"select":he=P=F=de=null;for(_ in f)if(W=f[_],f.hasOwnProperty(_)&&W!=null)switch(_){case"value":break;case"multiple":he=W;default:p.hasOwnProperty(_)||Zt(s,c,_,null,p,W)}for(w in p)if(_=p[w],W=f[w],p.hasOwnProperty(w)&&(_!=null||W!=null))switch(w){case"value":de=_;break;case"defaultValue":F=_;break;case"multiple":P=_;default:_!==W&&Zt(s,c,w,_,p,W)}c=F,f=P,p=he,de!=null?tl(s,!!f,de,!1):!!p!=!!f&&(c!=null?tl(s,!!f,c,!0):tl(s,!!f,f?[]:"",!1));return;case"textarea":he=de=null;for(F in f)if(w=f[F],f.hasOwnProperty(F)&&w!=null&&!p.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Zt(s,c,F,null,p,w)}for(P in p)if(w=p[P],_=f[P],p.hasOwnProperty(P)&&(w!=null||_!=null))switch(P){case"value":de=w;break;case"defaultValue":he=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&Zt(s,c,P,w,p,_)}hg(s,de,he);return;case"option":for(var Be in f)if(de=f[Be],f.hasOwnProperty(Be)&&de!=null&&!p.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:Zt(s,c,Be,null,p,de)}for(W in p)if(de=p[W],he=f[W],p.hasOwnProperty(W)&&de!==he&&(de!=null||he!=null))switch(W){case"selected":s.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Zt(s,c,W,de,p,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in f)de=f[st],f.hasOwnProperty(st)&&de!=null&&!p.hasOwnProperty(st)&&Zt(s,c,st,null,p,de);for(le in p)if(de=p[le],he=f[le],p.hasOwnProperty(le)&&de!==he&&(de!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,c));break;default:Zt(s,c,le,de,p,he)}return;default:if(Gu(c)){for(var Jt in f)de=f[Jt],f.hasOwnProperty(Jt)&&de!==void 0&&!p.hasOwnProperty(Jt)&&d1(s,c,Jt,void 0,p,de);for(ve in p)de=p[ve],he=f[ve],!p.hasOwnProperty(ve)||de===he||de===void 0&&he===void 0||d1(s,c,ve,de,p,he);return}}for(var te in f)de=f[te],f.hasOwnProperty(te)&&de!=null&&!p.hasOwnProperty(te)&&Zt(s,c,te,null,p,de);for(_e in p)de=p[_e],he=f[_e],!p.hasOwnProperty(_e)||de===he||de==null&&he==null||Zt(s,c,_e,de,p,he)}function oI(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UH(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var w=f[p],_=w.transferSize,P=w.initiatorType,F=w.duration;if(_&&F&&oI(P)){for(P=0,F=w.responseEnd,p+=1;p<f.length;p++){var W=f[p],le=W.startTime;if(le>F)break;var ve=W.transferSize,_e=W.initiatorType;ve&&oI(_e)&&(W=W.responseEnd,P+=ve*(W<F?1:(F-le)/(W-le)))}if(--p,c+=8*(_+P)/(w.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var f1=null,h1=null;function gy(s){return s.nodeType===9?s:s.ownerDocument}function lI(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cI(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function m1(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var p1=null;function BH(){var s=window.event;return s&&s.type==="popstate"?s===p1?!1:(p1=s,!0):(p1=null,!1)}var uI=typeof setTimeout=="function"?setTimeout:void 0,$H=typeof clearTimeout=="function"?clearTimeout:void 0,dI=typeof Promise=="function"?Promise:void 0,FH=typeof queueMicrotask=="function"?queueMicrotask:typeof dI<"u"?function(s){return dI.resolve(null).then(s).catch(qH)}:uI;function qH(s){setTimeout(function(){throw s})}function Al(s){return s==="head"}function fI(s,c){var f=c,p=0;do{var w=f.nextSibling;if(s.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(p===0){s.removeChild(w),Td(c);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Wh(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Wh(f);for(var _=f.firstChild;_;){var P=_.nextSibling,F=_.nodeName;_[ca]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=P}}else f==="body"&&Wh(s.ownerDocument.body);f=w}while(f);Td(c)}function hI(s,c){var f=s;s=0;do{var p=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=p}while(f)}function g1(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":g1(f),Jo(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function HH(s,c,f,p){for(;s.nodeType===1;){var w=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[ca])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==w.rel||s.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||s.getAttribute("title")!==(w.title==null?null:w.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(w.src==null?null:w.src)||s.getAttribute("type")!==(w.type==null?null:w.type)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=wa(s.nextSibling),s===null)break}return null}function KH(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=wa(s.nextSibling),s===null))return null;return s}function mI(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=wa(s.nextSibling),s===null))return null;return s}function y1(s){return s.data==="$?"||s.data==="$~"}function v1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function GH(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var p=function(){c(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function wa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var x1=null;function pI(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return wa(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function gI(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function yI(s,c,f){switch(c=gy(f),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Wh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Jo(s)}var _a=new Map,vI=new Set;function yy(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var go=X.d;X.d={f:WH,r:YH,D:QH,C:XH,L:ZH,m:JH,X:tK,S:eK,M:nK};function WH(){var s=go.f(),c=ly();return s||c}function YH(s){var c=yi(s);c!==null&&c.tag===5&&c.type==="form"?DC(c):go.r(s)}var Ad=typeof document>"u"?null:document;function xI(s,c,f){var p=Ad;if(p&&typeof c=="string"&&c){var w=xi(c);w='link[rel="'+s+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),vI.has(w)||(vI.add(w),s={rel:s,crossOrigin:f,href:c},p.querySelector(w)===null&&(c=p.createElement("link"),Lr(c,"link",s),R(c),p.head.appendChild(c)))}}function QH(s){go.D(s),xI("dns-prefetch",s,null)}function XH(s,c){go.C(s,c),xI("preconnect",s,c)}function ZH(s,c,f){go.L(s,c,f);var p=Ad;if(p&&s&&c){var w='link[rel="preload"][as="'+xi(c)+'"]';c==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+xi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+xi(f.imageSizes)+'"]')):w+='[href="'+xi(s)+'"]';var _=w;switch(c){case"style":_=Nd(s);break;case"script":_=Sd(s)}_a.has(_)||(s=g({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),_a.set(_,s),p.querySelector(w)!==null||c==="style"&&p.querySelector(Yh(_))||c==="script"&&p.querySelector(Qh(_))||(c=p.createElement("link"),Lr(c,"link",s),R(c),p.head.appendChild(c)))}}function JH(s,c){go.m(s,c);var f=Ad;if(f&&s){var p=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+xi(p)+'"][href="'+xi(s)+'"]',_=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Sd(s)}if(!_a.has(_)&&(s=g({rel:"modulepreload",href:s},c),_a.set(_,s),f.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Qh(_)))return}p=f.createElement("link"),Lr(p,"link",s),R(p),f.head.appendChild(p)}}}function eK(s,c,f){go.S(s,c,f);var p=Ad;if(p&&s){var w=da(p).hoistableStyles,_=Nd(s);c=c||"default";var P=w.get(_);if(!P){var F={loading:0,preload:null};if(P=p.querySelector(Yh(_)))F.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":c},f),(f=_a.get(_))&&b1(s,f);var W=P=p.createElement("link");R(W),Lr(W,"link",s),W._p=new Promise(function(le,ve){W.onload=le,W.onerror=ve}),W.addEventListener("load",function(){F.loading|=1}),W.addEventListener("error",function(){F.loading|=2}),F.loading|=4,vy(P,c,p)}P={type:"stylesheet",instance:P,count:1,state:F},w.set(_,P)}}}function tK(s,c){go.X(s,c);var f=Ad;if(f&&s){var p=da(f).hoistableScripts,w=Sd(s),_=p.get(w);_||(_=f.querySelector(Qh(w)),_||(s=g({src:s,async:!0},c),(c=_a.get(w))&&w1(s,c),_=f.createElement("script"),R(_),Lr(_,"link",s),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(w,_))}}function nK(s,c){go.M(s,c);var f=Ad;if(f&&s){var p=da(f).hoistableScripts,w=Sd(s),_=p.get(w);_||(_=f.querySelector(Qh(w)),_||(s=g({src:s,async:!0,type:"module"},c),(c=_a.get(w))&&w1(s,c),_=f.createElement("script"),R(_),Lr(_,"link",s),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(w,_))}}function bI(s,c,f,p){var w=(w=Ne.current)?yy(w):null;if(!w)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=Nd(f.href),f=da(w).hoistableStyles,p=f.get(c),p||(p={type:"style",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=Nd(f.href);var _=da(w).hoistableStyles,P=_.get(s);if(P||(w=w.ownerDocument||w,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,P),(_=w.querySelector(Yh(s)))&&!_._p&&(P.instance=_,P.state.loading=5),_a.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},_a.set(s,f),_||rK(w,s,f,P.state))),c&&p===null)throw Error(r(528,""));return P}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Sd(f),f=da(w).hoistableScripts,p=f.get(c),p||(p={type:"script",instance:null,count:0,state:null},f.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Nd(s){return'href="'+xi(s)+'"'}function Yh(s){return'link[rel="stylesheet"]['+s+"]"}function wI(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function rK(s,c,f,p){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=s.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Lr(c,"link",f),R(c),s.head.appendChild(c))}function Sd(s){return'[src="'+xi(s)+'"]'}function Qh(s){return"script[async]"+s}function _I(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var p=s.querySelector('style[data-href~="'+xi(f.href)+'"]');if(p)return c.instance=p,R(p),p;var w=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),R(p),Lr(p,"style",w),vy(p,f.precedence,s),c.instance=p;case"stylesheet":w=Nd(f.href);var _=s.querySelector(Yh(w));if(_)return c.state.loading|=4,c.instance=_,R(_),_;p=wI(f),(w=_a.get(w))&&b1(p,w),_=(s.ownerDocument||s).createElement("link"),R(_);var P=_;return P._p=new Promise(function(F,W){P.onload=F,P.onerror=W}),Lr(_,"link",p),c.state.loading|=4,vy(_,f.precedence,s),c.instance=_;case"script":return _=Sd(f.src),(w=s.querySelector(Qh(_)))?(c.instance=w,R(w),w):(p=f,(w=_a.get(_))&&(p=g({},f),w1(p,w)),s=s.ownerDocument||s,w=s.createElement("script"),R(w),Lr(w,"link",p),s.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,vy(p,f.precedence,s));return c.instance}function vy(s,c,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,_=w,P=0;P<p.length;P++){var F=p[P];if(F.dataset.precedence===c)_=F;else if(_!==w)break}_?_.parentNode.insertBefore(s,_.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function b1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function w1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var xy=null;function jI(s,c,f){if(xy===null){var p=new Map,w=xy=new Map;w.set(f,p)}else w=xy,p=w.get(f),p||(p=new Map,w.set(f,p));if(p.has(s))return p;for(p.set(s,null),f=f.getElementsByTagName(s),w=0;w<f.length;w++){var _=f[w];if(!(_[ca]||_[gn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(c)||"";P=s+P;var F=p.get(P);F?F.push(_):p.set(P,[_])}}return p}function EI(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function iK(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function AI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aK(s,c,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=Nd(p.href),_=c.querySelector(Yh(w));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=by.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=_,R(_);return}_=c.ownerDocument||c,p=wI(p),(w=_a.get(w))&&b1(p,w),_=_.createElement("link"),R(_);var P=_;P._p=new Promise(function(F,W){P.onload=F,P.onerror=W}),Lr(_,"link",p),f.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=by.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var _1=0;function sK(s,c){return s.stylesheets&&s.count===0&&_y(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var p=setTimeout(function(){if(s.stylesheets&&_y(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+c);0<s.imgBytes&&_1===0&&(_1=62500*UH());var w=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&_y(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>_1?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function by(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_y(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wy=null;function _y(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wy=new Map,c.forEach(oK,s),wy=null,by.call(s))}function oK(s,c){if(!(c.state.loading&4)){var f=wy.get(s);if(f)var p=f.get(null);else{f=new Map,wy.set(s,f);for(var w=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var P=w[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(f.set(P.dataset.precedence,P),p=P)}p&&f.set(null,p)}w=c.instance,P=w.getAttribute("data-precedence"),_=f.get(P)||p,_===p&&f.set(null,w),f.set(P,w),this.count++,p=by.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),_?_.parentNode.insertBefore(w,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(w,s.firstChild)),c.state.loading|=4}}var Xh={$$typeof:C,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function lK(s,c,f,p,w,_,P,F,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function NI(s,c,f,p,w,_,P,F,W,le,ve,_e){return s=new lK(s,c,f,P,W,le,ve,_e,F),c=1,_===!0&&(c|=24),_=Ui(3,null,null,c),s.current=_,_.stateNode=s,c=tw(),c.refCount++,s.pooledCache=c,c.refCount++,_.memoizedState={element:p,isDehydrated:f,cache:c},aw(_),s}function SI(s){return s?(s=id,s):id}function TI(s,c,f,p,w,_){w=SI(w),p.context===null?p.context=w:p.pendingContext=w,p=ml(c),p.payload={element:f},_=_===void 0?null:_,_!==null&&(p.callback=_),f=pl(s,p,c),f!==null&&(Ai(f,s,c),kh(f,s,c))}function kI(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function j1(s,c){kI(s,c),(s=s.alternate)&&kI(s,c)}function CI(s){if(s.tag===13||s.tag===31){var c=Dc(s,67108864);c!==null&&Ai(c,s,67108864),j1(s,67108864)}}function PI(s){if(s.tag===13||s.tag===31){var c=Hi();c=gi(c);var f=Dc(s,c);f!==null&&Ai(f,s,c),j1(s,c)}}var jy=!0;function cK(s,c,f,p){var w=G.T;G.T=null;var _=X.p;try{X.p=2,E1(s,c,f,p)}finally{X.p=_,G.T=w}}function uK(s,c,f,p){var w=G.T;G.T=null;var _=X.p;try{X.p=8,E1(s,c,f,p)}finally{X.p=_,G.T=w}}function E1(s,c,f,p){if(jy){var w=A1(p);if(w===null)u1(s,c,p,Ey,f),OI(s,p);else if(fK(w,s,c,f,p))p.stopPropagation();else if(OI(s,p),c&4&&-1<dK.indexOf(s)){for(;w!==null;){var _=yi(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=pr(_.pendingLanes);if(P!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;P;){var W=1<<31-tt(P);F.entanglements[1]|=W,P&=~W}Ns(_),(Vt&6)===0&&(sy=Sn()+500,Hh(0))}}break;case 31:case 13:F=Dc(_,2),F!==null&&Ai(F,_,2),ly(),j1(_,2)}if(_=A1(p),_===null&&u1(s,c,p,Ey,f),_===w)break;w=_}w!==null&&p.stopPropagation()}else u1(s,c,p,null,f)}}function A1(s){return s=fa(s),N1(s)}var Ey=null;function N1(s){if(Ey=null,s=ua(s),s!==null){var c=a(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=o(c),s!==null)return s;s=null}else if(f===31){if(s=u(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Ey=s,null}function II(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case sa:return 2;case Fa:return 8;case pi:case ye:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var S1=!1,Nl=null,Sl=null,Tl=null,Zh=new Map,Jh=new Map,kl=[],dK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OI(s,c){switch(s){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Zh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(c.pointerId)}}function em(s,c,f,p,w,_){return s===null||s.nativeEvent!==_?(s={blockedOn:c,domEventName:f,eventSystemFlags:p,nativeEvent:_,targetContainers:[w]},c!==null&&(c=yi(c),c!==null&&CI(c)),s):(s.eventSystemFlags|=p,c=s.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),s)}function fK(s,c,f,p,w){switch(c){case"focusin":return Nl=em(Nl,s,c,f,p,w),!0;case"dragenter":return Sl=em(Sl,s,c,f,p,w),!0;case"mouseover":return Tl=em(Tl,s,c,f,p,w),!0;case"pointerover":var _=w.pointerId;return Zh.set(_,em(Zh.get(_)||null,s,c,f,p,w)),!0;case"gotpointercapture":return _=w.pointerId,Jh.set(_,em(Jh.get(_)||null,s,c,f,p,w)),!0}return!1}function RI(s){var c=ua(s.target);if(c!==null){var f=a(c);if(f!==null){if(c=f.tag,c===13){if(c=o(f),c!==null){s.blockedOn=c,Hr(s.priority,function(){PI(f)});return}}else if(c===31){if(c=u(f),c!==null){s.blockedOn=c,Hr(s.priority,function(){PI(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ay(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=A1(s.nativeEvent);if(f===null){f=s.nativeEvent;var p=new f.constructor(f.type,f);hh=p,f.target.dispatchEvent(p),hh=null}else return c=yi(f),c!==null&&CI(c),s.blockedOn=f,!1;c.shift()}return!0}function DI(s,c,f){Ay(s)&&f.delete(c)}function hK(){S1=!1,Nl!==null&&Ay(Nl)&&(Nl=null),Sl!==null&&Ay(Sl)&&(Sl=null),Tl!==null&&Ay(Tl)&&(Tl=null),Zh.forEach(DI),Jh.forEach(DI)}function Ny(s,c){s.blockedOn===c&&(s.blockedOn=null,S1||(S1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hK)))}var Sy=null;function MI(s){Sy!==s&&(Sy=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sy===s&&(Sy=null);for(var c=0;c<s.length;c+=3){var f=s[c],p=s[c+1],w=s[c+2];if(typeof p!="function"){if(N1(p||f)===null)continue;break}var _=yi(f);_!==null&&(s.splice(c,3),c-=3,Aw(_,{pending:!0,data:w,method:f.method,action:p},p,w))}}))}function Td(s){function c(W){return Ny(W,s)}Nl!==null&&Ny(Nl,s),Sl!==null&&Ny(Sl,s),Tl!==null&&Ny(Tl,s),Zh.forEach(c),Jh.forEach(c);for(var f=0;f<kl.length;f++){var p=kl[f];p.blockedOn===s&&(p.blockedOn=null)}for(;0<kl.length&&(f=kl[0],f.blockedOn===null);)RI(f),f.blockedOn===null&&kl.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var w=f[p],_=f[p+1],P=w[kt]||null;if(typeof _=="function")P||MI(f);else if(P){var F=null;if(_&&_.hasAttribute("formAction")){if(w=_,P=_[kt]||null)F=P.formAction;else if(N1(w)!==null)continue}else F=P.action;typeof F=="function"?f[p+1]=F:(f.splice(p,3),p-=3),MI(f)}}}function LI(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(P){return w=P})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function T1(s){this._internalRoot=s}Ty.prototype.render=T1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var f=c.current,p=Hi();TI(f,p,s,c,null,null)},Ty.prototype.unmount=T1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;TI(s.current,2,null,s,null,null),ly(),c[Ir]=null}};function Ty(s){this._internalRoot=s}Ty.prototype.unstable_scheduleHydration=function(s){if(s){var c=la();s={blockedOn:null,target:s,priority:c};for(var f=0;f<kl.length&&c!==0&&c<kl[f].priority;f++);kl.splice(f,0,s),f===0&&RI(s)}};var VI=e.version;if(VI!=="19.2.0")throw Error(r(527,VI,"19.2.0"));X.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(c),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var mK={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{Se=ky.inject(mK),$e=ky}catch{}}return nm.createRoot=function(s,c){if(!i(s))throw Error(r(299));var f=!1,p="",w=HC,_=KC,P=GC;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=NI(s,1,!1,null,null,f,p,null,w,_,P,LI),s[Ir]=c.current,c1(s),new T1(c)},nm.hydrateRoot=function(s,c,f){if(!i(s))throw Error(r(299));var p=!1,w="",_=HC,P=KC,F=GC,W=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(F=f.onRecoverableError),f.formState!==void 0&&(W=f.formState)),c=NI(s,1,!0,c,f??null,p,w,W,_,P,F,LI),c.context=SI(null),f=c.current,p=Hi(),p=gi(p),w=ml(p),w.callback=null,pl(f,w,p),f=p,c.current.lanes=f,zn(c,f),Ns(c),s[Ir]=c.current,c1(s),new Ty(c)},nm.version="19.2.0",nm}var WI;function NK(){if(WI)return P1.exports;WI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P1.exports=AK(),P1.exports}var SK=NK();const TK=za(SK);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YI="popstate";function kK(t={}){function e(r,i){let{pathname:a,search:o,hash:u}=r.location;return Qj("",{pathname:a,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qm(i)}return PK(e,n,null,t)}function An(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CK(){return Math.random().toString(36).substring(2,10)}function QI(t,e){return{usr:t.state,key:t.key,idx:e}}function Qj(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?kf(e):e,state:n,key:e&&e.key||r||CK()}}function qm({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PK(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function g(){u="POP";let A=m(),T=A==null?null:A-h;h=A,d&&d({action:u,location:E.location,delta:T})}function y(A,T){u="PUSH";let O=Qj(E.location,A,T);h=m()+1;let C=QI(O,h),U=E.createHref(O);try{o.pushState(C,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(U)}a&&d&&d({action:u,location:E.location,delta:1})}function b(A,T){u="REPLACE";let O=Qj(E.location,A,T);h=m();let C=QI(O,h),U=E.createHref(O);o.replaceState(C,"",U),a&&d&&d({action:u,location:E.location,delta:0})}function j(A){return IK(A)}let E={get action(){return u},get location(){return t(i,o)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(YI,g),d=A,()=>{i.removeEventListener(YI,g),d=null}},createHref(A){return e(i,A)},createURL:j,encodeLocation(A){let T=j(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:b,go(A){return o.go(A)}};return E}function IK(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),An(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qm(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function QL(t,e,n="/"){return OK(t,e,n,!1)}function OK(t,e,n,r){let i=typeof e=="string"?kf(e):e,a=ko(i.pathname||"/",n);if(a==null)return null;let o=XL(t);RK(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let h=HK(a);u=FK(o[d],h,r)}return u}function XL(t,e=[],n=[],r="",i=!1){let a=(o,u,d=i,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;An(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=No([r,m.relativePath]),y=n.concat(m);o.children&&o.children.length>0&&(An(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),XL(o.children,e,y,g,d)),!(o.path==null&&!o.index)&&e.push({path:g,score:BK(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let d of ZL(o.path))a(o,u,!0,d)}),e}function ZL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=ZL(r.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function RK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$K(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DK=/^:[\w-]+$/,MK=3,LK=2,VK=1,zK=10,UK=-2,XI=t=>t==="*";function BK(t,e){let n=t.split("/"),r=n.length;return n.some(XI)&&(r+=UK),e&&(r+=LK),n.filter(i=>!XI(i)).reduce((i,a)=>i+(DK.test(a)?MK:a===""?VK:zK),r)}function $K(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FK(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=Sv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),y=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Sv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:No([a,g.pathname]),pathnameBase:YK(No([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=No([a,g.pathnameBase]))}return o}function Sv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let j=u[y]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function qK(t,e=!1,n=!0){Oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ko(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KK(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?kf(t):t;return{pathname:n?n.startsWith("/")?n:GK(n,e):e,search:QK(r),hash:XK(i)}}function GK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function D1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nN(t){let e=WK(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rN(t,e,n,r=!1){let i;typeof t=="string"?i=kf(t):(i={...t},An(!i.pathname||!i.pathname.includes("?"),D1("?","pathname","search",i)),An(!i.pathname||!i.pathname.includes("#"),D1("#","pathname","hash",i)),An(!i.search||!i.search.includes("#"),D1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=KK(i,u),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var No=t=>t.join("/").replace(/\/\/+/g,"/"),YK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JL=["POST","PUT","PATCH","DELETE"];new Set(JL);var JK=["GET",...JL];new Set(JK);var Cf=x.createContext(null);Cf.displayName="DataRouter";var t0=x.createContext(null);t0.displayName="DataRouterState";x.createContext(!1);var e6=x.createContext({isTransitioning:!1});e6.displayName="ViewTransition";var eG=x.createContext(new Map);eG.displayName="Fetchers";var tG=x.createContext(null);tG.displayName="Await";var ds=x.createContext(null);ds.displayName="Navigation";var _p=x.createContext(null);_p.displayName="Location";var Ua=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var iN=x.createContext(null);iN.displayName="RouteError";function nG(t,{relative:e}={}){An(Pf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(ds),{hash:i,pathname:a,search:o}=Ep(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:No([n,a])),r.createHref({pathname:u,search:o,hash:i})}function Pf(){return x.useContext(_p)!=null}function fs(){return An(Pf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_p).location}var t6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n6(t){x.useContext(ds).static||x.useLayoutEffect(t)}function Vi(){let{isDataRoute:t}=x.useContext(Ua);return t?yG():rG()}function rG(){An(Pf(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Cf),{basename:e,navigator:n}=x.useContext(ds),{matches:r}=x.useContext(Ua),{pathname:i}=fs(),a=JSON.stringify(nN(r)),o=x.useRef(!1);return n6(()=>{o.current=!0}),x.useCallback((d,h={})=>{if(Oa(o.current,t6),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=rN(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:No([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}var iG=x.createContext(null);function aG(t){let e=x.useContext(Ua).outlet;return x.useMemo(()=>e&&x.createElement(iG.Provider,{value:t},e),[e,t])}function jp(){let{matches:t}=x.useContext(Ua),e=t[t.length-1];return e?e.params:{}}function Ep(t,{relative:e}={}){let{matches:n}=x.useContext(Ua),{pathname:r}=fs(),i=JSON.stringify(nN(n));return x.useMemo(()=>rN(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function sG(t,e){return r6(t,e)}function r6(t,e,n,r,i){An(Pf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(ds),{matches:o}=x.useContext(Ua),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let O=g&&g.path||"";i6(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=fs(),b;if(e){let O=typeof e=="string"?kf(e):e;An(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let j=b.pathname||"/",E=j;if(m!=="/"){let O=m.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=QL(t,{pathname:E});Oa(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Oa(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=dG(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:No([m,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:No([m,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return e&&T?x.createElement(_p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function oG(){let t=gG(),e=ZK(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}var lG=x.createElement(oG,null),cG=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(Ua.Provider,{value:this.props.routeContext},x.createElement(iN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uG({routeContext:t,match:e,children:n}){let r=x.useContext(Cf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Ua.Provider,{value:t},n)}function dG(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);An(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:g,errors:y}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,g)=>{let y,b=!1,j=null,E=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,j=m.route.errorElement||lG,u&&(d<0&&g===0?(i6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):d===g&&(b=!0,E=m.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),T=()=>{let O;return y?O=j:b?O=E:m.route.Component?O=x.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=h,x.createElement(uG,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?x.createElement(cG,{location:n.location,revalidation:n.revalidation,component:j,error:y,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):T()},null)}function aN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fG(t){let e=x.useContext(Cf);return An(e,aN(t)),e}function hG(t){let e=x.useContext(t0);return An(e,aN(t)),e}function mG(t){let e=x.useContext(Ua);return An(e,aN(t)),e}function sN(t){let e=mG(t),n=e.matches[e.matches.length-1];return An(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pG(){return sN("useRouteId")}function gG(){let t=x.useContext(iN),e=hG("useRouteError"),n=sN("useRouteError");return t!==void 0?t:e.errors?.[n]}function yG(){let{router:t}=fG("useNavigate"),e=sN("useNavigate"),n=x.useRef(!1);return n6(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Oa(n.current,t6),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var ZI={};function i6(t,e,n){!e&&!ZI[t]&&(ZI[t]=!0,Oa(!1,n))}x.memo(vG);function vG({routes:t,future:e,state:n,unstable_onError:r}){return r6(t,void 0,n,r,e)}function xr({to:t,replace:e,state:n,relative:r}){An(Pf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(ds);Oa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=x.useContext(Ua),{pathname:o}=fs(),u=Vi(),d=rN(t,nN(a),o,r==="path"),h=JSON.stringify(d);return x.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function a6(t){return aG(t.context)}function dn(t){An(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xG({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){An(!Pf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=kf(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=n,b=x.useMemo(()=>{let j=ko(d,o);return j==null?null:{location:{pathname:j,search:h,hash:m,state:g,key:y},navigationType:r}},[o,d,h,m,g,y,r]);return Oa(b!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(ds.Provider,{value:u},x.createElement(_p.Provider,{children:e,value:b}))}function bG({children:t,location:e}){return sG(Xj(t),e)}function Xj(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let a=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Xj(r.props.children,a));return}An(r.type===dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),An(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xj(r.props.children,a)),n.push(o)}),n}var sv="get",ov="application/x-www-form-urlencoded";function n0(t){return t!=null&&typeof t.tagName=="string"}function wG(t){return n0(t)&&t.tagName.toLowerCase()==="button"}function _G(t){return n0(t)&&t.tagName.toLowerCase()==="form"}function jG(t){return n0(t)&&t.tagName.toLowerCase()==="input"}function EG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AG(t,e){return t.button===0&&(!e||e==="_self")&&!EG(t)}function Zj(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function NG(t,e){let n=Zj(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Cy=null;function SG(){if(Cy===null)try{new FormData(document.createElement("form"),0),Cy=!1}catch{Cy=!0}return Cy}var TG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function M1(t){return t!=null&&!TG.has(t)?(Oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ov}"`),null):t}function kG(t,e){let n,r,i,a,o;if(_G(t)){let u=t.getAttribute("action");r=u?ko(u,e):null,n=t.getAttribute("method")||sv,i=M1(t.getAttribute("enctype"))||ov,a=new FormData(t)}else if(wG(t)||jG(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?ko(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||sv,i=M1(t.getAttribute("formenctype"))||M1(u.getAttribute("enctype"))||ov,a=new FormData(u,t),!SG()){let{name:h,type:m,value:g}=t;if(m==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(n0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sv,r=null,i=ov,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CG(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ko(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function PG(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IG(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OG(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await PG(a,n);return o.links?o.links():[]}return[]}));return LG(r.flat(1).filter(IG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function JI(t,e,n,r,i,a){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>o(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function RG(t,e,{includeHydrateFallback:n}={}){return DG(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function DG(t){return[...new Set(t)]}function MG(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LG(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(MG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function s6(){let t=x.useContext(Cf);return oN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VG(){let t=x.useContext(t0);return oN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lN=x.createContext(void 0);lN.displayName="FrameworkContext";function o6(){let t=x.useContext(lN);return oN(t,"You must render this element inside a <HydratedRouter> element"),t}function zG(t,e){let n=x.useContext(lN),[r,i]=x.useState(!1),[a,o]=x.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,y=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=T=>{T.forEach(O=>{o(O.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[t]),x.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},j=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:rm(u,b),onBlur:rm(d,j),onMouseEnter:rm(h,b),onMouseLeave:rm(m,j),onTouchStart:rm(g,b)}]:[!1,y,{}]}function rm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UG({page:t,...e}){let{router:n}=s6(),r=x.useMemo(()=>QL(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement($G,{page:t,matches:r,...e}):null}function BG(t){let{manifest:e,routeModules:n}=o6(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return OG(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function $G({page:t,matches:e,...n}){let r=fs(),{manifest:i,routeModules:a}=o6(),{basename:o}=s6(),{loaderData:u,matches:d}=VG(),h=x.useMemo(()=>JI(t,e,d,i,r,"data"),[t,e,d,i,r]),m=x.useMemo(()=>JI(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,E=!1;if(e.forEach(T=>{let O=i.routes[T.route.id];!O||!O.hasLoader||(!h.some(C=>C.route.id===T.route.id)&&T.route.id in u&&a[T.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:j.add(T.route.id))}),j.size===0)return[];let A=CG(t,o,"data");return E&&j.size>0&&A.searchParams.set("_routes",e.filter(T=>j.has(T.route.id)).map(T=>T.route.id).join(",")),[A.pathname+A.search]},[o,u,r,i,h,e,t,a]),y=x.useMemo(()=>RG(m,i),[m,i]),b=BG(m);return x.createElement(x.Fragment,null,g.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:E})=>x.createElement("link",{key:j,nonce:n.nonce,...E})))}function FG(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l6&&(window.__reactRouterVersion="7.9.4")}catch{}function qG({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=kK({window:n,v5Compat:!0}));let i=r.current,[a,o]=x.useState({action:i.action,location:i.location}),u=x.useCallback(d=>{x.startTransition(()=>o(d))},[o]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(xG,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var c6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u6=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,...y},b){let{basename:j}=x.useContext(ds),E=typeof h=="string"&&c6.test(h),A,T=!1;if(typeof h=="string"&&E&&(A=h,l6))try{let I=new URL(window.location.href),L=h.startsWith("//")?new URL(I.protocol+h):new URL(h),V=ko(L.pathname,j);L.origin===I.origin&&V!=null?h=V+L.search+L.hash:T=!0}catch{Oa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=nG(h,{relative:i}),[C,U,B]=zG(r,y),$=GG(h,{replace:o,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function N(I){e&&e(I),I.defaultPrevented||$(I)}let k=x.createElement("a",{...y,...B,href:A||O,onClick:T||a?e:N,ref:FG(b,U),target:d,"data-discover":!E&&n==="render"?"true":void 0});return C&&!E?x.createElement(x.Fragment,null,k,x.createElement(UG,{page:O})):k});u6.displayName="Link";var d6=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:u,children:d,...h},m){let g=Ep(o,{relative:h.relative}),y=fs(),b=x.useContext(t0),{navigator:j,basename:E}=x.useContext(ds),A=b!=null&&JG(g)&&u===!0,T=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,O=y.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&E&&(C=ko(C,E)||C);const U=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let B=O===T||!i&&O.startsWith(T)&&O.charAt(U)==="/",$=C!=null&&(C===T||!i&&C.startsWith(T)&&C.charAt(T.length)==="/"),N={isActive:B,isPending:$,isTransitioning:A},k=B?e:void 0,I;typeof r=="function"?I=r(N):I=[r,B?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(N):a;return x.createElement(u6,{...h,"aria-current":k,className:I,ref:m,style:L,to:o,viewTransition:u},typeof d=="function"?d(N):d)});d6.displayName="NavLink";var HG=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=sv,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,...y},b)=>{let j=XG(),E=ZG(u,{relative:h}),A=o.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&c6.test(u),O=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let U=C.nativeEvent.submitter,B=U?.getAttribute("formmethod")||o;j(U||C.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:g})};return x.createElement("form",{ref:b,method:A,action:E,onSubmit:r?d:O,...y,"data-discover":!T&&t==="render"?"true":void 0})});HG.displayName="Form";function KG(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f6(t){let e=x.useContext(Cf);return An(e,KG(t)),e}function GG(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let u=Vi(),d=fs(),h=Ep(t,{relative:a});return x.useCallback(m=>{if(AG(m,e)){m.preventDefault();let g=n!==void 0?n:qm(d)===qm(h);u(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,u,h,n,r,e,t,i,a,o])}function WG(t){Oa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(Zj(t)),n=x.useRef(!1),r=fs(),i=x.useMemo(()=>NG(r.search,n.current?null:e.current),[r.search]),a=Vi(),o=x.useCallback((u,d)=>{const h=Zj(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,a("?"+h,d)},[a,i]);return[i,o]}var YG=0,QG=()=>`__${String(++YG)}__`;function XG(){let{router:t}=f6("useSubmit"),{basename:e}=x.useContext(ds),n=pG();return x.useCallback(async(r,i={})=>{let{action:a,method:o,encType:u,formData:d,body:h}=kG(r,e);if(i.navigate===!1){let m=i.fetcherKey||QG();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZG(t,{relative:e}={}){let{basename:n}=x.useContext(ds),r=x.useContext(Ua);An(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Ep(t||".",{relative:e})},o=fs();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:No([n,a.pathname])),qm(a)}function JG(t,{relative:e}={}){let n=x.useContext(e6);An(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f6("useViewTransitionState"),i=Ep(t,{relative:e});if(!n.isTransitioning)return!1;let a=ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sv(i.pathname,o)!=null||Sv(i.pathname,a)!=null}var h6=YL();const eW=()=>{};var eO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},p6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,b=h&63;d||(b=64,o||(y=64)),r.push(n[m],n[g],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new nW;const y=a<<2|u>>4;if(r.push(y),h!==64){const b=u<<4&240|h>>2;if(r.push(b),g!==64){const j=h<<6&192|g;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rW=function(t){const e=m6(t);return p6.encodeByteArray(e,!0)},Tv=function(t){return rW(t).replace(/\./g,"")},g6=function(t){try{return p6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=()=>iW().__FIREBASE_DEFAULTS__,sW=()=>{if(typeof process>"u"||typeof eO>"u")return;const t=eO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g6(t[1]);return e&&JSON.parse(e)},r0=()=>{try{return eW()||aW()||sW()||oW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y6=t=>r0()?.emulatorHosts?.[t],cN=t=>{const e=y6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v6=()=>r0()?.config,x6=t=>r0()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tv(JSON.stringify(n)),Tv(JSON.stringify(o)),""].join(".")}const Cm={};function cW(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cm))Cm[e]?t.emulator.push(e):t.prod.push(e);return t}function uW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tO=!1;function a0(t,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||Cm[t]===e||Cm[t]||tO)return;Cm[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=cW().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{tO=!0,o()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=uW(r),b=n("text"),j=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),T=n("preprendIcon"),O=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const C=y.element;u(C),m(A,E);const U=h();d(O,T),C.append(O,j,A,U),document.body.appendChild(C)}a?(j.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function fW(){const t=r0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pW(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gW(){return!fW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _6(){try{return typeof indexedDB=="object"}catch{return!1}}function j6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function yW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="FirebaseError";class ia extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vW,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?xW(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ia(i,u,r)}}function xW(t,e){return t.replace(bW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bW=/\{\$([^}]+)}/g;function wW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(nO(a)&&nO(o)){if(!Yl(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _W(t,e){const n=new jW(t,e);return n.subscribe.bind(n)}class jW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=L1),i.error===void 0&&(i.error=L1),i.complete===void 0&&(i.complete=L1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function L1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=1e3,NW=2,SW=14400*1e3,TW=.5;function rO(t,e=AW,n=NW){const r=e*Math.pow(n,t),i=Math.round(TW*r*(Math.random()-.5)*2);return Math.min(SW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kW=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PW(e))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xc){return this.instances.has(e)}getOptions(e=Xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xc){return this.component?this.component.multipleInstances?e:Xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CW(t){return t===Xc?void 0:t}function PW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nt||(Nt={}));const OW={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},RW=Nt.INFO,DW={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},MW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s0{constructor(e){this.name=e,this._logLevel=RW,this._logHandler=MW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const LW=(t,e)=>e.some(n=>t instanceof n);let iO,aO;function VW(){return iO||(iO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zW(){return aO||(aO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E6=new WeakMap,Jj=new WeakMap,A6=new WeakMap,V1=new WeakMap,uN=new WeakMap;function UW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n($l(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E6.set(n,t)}).catch(()=>{}),uN.set(e,t),e}function BW(t){if(Jj.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Jj.set(t,e)}let eE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jj.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $l(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $W(t){eE=t(eE)}function FW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(z1(this),e,...n);return A6.set(r,e.sort?e.sort():[e]),$l(r)}:zW().includes(t)?function(...e){return t.apply(z1(this),e),$l(E6.get(this))}:function(...e){return $l(t.apply(z1(this),e))}}function qW(t){return typeof t=="function"?FW(t):(t instanceof IDBTransaction&&BW(t),LW(t,VW())?new Proxy(t,eE):t)}function $l(t){if(t instanceof IDBRequest)return UW(t);if(V1.has(t))return V1.get(t);const e=qW(t);return e!==t&&(V1.set(t,e),uN.set(e,t)),e}const z1=t=>uN.get(t);function N6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=$l(o);return r&&o.addEventListener("upgradeneeded",d=>{r($l(o.result),d.oldVersion,d.newVersion,$l(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const HW=["get","getKey","getAll","getAllKeys","count"],KW=["put","add","delete","clear"],U1=new Map;function sO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(U1.get(e))return U1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HW.includes(n)))return;const a=async function(o,...u){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return U1.set(e,a),a}$W(t=>({...t,get:(e,n,r)=>sO(e,n)||t.get(e,n,r),has:(e,n)=>!!sO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WW(t){return t.getComponent()?.type==="VERSION"}const tE="@firebase/app",oO="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new s0("@firebase/app"),YW="@firebase/app-compat",QW="@firebase/analytics-compat",XW="@firebase/analytics",ZW="@firebase/app-check-compat",JW="@firebase/app-check",eY="@firebase/auth",tY="@firebase/auth-compat",nY="@firebase/database",rY="@firebase/data-connect",iY="@firebase/database-compat",aY="@firebase/functions",sY="@firebase/functions-compat",oY="@firebase/installations",lY="@firebase/installations-compat",cY="@firebase/messaging",uY="@firebase/messaging-compat",dY="@firebase/performance",fY="@firebase/performance-compat",hY="@firebase/remote-config",mY="@firebase/remote-config-compat",pY="@firebase/storage",gY="@firebase/storage-compat",yY="@firebase/firestore",vY="@firebase/ai",xY="@firebase/firestore-compat",bY="firebase",wY="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="[DEFAULT]",_Y={[tE]:"fire-core",[YW]:"fire-core-compat",[XW]:"fire-analytics",[QW]:"fire-analytics-compat",[JW]:"fire-app-check",[ZW]:"fire-app-check-compat",[eY]:"fire-auth",[tY]:"fire-auth-compat",[nY]:"fire-rtdb",[rY]:"fire-data-connect",[iY]:"fire-rtdb-compat",[aY]:"fire-fn",[sY]:"fire-fn-compat",[oY]:"fire-iid",[lY]:"fire-iid-compat",[cY]:"fire-fcm",[uY]:"fire-fcm-compat",[dY]:"fire-perf",[fY]:"fire-perf-compat",[hY]:"fire-rc",[mY]:"fire-rc-compat",[pY]:"fire-gcs",[gY]:"fire-gcs-compat",[yY]:"fire-fst",[xY]:"fire-fst-compat",[vY]:"fire-vertex","fire-js":"fire-js",[bY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new Map,jY=new Map,rE=new Map;function lO(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(rE.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;rE.set(e,t);for(const n of Hm.values())lO(n,t);for(const n of jY.values())lO(n,t);return!0}function Ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ci(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fl=new Mu("app","Firebase",EY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=wY;function S6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:nE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fl.create("bad-app-name",{appName:String(i)});if(n||(n=v6()),!n)throw Fl.create("no-options");const a=Hm.get(i);if(a){if(Yl(n,a.options)&&Yl(r,a.config))return a;throw Fl.create("duplicate-app",{appName:i})}const o=new IW(i);for(const d of rE.values())o.addComponent(d);const u=new AY(n,r,o);return Hm.set(i,u),u}function Np(t=nE){const e=Hm.get(t);if(!e&&t===nE&&v6())return S6();if(!e)throw Fl.create("no-app",{appName:t});return e}function cO(){return Array.from(Hm.values())}function Zr(t,e,n){let r=_Y[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(o.join(" "));return}Ra(new ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="firebase-heartbeat-database",SY=1,Km="firebase-heartbeat-store";let B1=null;function T6(){return B1||(B1=N6(NY,SY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Km)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fl.create("idb-open",{originalErrorMessage:t.message})})),B1}async function TY(t){try{const n=(await T6()).transaction(Km),r=await n.objectStore(Km).get(k6(t));return await n.done,r}catch(e){if(e instanceof ia)Co.warn(e.message);else{const n=Fl.create("idb-get",{originalErrorMessage:e?.message});Co.warn(n.message)}}}async function uO(t,e){try{const r=(await T6()).transaction(Km,"readwrite");await r.objectStore(Km).put(e,k6(t)),await r.done}catch(n){if(n instanceof ia)Co.warn(n.message);else{const r=Fl.create("idb-set",{originalErrorMessage:n?.message});Co.warn(r.message)}}}function k6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=1024,CY=30;class PY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>CY){const i=RY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Co.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dO(),{heartbeatsToSend:n,unsentEntries:r}=IY(this._heartbeatsCache.heartbeats),i=Tv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Co.warn(e),""}}}function dO(){return new Date().toISOString().substring(0,10)}function IY(t,e=kY){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),fO(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _6()?j6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TY(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fO(t){return Tv(JSON.stringify({version:2,heartbeats:t})).length}function RY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(t){Ra(new ta("platform-logger",e=>new GW(e),"PRIVATE")),Ra(new ta("heartbeat",e=>new PY(e),"PRIVATE")),Zr(tE,oO,t),Zr(tE,oO,"esm2020"),Zr("fire-js","")}DY("");function C6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MY=C6,P6=new Mu("auth","Firebase",C6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new s0("@firebase/auth");function LY(t,...e){kv.logLevel<=Nt.WARN&&kv.warn(`Auth (${Lu}): ${t}`,...e)}function lv(t,...e){kv.logLevel<=Nt.ERROR&&kv.error(`Auth (${Lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw fN(t,...e)}function os(t,...e){return fN(t,...e)}function dN(t,e,n){const r={...MY(),[e]:n};return new Mu("auth","Firebase",r).create(e,{appName:t.name})}function ql(t){return dN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VY(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&na(t,"argument-error"),dN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P6.create(t,...e)}function rt(t,e,...n){if(!t)throw fN(e,...n)}function xo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lv(e),new Error(e)}function Po(t,e){t||xo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof self<"u"&&self.location?.href||""}function zY(){return hO()==="http:"||hO()==="https:"}function hO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zY()||w6()||"connection"in navigator)?navigator.onLine:!0}function BY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Po(n>e,"Short delay should be less than long delay!"),this.isMobile=dW()||mW()}get(){return UY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){Po(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qY=new Sp(3e4,6e4);function dc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hs(t,e,n,r,i={}){return O6(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const u=Ap({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return hW()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&qo(t.emulatorConfig.host)&&(h.credentials="include"),I6.fetch()(await R6(t,t.config.apiHost,n,u),h)})}async function O6(t,e,n){t._canInitEmulator=!1;const r={...$Y,...e};try{const i=new KY(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Py(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Py(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Py(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Py(t,"user-disabled",o);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw dN(t,m,h);na(t,m)}}catch(i){if(i instanceof ia)throw i;na(t,"network-request-failed",{message:String(i)})}}async function o0(t,e,n,r,i={}){const a=await Hs(t,e,n,r,i);return"mfaPendingCredential"in a&&na(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function R6(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?hN(t.config,i):`${t.config.apiScheme}://${i}`;return FY.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function HY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),qY.get())})}}function Py(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=os(t,e,r);return i.customData._tokenResponse=n,i}function mO(t){return t!==void 0&&t.enterprise!==void 0}class GY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WY(t,e){return Hs(t,"GET","/v2/recaptchaConfig",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(t,e){return Hs(t,"POST","/v1/accounts:delete",e)}async function Cv(t,e){return Hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QY(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=mN(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Pm($1(i.auth_time)),issuedAtTime:Pm($1(i.iat)),expirationTime:Pm($1(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function $1(t){return Number(t)*1e3}function mN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lv("JWT malformed, contained fewer than 3 sections"),null;try{const i=g6(n);return i?JSON.parse(i):(lv("Failed to decode base64 JWT payload"),null)}catch(i){return lv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pO(t){const e=mN(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ia&&XY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pm(this.lastLoginAt),this.creationTime=Pm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pv(t){const e=t.auth,n=await t.getIdToken(),r=await rf(t,Cv(e,{idToken:n}));rt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?D6(i.providerUserInfo):[],o=eQ(t.providerData,a),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!o?.length,h=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new aE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function JY(t){const e=Ot(t);await Pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tQ(t,e){const n=await O6(t,{},async()=>{const r=Ap({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await R6(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&qo(t.emulatorConfig.host)&&(d.credentials="include"),I6.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nQ(t,e){return Hs(t,"POST","/v2/accounts:revokeToken",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=pO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await tQ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Gd;return r&&(rt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(rt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gd,this.toJSON())}_performRefresh(){return xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ZY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new aE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rf(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QY(this,e)}reload(){return JY(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(ql(this.auth));const e=await this.getIdToken();return await rf(this,YY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:b,providerData:j,stsTokenManager:E}=n;rt(g&&E,e,"internal-error");const A=Gd.fromJSON(this.name,E);rt(typeof g=="string",e,"internal-error"),Pl(r,e.name),Pl(i,e.name),rt(typeof y=="boolean",e,"internal-error"),rt(typeof b=="boolean",e,"internal-error"),Pl(a,e.name),Pl(o,e.name),Pl(u,e.name),Pl(d,e.name),Pl(h,e.name),Pl(m,e.name);const T=new is({uid:g,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:b,photoURL:o,phoneNumber:a,tenantId:u,stsTokenManager:A,createdAt:h,lastLoginAt:m});return j&&Array.isArray(j)&&(T.providerData=j.map(O=>({...O}))),d&&(T._redirectEventId=d),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gd;i.updateFromServerResponse(n);const a=new is({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?D6(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,u=new Gd;u.updateFromIdToken(r);const d=new is({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new aE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Map;function bo(t){Po(t instanceof Function,"Expected a class definition");let e=gO.get(t);return e?(Po(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M6.type="NONE";const yO=M6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e,n){return`firebase:${t}:${e}:${n}`}class Wd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=cv(this.userKey,i.apiKey,a),this.fullPersistenceKey=cv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cv(this.auth,{idToken:e}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wd(bo(yO),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||bo(yO);const o=cv(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(o);if(m){let g;if(typeof m=="string"){const y=await Cv(e,{idToken:m}).catch(()=>{});if(!y)break;g=await is._fromGetAccountInfoResponse(e,y,m)}else g=is._fromJSON(e,m);h!==a&&(u=g),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Wd(a,e,r):(a=d[0],u&&await a._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new Wd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($6(e))return"Blackberry";if(F6(e))return"Webos";if(V6(e))return"Safari";if((e.includes("chrome/")||z6(e))&&!e.includes("edge/"))return"Chrome";if(B6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function L6(t=ti()){return/firefox\//i.test(t)}function V6(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z6(t=ti()){return/crios\//i.test(t)}function U6(t=ti()){return/iemobile/i.test(t)}function B6(t=ti()){return/android/i.test(t)}function $6(t=ti()){return/blackberry/i.test(t)}function F6(t=ti()){return/webos/i.test(t)}function pN(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rQ(t=ti()){return pN(t)&&!!window.navigator?.standalone}function iQ(){return pW()&&document.documentMode===10}function q6(t=ti()){return pN(t)||B6(t)||F6(t)||$6(t)||/windows phone/i.test(t)||U6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e=[]){let n;switch(t){case"Browser":n=vO(ti());break;case"Worker":n=`${vO(ti())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,u)=>{try{const d=e(a);o(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sQ(t,e={}){return Hs(t,"GET","/v2/passwordPolicy",dc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=6;class lQ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xO(this),this.idTokenSubscription=new xO(this),this.beforeStateQueue=new aQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cv(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===o)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(ql(this));const n=e?Ot(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(ql(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(ql(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sQ(this),n=new lQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nQ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bo(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Wd.create(this,[bo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LY(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fc(t){return Ot(t)}class xO{constructor(e){this.auth=e,this.observer=null,this.addObserver=_W(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uQ(t){l0=t}function K6(t){return l0.loadJS(t)}function dQ(){return l0.recaptchaEnterpriseScript}function fQ(){return l0.gapiScript}function hQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mQ{constructor(){this.enterprise=new pQ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pQ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gQ="recaptcha-enterprise",G6="NO_RECAPTCHA";class yQ{constructor(e){this.type=gQ,this.auth=fc(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{WY(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new GY(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{u(d)})})}function i(a,o,u){const d=window.grecaptcha;mO(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(G6)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mQ().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(u=>{if(!n&&mO(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=dQ();d.length!==0&&(d+=u),K6(d).then(()=>{i(u,a,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function bO(t,e,n,r=!1,i=!1){const a=new yQ(t);let o;if(i)o=G6;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function wO(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bO(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bO(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(t,e){const n=Ho(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Yl(a,e??{}))return i;na(i,"already-initialized")}return n.initialize({options:e})}function xQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bQ(t,e,n){const r=fc(t);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=W6(e),{host:o,port:u}=wQ(e),d=u===null?"":`:${u}`,h={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Yl(h,r.config.emulator)&&Yl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,qo(o)?(i0(`${a}//${o}${d}`),a0("Auth",!0)):_Q()}function W6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wQ(t){const e=W6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:_O(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:_O(o)}}}function _O(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _Q(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xo("not implemented")}_getIdTokenResponse(e){return xo("not implemented")}_linkToIdToken(e,n){return xo("not implemented")}_getReauthenticationResolver(e){return xo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e){return Hs(t,"POST","/v1/accounts:resetPassword",dc(t,e))}async function jQ(t,e){return Hs(t,"POST","/v1/accounts:update",e)}async function EQ(t,e){return Hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AQ(t,e){return o0(t,"POST","/v1/accounts:signInWithPassword",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NQ(t,e){return o0(t,"POST","/v1/accounts:signInWithEmailLink",dc(t,e))}async function SQ(t,e){return o0(t,"POST","/v1/accounts:signInWithEmailLink",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends gN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wO(e,n,"signInWithPassword",AQ);case"emailLink":return NQ(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wO(e,r,"signUpPassword",EQ);case"emailLink":return SQ(e,{idToken:n,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t,e){return o0(t,"POST","/v1/accounts:signInWithIdp",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ="http://localhost";class xu extends gN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new xu(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yd(e,n)}buildRequest(){const e={requestUri:TQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ap(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CQ(t){const e=pm(gm(t)).link,n=e?pm(gm(e)).deep_link_id:null,r=pm(gm(t)).deep_link_id;return(r?pm(gm(r)).link:null)||r||n||e||t}class yN{constructor(e){const n=pm(gm(e)),r=n.apiKey??null,i=n.oobCode??null,a=kQ(n.mode??null);rt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CQ(e);try{return new yN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.providerId=If.PROVIDER_ID}static credential(e,n){return Gm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yN.parseLink(n);return rt(r,"argument-error"),Gm._fromEmailAndCode(e,r.code,r.tenantId)}}If.PROVIDER_ID="password";If.EMAIL_PASSWORD_SIGN_IN_METHOD="password";If.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends vN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Tp{constructor(){super("facebook.com")}static credential(e){return xu._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dl.credential(e.oauthAccessToken)}catch{return null}}}Dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Tp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xu._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Tp{constructor(){super("github.com")}static credential(e){return xu._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.GITHUB_SIGN_IN_METHOD="github.com";Ml.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Tp{constructor(){super("twitter.com")}static credential(e,n){return xu._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ll.credential(n,r)}catch{return null}}}Ll.TWITTER_SIGN_IN_METHOD="twitter.com";Ll.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await is._fromIdTokenResponse(e,r,i),o=jO(r);return new af({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jO(r);return new af({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends ia{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Iv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Iv(e,n,r,i)}}function Q6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Iv._fromErrorAndOperation(t,a,e,r):a})}async function PQ(t,e,n=!1){const r=await rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return af._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(t,e,n=!1){const{auth:r}=t;if(Ci(r.app))return Promise.reject(ql(r));const i="reauthenticate";try{const a=await rf(t,Q6(r,i,e,t),n);rt(a.idToken,r,"internal-error");const o=mN(a.idToken);rt(o,r,"internal-error");const{sub:u}=o;return rt(t.uid===u,r,"user-mismatch"),af._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&na(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e,n=!1){if(Ci(t.app))return Promise.reject(ql(t));const r="signIn",i=await Q6(t,r,e),a=await af._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function OQ(t,e){return X6(fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?bN._fromServerResponse(e,n):"totpInfo"in n?wN._fromServerResponse(e,n):na(e,"internal-error")}}class bN extends xN{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new bN(n)}}class wN extends xN{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new wN(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t){const e=fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RQ(t,e,n){await Y6(Ot(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z6(t),r})}async function DQ(t,e){const n=Ot(t),r=await Y6(n,{oobCode:e}),i=r.requestType;switch(rt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":rt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":rt(r.mfaInfo,n,"internal-error");default:rt(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=xN._fromServerResponse(fc(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function MQ(t,e){const{data:n}=await DQ(Ot(t),e);return n.email}function LQ(t,e,n){return Ci(t.app)?Promise.reject(ql(t)):OQ(Ot(t),If.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z6(t),r})}function VQ(t,e){return zQ(Ot(t),null,e)}async function zQ(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const o=await rf(t,jQ(r,a));await t._updateTokensIfNecessary(o,!0)}function UQ(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function BQ(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function $Q(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function EO(t){return Ot(t).signOut()}const Ov="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ov,"1"),this.storage.removeItem(Ov),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=1e3,qQ=10;class eV extends J6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);iQ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eV.type="LOCAL";const HQ=eV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends J6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tV.type="SESSION";const nV=tV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new c0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,a)),d=await KQ(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}c0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,d)=>{const h=_N("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function WQ(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function YQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QQ(){return navigator?.serviceWorker?.controller||null}function XQ(){return rV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="firebaseLocalStorageDb",ZQ=1,Rv="firebaseLocalStorage",aV="fbase_key";class kp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u0(t,e){return t.transaction([Rv],e?"readwrite":"readonly").objectStore(Rv)}function JQ(){const t=indexedDB.deleteDatabase(iV);return new kp(t).toPromise()}function sE(){const t=indexedDB.open(iV,ZQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rv,{keyPath:aV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rv)?e(r):(r.close(),await JQ(),e(await sE()))})})}async function AO(t,e,n){const r=u0(t,!0).put({[aV]:e,value:n});return new kp(r).toPromise()}async function eX(t,e){const n=u0(t,!1).get(e),r=await new kp(n).toPromise();return r===void 0?null:r.value}function NO(t,e){const n=u0(t,!0).delete(e);return new kp(n).toPromise()}const tX=800,nX=3;class sV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=c0._getInstance(XQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YQ(),!this.activeServiceWorker)return;this.sender=new GQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sE();return await AO(e,Ov,"1"),await NO(e,Ov),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=u0(i,!1).getAll();return new kp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sV.type="LOCAL";const rX=sV;new Sp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e){return e?bo(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends gN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iX(t){return X6(t.auth,new jN(t),t.bypassAuthState)}function aX(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),IQ(n,new jN(t),t.bypassAuthState)}async function sX(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),PQ(n,new jN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iX;case"linkViaPopup":case"linkViaRedirect":return sX;case"reauthViaPopup":case"reauthViaRedirect":return aX;default:na(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=new Sp(2e3,1e4);async function lX(t,e,n){if(Ci(t.app))return Promise.reject(os(t,"operation-not-supported-in-this-environment"));const r=fc(t);VY(t,e,vN);const i=oV(r,n);return new ru(r,"signInViaPopup",e,i).executeNotNull()}class ru extends lV{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Po(this.filter.length===1,"Popup operations only handle one event");const e=_N();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oX.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX="pendingRedirect",uv=new Map;class uX extends lV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uv.get(this.auth._key());if(!e){try{const r=await dX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uv.set(this.auth._key(),e)}return this.bypassAuthState||uv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dX(t,e){const n=mX(e),r=hX(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fX(t,e){uv.set(t._key(),e)}function hX(t){return bo(t._redirectPersistence)}function mX(t){return cv(cX,t.config.apiKey,t.name)}async function pX(t,e,n=!1){if(Ci(t.app))return Promise.reject(ql(t));const r=fc(t),i=oV(r,e),o=await new uX(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=600*1e3;class yX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cV(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(os(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gX&&this.cachedEventUids.clear(),this.cachedEventUids.has(SO(e))}saveEventToCache(e){this.cachedEventUids.add(SO(e)),this.lastProcessedEventTime=Date.now()}}function SO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cV({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX(t,e={}){return Hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wX=/^https?/;async function _X(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xX(t);for(const n of e)try{if(jX(n))return}catch{}na(t,"unauthorized-domain")}function jX(t){const e=iE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wX.test(n))return!1;if(bX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=new Sp(3e4,6e4);function TO(){const t=Os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AX(t){return new Promise((e,n)=>{function r(){TO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TO(),n(os(t,"network-request-failed"))},timeout:EX.get()})}if(Os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Os().gapi?.load)r();else{const i=hQ("iframefcb");return Os()[i]=()=>{gapi.load?r():n(os(t,"network-request-failed"))},K6(`${fQ()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw dv=null,e})}let dv=null;function NX(t){return dv=dv||AX(t),dv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=new Sp(5e3,15e3),TX="__/auth/iframe",kX="emulator/auth/iframe",CX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IX(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hN(e,kX):`https://${t.config.authDomain}/${TX}`,r={apiKey:e.apiKey,appName:t.name,v:Lu},i=PX.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ap(r).slice(1)}`}async function OX(t){const e=await NX(t),n=Os().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:IX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CX,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=os(t,"network-request-failed"),u=Os().setTimeout(()=>{a(o)},SX.get());function d(){Os().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DX=500,MX=600,LX="_blank",VX="http://localhost";class kO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zX(t,e,n,r=DX,i=MX){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...RX,width:r.toString(),height:i.toString(),top:a,left:o},h=ti().toLowerCase();n&&(u=z6(h)?LX:n),L6(h)&&(e=e||VX,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[b,j])=>`${y}${b}=${j},`,"");if(rQ(h)&&u!=="_self")return UX(e||"",u),new kO(null);const g=window.open(e||"",u,m);rt(g,t,"popup-blocked");try{g.focus()}catch{}return new kO(g)}function UX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX="__/auth/handler",$X="emulator/auth/handler",FX=encodeURIComponent("fac");async function CO(t,e,n,r,i,a){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lu,eventId:i};if(e instanceof vN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof Tp){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await t._getAppCheckToken(),h=d?`#${FX}=${encodeURIComponent(d)}`:"";return`${qX(t)}?${Ap(u).slice(1)}${h}`}function qX({config:t}){return t.emulator?hN(t,$X):`https://${t.authDomain}/${BX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="webStorageSupport";class HX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nV,this._completeRedirectFn=pX,this._overrideRedirectResult=fX}async _openPopup(e,n,r,i){Po(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await CO(e,n,r,iE(),i);return zX(e,a,_N())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await CO(e,n,r,iE(),i);return WQ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Po(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OX(e),r=new yX(e);return n.register("authEvent",i=>(rt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(F1,{type:F1},i=>{const a=i?.[0]?.[F1];a!==void 0&&n(!!a),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_X(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return q6()||V6()||pN()}}const KX=HX;var PO="@firebase/auth",IO="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YX(t){Ra(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;rt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H6(t)},h=new cQ(r,i,a,d);return xQ(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new ta("auth-internal",e=>{const n=fc(e.getProvider("auth").getImmediate());return(r=>new GX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(PO,IO,WX(t)),Zr(PO,IO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=300,XX=x6("authIdTokenMaxAge")||QX;let OO=null;const ZX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XX)return;const i=n?.token;OO!==i&&(OO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JX(t=Np()){const e=Ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vQ(t,{popupRedirectResolver:KX,persistence:[rX,HQ,nV]}),r=x6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=ZX(a.toString());BQ(n,o,()=>o(n.currentUser)),UQ(n,u=>o(u))}}const i=y6("auth");return i&&bQ(n,`http://${i}`),n}function eZ(){return document.getElementsByTagName("head")?.[0]??document}uQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=os("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",eZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YX("Browser");var tZ="firebase",nZ="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(tZ,nZ,"app");const uV="@firebase/installations",EN="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=1e4,fV=`w:${EN}`,hV="FIS_v2",rZ="https://firebaseinstallations.googleapis.com/v1",iZ=3600*1e3,aZ="installations",sZ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bu=new Mu(aZ,sZ,oZ);function mV(t){return t instanceof ia&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV({projectId:t}){return`${rZ}/projects/${t}/installations`}function gV(t){return{token:t.token,requestStatus:2,expiresIn:cZ(t.expiresIn),creationTime:Date.now()}}async function yV(t,e){const r=(await e.json()).error;return bu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lZ(t,{refreshToken:e}){const n=vV(t);return n.append("Authorization",uZ(e)),n}async function xV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cZ(t){return Number(t.replace("s","000"))}function uZ(t){return`${hV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dZ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pV(t),i=vV(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:hV,appId:t.appId,sdkVersion:fV},u={method:"POST",headers:i,body:JSON.stringify(o)},d=await xV(()=>fetch(r,u));if(d.ok){const h=await d.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:gV(h.authToken)}}else throw await yV("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ=/^[cdef][\w-]{21}$/,oE="";function mZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=pZ(t);return hZ.test(n)?n:oE}catch{return oE}}function pZ(t){return fZ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new Map;function _V(t,e){const n=d0(t);jV(n,e),gZ(n,e)}function jV(t,e){const n=wV.get(t);if(n)for(const r of n)r(e)}function gZ(t,e){const n=yZ();n&&n.postMessage({key:t,fid:e}),vZ()}let iu=null;function yZ(){return!iu&&"BroadcastChannel"in self&&(iu=new BroadcastChannel("[Firebase] FID Change"),iu.onmessage=t=>{jV(t.data.key,t.data.fid)}),iu}function vZ(){wV.size===0&&iu&&(iu.close(),iu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ="firebase-installations-database",bZ=1,wu="firebase-installations-store";let q1=null;function AN(){return q1||(q1=N6(xZ,bZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wu)}}})),q1}async function Dv(t,e){const n=d0(t),i=(await AN()).transaction(wu,"readwrite"),a=i.objectStore(wu),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&_V(t,e.fid),e}async function EV(t){const e=d0(t),r=(await AN()).transaction(wu,"readwrite");await r.objectStore(wu).delete(e),await r.done}async function f0(t,e){const n=d0(t),i=(await AN()).transaction(wu,"readwrite"),a=i.objectStore(wu),o=await a.get(n),u=e(o);return u===void 0?await a.delete(n):await a.put(u,n),await i.done,u&&(!o||o.fid!==u.fid)&&_V(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t){let e;const n=await f0(t.appConfig,r=>{const i=wZ(r),a=_Z(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===oE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wZ(t){const e=t||{fid:mZ(),registrationStatus:0};return AV(e)}function _Z(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jZ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:EZ(t)}:{installationEntry:e}}async function jZ(t,e){try{const n=await dZ(t,e);return Dv(t.appConfig,n)}catch(n){throw mV(n)&&n.customData.serverCode===409?await EV(t.appConfig):await Dv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function EZ(t){let e=await RO(t.appConfig);for(;e.registrationStatus===1;)await bV(100),e=await RO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await NN(t);return r||n}return e}function RO(t){return f0(t,e=>{if(!e)throw bu.create("installation-not-found");return AV(e)})}function AV(t){return AZ(t)?{fid:t.fid,registrationStatus:0}:t}function AZ(t){return t.registrationStatus===1&&t.registrationTime+dV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NZ({appConfig:t,heartbeatServiceProvider:e},n){const r=SZ(t,n),i=lZ(t,n),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:fV,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(o)},d=await xV(()=>fetch(r,u));if(d.ok){const h=await d.json();return gV(h)}else throw await yV("Generate Auth Token",d)}function SZ(t,{fid:e}){return`${pV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e=!1){let n;const r=await f0(t.appConfig,a=>{if(!NV(a))throw bu.create("not-registered");const o=a.authToken;if(!e&&CZ(o))return a;if(o.requestStatus===1)return n=TZ(t,e),a;{if(!navigator.onLine)throw bu.create("app-offline");const u=IZ(a);return n=kZ(t,u),u}});return n?await n:r.authToken}async function TZ(t,e){let n=await DO(t.appConfig);for(;n.authToken.requestStatus===1;)await bV(100),n=await DO(t.appConfig);const r=n.authToken;return r.requestStatus===0?SN(t,e):r}function DO(t){return f0(t,e=>{if(!NV(e))throw bu.create("not-registered");const n=e.authToken;return OZ(n)?{...e,authToken:{requestStatus:0}}:e})}async function kZ(t,e){try{const n=await NZ(t,e),r={...e,authToken:n};return await Dv(t.appConfig,r),n}catch(n){if(mV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EV(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Dv(t.appConfig,r)}throw n}}function NV(t){return t!==void 0&&t.registrationStatus===2}function CZ(t){return t.requestStatus===2&&!PZ(t)}function PZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+iZ}function IZ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function OZ(t){return t.requestStatus===1&&t.requestTime+dV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await NN(e);return r?r.catch(console.error):SN(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DZ(t,e=!1){const n=t;return await MZ(n),(await SN(n,e)).token}async function MZ(t){const{registrationPromise:e}=await NN(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t){if(!t||!t.options)throw H1("App Configuration");if(!t.name)throw H1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw H1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function H1(t){return bu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="installations",VZ="installations-internal",zZ=t=>{const e=t.getProvider("app").getImmediate(),n=LZ(e),r=Ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},UZ=t=>{const e=t.getProvider("app").getImmediate(),n=Ho(e,SV).getImmediate();return{getId:()=>RZ(n),getToken:i=>DZ(n,i)}};function BZ(){Ra(new ta(SV,zZ,"PUBLIC")),Ra(new ta(VZ,UZ,"PRIVATE"))}BZ();Zr(uV,EN);Zr(uV,EN,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="analytics",$Z="firebase_id",FZ="origin",qZ=60*1e3,HZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TN="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new s0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zi=new Mu("analytics","Analytics",KZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(t){if(!t.startsWith(TN)){const e=Zi.create("invalid-gtag-resource",{gtagURL:t});return mi.warn(e.message),""}return t}function TV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function WZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function YZ(t,e){const n=WZ("firebase-js-sdk-policy",{createScriptURL:GZ}),r=document.createElement("script"),i=`${TN}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function QZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function XZ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const d=(await TV(n)).find(h=>h.measurementId===i);d&&await e[d.appId]}}catch(u){mi.error(u)}t("config",i,a)}async function ZZ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const u=await TV(n);for(const d of o){const h=u.find(g=>g.measurementId===d),m=h&&e[h.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){mi.error(a)}}function JZ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[u,d]=o;await ZZ(t,e,n,u,d)}else if(a==="config"){const[u,d]=o;await XZ(t,e,n,r,u,d)}else if(a==="consent"){const[u,d]=o;t("consent",u,d)}else if(a==="get"){const[u,d,h]=o;t("get",u,d,h)}else if(a==="set"){const[u]=o;t("set",u)}else t(a,...o)}catch(u){mi.error(u)}}return i}function eJ(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=JZ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function tJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(TN)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ=30,rJ=1e3;class iJ{constructor(e={},n=rJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kV=new iJ;function aJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function sJ(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:aJ(n)},i=HZ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const u=await a.json();u.error?.message&&(o=u.error.message)}catch{}throw Zi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function oJ(t,e=kV,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Zi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Zi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new uJ;return setTimeout(async()=>{u.abort()},qZ),CV({appId:r,apiKey:i,measurementId:a},o,u,e)}async function CV(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kV){const{appId:a,measurementId:o}=t;try{await lJ(r,e)}catch(u){if(o)return mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:o};throw u}try{const u=await sJ(t);return i.deleteThrottleMetadata(a),u}catch(u){const d=u;if(!cJ(d)){if(i.deleteThrottleMetadata(a),o)return mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:o};throw u}const h=Number(d?.customData?.httpStatus)===503?rO(n,i.intervalMillis,nJ):rO(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(a,m),mi.debug(`Calling attemptFetch again in ${h} millis`),CV(t,m,r,i)}}function lJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Zi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cJ(t){if(!(t instanceof ia)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o={...r,send_to:a};t("event",n,o)}}async function fJ(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hJ(){if(_6())try{await j6()}catch(t){return mi.warn(Zi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return mi.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mJ(t,e,n,r,i,a,o){const u=oJ(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&mi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>mi.error(y)),e.push(u);const d=hJ().then(y=>{if(y)return r.getId()}),[h,m]=await Promise.all([u,d]);tJ(a)||YZ(a,h.measurementId),i("js",new Date);const g=o?.config??{};return g[FZ]="firebase",g.update=!0,m!=null&&(g[$Z]=m),i("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e){this.app=e}_delete(){return delete Qd[this.app.options.appId],Promise.resolve()}}let Qd={},MO=[];const LO={};let K1="dataLayer",gJ="gtag",VO,kN,zO=!1;function yJ(){const t=[];if(w6()&&t.push("This is a browser extension environment."),yW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zi.create("invalid-analytics-context",{errorInfo:e});mi.warn(n.message)}}function vJ(t,e,n){yJ();const r=t.options.appId;if(!r)throw Zi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zi.create("no-api-key");if(Qd[r]!=null)throw Zi.create("already-exists",{id:r});if(!zO){QZ(K1);const{wrappedGtag:a,gtagCore:o}=eJ(Qd,MO,LO,K1,gJ);kN=a,VO=o,zO=!0}return Qd[r]=mJ(t,MO,LO,e,VO,K1,n),new pJ(t)}function xJ(t=Np()){t=Ot(t);const e=Ho(t,Mv);return e.isInitialized()?e.getImmediate():bJ(t)}function bJ(t,e={}){const n=Ho(t,Mv);if(n.isInitialized()){const i=n.getImmediate();if(Yl(e,n.getOptions()))return i;throw Zi.create("already-initialized")}return n.initialize({options:e})}function wJ(t,e,n){t=Ot(t),fJ(kN,Qd[t.app.options.appId],e,n).catch(r=>mi.error(r))}function _J(t,e,n,r){t=Ot(t),dJ(kN,Qd[t.app.options.appId],e,n,r).catch(i=>mi.error(i))}const UO="@firebase/analytics",BO="0.10.19";function jJ(){Ra(new ta(Mv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return vJ(r,i,n)},"PUBLIC")),Ra(new ta("analytics-internal",t,"PRIVATE")),Zr(UO,BO),Zr(UO,BO,"esm2020");function t(e){try{const n=e.getProvider(Mv).getImmediate();return{logEvent:(r,i,a)=>_J(n,r,i,a),setUserProperties:(r,i)=>wJ(n,r,i)}}catch(n){throw Zi.create("interop-component-reg-failed",{reason:n})}}}jJ();var $O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hl,PV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function I(){}I.prototype=k.prototype,N.F=k.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(L,V,q){for(var M=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)M[ce-2]=arguments[ce];return k.prototype[V].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,I){I||(I=0);const L=Array(16);if(typeof k=="string")for(var V=0;V<16;++V)L[V]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(V=0;V<16;++V)L[V]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=N.g[0],I=N.g[1],V=N.g[2];let q=N.g[3],M;M=k+(q^I&(V^q))+L[0]+3614090360&4294967295,k=I+(M<<7&4294967295|M>>>25),M=q+(V^k&(I^V))+L[1]+3905402710&4294967295,q=k+(M<<12&4294967295|M>>>20),M=V+(I^q&(k^I))+L[2]+606105819&4294967295,V=q+(M<<17&4294967295|M>>>15),M=I+(k^V&(q^k))+L[3]+3250441966&4294967295,I=V+(M<<22&4294967295|M>>>10),M=k+(q^I&(V^q))+L[4]+4118548399&4294967295,k=I+(M<<7&4294967295|M>>>25),M=q+(V^k&(I^V))+L[5]+1200080426&4294967295,q=k+(M<<12&4294967295|M>>>20),M=V+(I^q&(k^I))+L[6]+2821735955&4294967295,V=q+(M<<17&4294967295|M>>>15),M=I+(k^V&(q^k))+L[7]+4249261313&4294967295,I=V+(M<<22&4294967295|M>>>10),M=k+(q^I&(V^q))+L[8]+1770035416&4294967295,k=I+(M<<7&4294967295|M>>>25),M=q+(V^k&(I^V))+L[9]+2336552879&4294967295,q=k+(M<<12&4294967295|M>>>20),M=V+(I^q&(k^I))+L[10]+4294925233&4294967295,V=q+(M<<17&4294967295|M>>>15),M=I+(k^V&(q^k))+L[11]+2304563134&4294967295,I=V+(M<<22&4294967295|M>>>10),M=k+(q^I&(V^q))+L[12]+1804603682&4294967295,k=I+(M<<7&4294967295|M>>>25),M=q+(V^k&(I^V))+L[13]+4254626195&4294967295,q=k+(M<<12&4294967295|M>>>20),M=V+(I^q&(k^I))+L[14]+2792965006&4294967295,V=q+(M<<17&4294967295|M>>>15),M=I+(k^V&(q^k))+L[15]+1236535329&4294967295,I=V+(M<<22&4294967295|M>>>10),M=k+(V^q&(I^V))+L[1]+4129170786&4294967295,k=I+(M<<5&4294967295|M>>>27),M=q+(I^V&(k^I))+L[6]+3225465664&4294967295,q=k+(M<<9&4294967295|M>>>23),M=V+(k^I&(q^k))+L[11]+643717713&4294967295,V=q+(M<<14&4294967295|M>>>18),M=I+(q^k&(V^q))+L[0]+3921069994&4294967295,I=V+(M<<20&4294967295|M>>>12),M=k+(V^q&(I^V))+L[5]+3593408605&4294967295,k=I+(M<<5&4294967295|M>>>27),M=q+(I^V&(k^I))+L[10]+38016083&4294967295,q=k+(M<<9&4294967295|M>>>23),M=V+(k^I&(q^k))+L[15]+3634488961&4294967295,V=q+(M<<14&4294967295|M>>>18),M=I+(q^k&(V^q))+L[4]+3889429448&4294967295,I=V+(M<<20&4294967295|M>>>12),M=k+(V^q&(I^V))+L[9]+568446438&4294967295,k=I+(M<<5&4294967295|M>>>27),M=q+(I^V&(k^I))+L[14]+3275163606&4294967295,q=k+(M<<9&4294967295|M>>>23),M=V+(k^I&(q^k))+L[3]+4107603335&4294967295,V=q+(M<<14&4294967295|M>>>18),M=I+(q^k&(V^q))+L[8]+1163531501&4294967295,I=V+(M<<20&4294967295|M>>>12),M=k+(V^q&(I^V))+L[13]+2850285829&4294967295,k=I+(M<<5&4294967295|M>>>27),M=q+(I^V&(k^I))+L[2]+4243563512&4294967295,q=k+(M<<9&4294967295|M>>>23),M=V+(k^I&(q^k))+L[7]+1735328473&4294967295,V=q+(M<<14&4294967295|M>>>18),M=I+(q^k&(V^q))+L[12]+2368359562&4294967295,I=V+(M<<20&4294967295|M>>>12),M=k+(I^V^q)+L[5]+4294588738&4294967295,k=I+(M<<4&4294967295|M>>>28),M=q+(k^I^V)+L[8]+2272392833&4294967295,q=k+(M<<11&4294967295|M>>>21),M=V+(q^k^I)+L[11]+1839030562&4294967295,V=q+(M<<16&4294967295|M>>>16),M=I+(V^q^k)+L[14]+4259657740&4294967295,I=V+(M<<23&4294967295|M>>>9),M=k+(I^V^q)+L[1]+2763975236&4294967295,k=I+(M<<4&4294967295|M>>>28),M=q+(k^I^V)+L[4]+1272893353&4294967295,q=k+(M<<11&4294967295|M>>>21),M=V+(q^k^I)+L[7]+4139469664&4294967295,V=q+(M<<16&4294967295|M>>>16),M=I+(V^q^k)+L[10]+3200236656&4294967295,I=V+(M<<23&4294967295|M>>>9),M=k+(I^V^q)+L[13]+681279174&4294967295,k=I+(M<<4&4294967295|M>>>28),M=q+(k^I^V)+L[0]+3936430074&4294967295,q=k+(M<<11&4294967295|M>>>21),M=V+(q^k^I)+L[3]+3572445317&4294967295,V=q+(M<<16&4294967295|M>>>16),M=I+(V^q^k)+L[6]+76029189&4294967295,I=V+(M<<23&4294967295|M>>>9),M=k+(I^V^q)+L[9]+3654602809&4294967295,k=I+(M<<4&4294967295|M>>>28),M=q+(k^I^V)+L[12]+3873151461&4294967295,q=k+(M<<11&4294967295|M>>>21),M=V+(q^k^I)+L[15]+530742520&4294967295,V=q+(M<<16&4294967295|M>>>16),M=I+(V^q^k)+L[2]+3299628645&4294967295,I=V+(M<<23&4294967295|M>>>9),M=k+(V^(I|~q))+L[0]+4096336452&4294967295,k=I+(M<<6&4294967295|M>>>26),M=q+(I^(k|~V))+L[7]+1126891415&4294967295,q=k+(M<<10&4294967295|M>>>22),M=V+(k^(q|~I))+L[14]+2878612391&4294967295,V=q+(M<<15&4294967295|M>>>17),M=I+(q^(V|~k))+L[5]+4237533241&4294967295,I=V+(M<<21&4294967295|M>>>11),M=k+(V^(I|~q))+L[12]+1700485571&4294967295,k=I+(M<<6&4294967295|M>>>26),M=q+(I^(k|~V))+L[3]+2399980690&4294967295,q=k+(M<<10&4294967295|M>>>22),M=V+(k^(q|~I))+L[10]+4293915773&4294967295,V=q+(M<<15&4294967295|M>>>17),M=I+(q^(V|~k))+L[1]+2240044497&4294967295,I=V+(M<<21&4294967295|M>>>11),M=k+(V^(I|~q))+L[8]+1873313359&4294967295,k=I+(M<<6&4294967295|M>>>26),M=q+(I^(k|~V))+L[15]+4264355552&4294967295,q=k+(M<<10&4294967295|M>>>22),M=V+(k^(q|~I))+L[6]+2734768916&4294967295,V=q+(M<<15&4294967295|M>>>17),M=I+(q^(V|~k))+L[13]+1309151649&4294967295,I=V+(M<<21&4294967295|M>>>11),M=k+(V^(I|~q))+L[4]+4149444226&4294967295,k=I+(M<<6&4294967295|M>>>26),M=q+(I^(k|~V))+L[11]+3174756917&4294967295,q=k+(M<<10&4294967295|M>>>22),M=V+(k^(q|~I))+L[2]+718787259&4294967295,V=q+(M<<15&4294967295|M>>>17),M=I+(q^(V|~k))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+q&4294967295}r.prototype.v=function(N,k){k===void 0&&(k=N.length);const I=k-this.blockSize,L=this.C;let V=this.h,q=0;for(;q<k;){if(V==0)for(;q<=I;)i(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<k;)if(L[V++]=N.charCodeAt(q++),V==this.blockSize){i(this,L),V=0;break}}else for(;q<k;)if(L[V++]=N[q++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=k},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)N[k++]=this.g[I]>>>L&255;return N};function a(N,k){var I=u;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=k(N)}function o(N,k){this.h=k;const I=[];let L=!0;for(let V=N.length-1;V>=0;V--){const q=N[V]|0;L&&q==k||(I[V]=q,L=!1)}this.g=I}var u={};function d(N){return-128<=N&&N<128?a(N,function(k){return new o([k|0],k<0?-1:0)}):new o([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return A(h(-N));const k=[];let I=1;for(let L=0;N>=I;L++)k[L]=N/I|0,I*=4294967296;return new o(k,0)}function m(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return A(m(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(k,8));let L=g;for(let q=0;q<N.length;q+=8){var V=Math.min(8,N.length-q);const M=parseInt(N.substring(q,q+V),k);V<8?(V=h(Math.pow(k,V)),L=L.j(V).add(h(M))):(L=L.j(I),L=L.add(h(M)))}return L}var g=d(0),y=d(1),b=d(16777216);t=o.prototype,t.m=function(){if(E(this))return-A(this).m();let N=0,k=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);N+=(L>=0?L:4294967296+L)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(E(this))return"-"+A(this).toString(N);const k=h(Math.pow(N,6));var I=this;let L="";for(;;){const V=U(I,k).g;I=T(I,V.j(k));let q=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=V,j(I))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=T(this,N),E(N)?-1:j(N)?0:1};function A(N){const k=N.g.length,I=[];for(let L=0;L<k;L++)I[L]=~N.g[L];return new o(I,~N.h).add(y)}t.abs=function(){return E(this)?A(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),I=[];let L=0;for(let V=0;V<=k;V++){let q=L+(this.i(V)&65535)+(N.i(V)&65535),M=(q>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=M>>>16,q&=65535,M&=65535,I[V]=M<<16|q}return new o(I,I[I.length-1]&-2147483648?-1:0)};function T(N,k){return N.add(A(k))}t.j=function(N){if(j(this)||j(N))return g;if(E(this))return E(N)?A(this).j(A(N)):A(A(this).j(N));if(E(N))return A(this.j(A(N)));if(this.l(b)<0&&N.l(b)<0)return h(this.m()*N.m());const k=this.g.length+N.g.length,I=[];for(var L=0;L<2*k;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<N.g.length;V++){const q=this.i(L)>>>16,M=this.i(L)&65535,ce=N.i(V)>>>16,me=N.i(V)&65535;I[2*L+2*V]+=M*me,O(I,2*L+2*V),I[2*L+2*V+1]+=q*me,O(I,2*L+2*V+1),I[2*L+2*V+1]+=M*ce,O(I,2*L+2*V+1),I[2*L+2*V+2]+=q*ce,O(I,2*L+2*V+2)}for(N=0;N<k;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=k;N<2*k;N++)I[N]=0;return new o(I,0)};function O(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function C(N,k){this.g=N,this.h=k}function U(N,k){if(j(k))throw Error("division by zero");if(j(N))return new C(g,g);if(E(N))return k=U(A(N),k),new C(A(k.g),A(k.h));if(E(k))return k=U(N,A(k)),new C(A(k.g),k.h);if(N.g.length>30){if(E(N)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var I=y,L=k;L.l(N)<=0;)I=B(I),L=B(L);var V=$(I,1),q=$(L,1);for(L=$(L,2),I=$(I,2);!j(L);){var M=q.add(L);M.l(N)<=0&&(V=V.add(I),q=M),L=$(L,1),I=$(I,1)}return k=T(N,V.j(k)),new C(V,k)}for(V=g;N.l(k)>=0;){for(I=Math.max(1,Math.floor(N.m()/k.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=h(I),M=q.j(k);E(M)||M.l(N)>0;)I-=L,q=h(I),M=q.j(k);j(q)&&(q=y),V=V.add(q),N=T(N,M)}return new C(V,N)}t.B=function(N){return U(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),I=[];for(let L=0;L<k;L++)I[L]=this.i(L)&N.i(L);return new o(I,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),I=[];for(let L=0;L<k;L++)I[L]=this.i(L)|N.i(L);return new o(I,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),I=[];for(let L=0;L<k;L++)I[L]=this.i(L)^N.i(L);return new o(I,this.h^N.h)};function B(N){const k=N.g.length+1,I=[];for(let L=0;L<k;L++)I[L]=N.i(L)<<1|N.i(L-1)>>>31;return new o(I,N.h)}function $(N,k){const I=k>>5;k%=32;const L=N.g.length-I,V=[];for(let q=0;q<L;q++)V[q]=k>0?N.i(q+I)>>>k|N.i(q+I+1)<<32-k:N.i(q+I);return new o(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,Hl=o}).apply(typeof $O<"u"?$O:typeof self<"u"?self:typeof window<"u"?window:{});var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IV,ym,OV,fv,lE,RV,DV,MV;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iy=="object"&&Iy];for(var S=0;S<v.length;++S){var D=v[S];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(v,S){if(S)e:{var D=r;v=v.split(".");for(var H=0;H<v.length-1;H++){var ie=v[H];if(!(ie in D))break e;D=D[ie]}v=v[v.length-1],H=D[v],S=S(H),S!=H&&S!=null&&e(D,v,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(S){var D=[],H;for(H in S)Object.prototype.hasOwnProperty.call(S,H)&&D.push([H,S[H]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(v){var S=typeof v;return S=="object"&&v!=null||S=="function"}function d(v,S,D){return v.call.apply(v.bind,arguments)}function h(v,S,D){return h=d,h.apply(null,arguments)}function m(v,S){var D=Array.prototype.slice.call(arguments,1);return function(){var H=D.slice();return H.push.apply(H,arguments),v.apply(this,H)}}function g(v,S){function D(){}D.prototype=S.prototype,v.Z=S.prototype,v.prototype=new D,v.prototype.constructor=v,v.Ob=function(H,ie,fe){for(var Pe=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Pe[ht-2]=arguments[ht];return S.prototype[ie].apply(H,Pe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function b(v){const S=v.length;if(S>0){const D=Array(S);for(let H=0;H<S;H++)D[H]=v[H];return D}return[]}function j(v,S){for(let H=1;H<arguments.length;H++){const ie=arguments[H];var D=typeof ie;if(D=D!="object"?D:ie?Array.isArray(ie)?"array":D:"null",D=="array"||D=="object"&&typeof ie.length=="number"){D=v.length||0;const fe=ie.length||0;v.length=D+fe;for(let Pe=0;Pe<fe;Pe++)v[D+Pe]=ie[Pe]}else v.push(ie)}}class E{constructor(S,D){this.i=S,this.j=D,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(v){o.setTimeout(()=>{throw v},0)}function T(){var v=N;let S=null;return v.g&&(S=v.g,v.g=v.g.next,v.g||(v.h=null),S.next=null),S}class O{constructor(){this.h=this.g=null}add(S,D){const H=C.get();H.set(S,D),this.h?this.h.next=H:this.g=H,this.h=H}}var C=new E(()=>new U,v=>v.reset());class U{constructor(){this.next=this.g=this.h=null}set(S,D){this.h=S,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let B,$=!1,N=new O,k=()=>{const v=Promise.resolve(void 0);B=()=>{v.then(I)}};function I(){for(var v;v=T();){try{v.h.call(v.g)}catch(D){A(D)}var S=C;S.j(v),S.h<100&&(S.h++,v.next=S.g,S.g=v)}$=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(v,S){this.type=v,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,S=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const D=()=>{};o.addEventListener("test",D,S),o.removeEventListener("test",D,S)}catch{}return v})();function M(v){return/^[\s\xa0]*$/.test(v)}function ce(v,S){V.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,S)}g(ce,V),ce.prototype.init=function(v,S){const D=this.type=v.type,H=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=S,S=v.relatedTarget,S||(D=="mouseover"?S=v.fromElement:D=="mouseout"&&(S=v.toElement)),this.relatedTarget=S,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),G=0;function X(v,S,D,H,ie){this.listener=v,this.proxy=null,this.src=S,this.type=D,this.capture=!!H,this.ha=ie,this.key=++G,this.da=this.fa=!1}function se(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function be(v,S,D){for(const H in v)S.call(D,v[H],H,v)}function Y(v,S){for(const D in v)S.call(void 0,v[D],D,v)}function z(v){const S={};for(const D in v)S[D]=v[D];return S}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(v,S){let D,H;for(let ie=1;ie<arguments.length;ie++){H=arguments[ie];for(D in H)v[D]=H[D];for(let fe=0;fe<Q.length;fe++)D=Q[fe],Object.prototype.hasOwnProperty.call(H,D)&&(v[D]=H[D])}}function ge(v){this.src=v,this.g={},this.h=0}ge.prototype.add=function(v,S,D,H,ie){const fe=v.toString();v=this.g[fe],v||(v=this.g[fe]=[],this.h++);const Pe=Ne(v,S,H,ie);return Pe>-1?(S=v[Pe],D||(S.fa=!1)):(S=new X(S,this.src,fe,!!H,ie),S.fa=D,v.push(S)),S};function pe(v,S){const D=S.type;if(D in v.g){var H=v.g[D],ie=Array.prototype.indexOf.call(H,S,void 0),fe;(fe=ie>=0)&&Array.prototype.splice.call(H,ie,1),fe&&(se(S),v.g[D].length==0&&(delete v.g[D],v.h--))}}function Ne(v,S,D,H){for(let ie=0;ie<v.length;++ie){const fe=v[ie];if(!fe.da&&fe.listener==S&&fe.capture==!!D&&fe.ha==H)return ie}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),Le={};function ae(v,S,D,H,ie){if(Array.isArray(S)){for(let fe=0;fe<S.length;fe++)ae(v,S[fe],D,H,ie);return null}return D=bt(D),v&&v[me]?v.J(S,D,u(H)?!!H.capture:!1,ie):Re(v,S,D,!1,H,ie)}function Re(v,S,D,H,ie,fe){if(!S)throw Error("Invalid event type");const Pe=u(ie)?!!ie.capture:!!ie;let ht=Ue(v);if(ht||(v[Ae]=ht=new ge(v)),D=ht.add(S,D,H,Pe,fe),D.proxy)return D;if(H=Ie(),D.proxy=H,H.src=v,H.listener=D,v.addEventListener)q||(ie=Pe),ie===void 0&&(ie=!1),v.addEventListener(S.toString(),H,ie);else if(v.attachEvent)v.attachEvent(ne(S.toString()),H);else if(v.addListener&&v.removeListener)v.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ie(){function v(D){return S.call(v.src,v.listener,D)}const S=Ee;return v}function K(v,S,D,H,ie){if(Array.isArray(S))for(var fe=0;fe<S.length;fe++)K(v,S[fe],D,H,ie);else H=u(H)?!!H.capture:!!H,D=bt(D),v&&v[me]?(v=v.i,fe=String(S).toString(),fe in v.g&&(S=v.g[fe],D=Ne(S,D,H,ie),D>-1&&(se(S[D]),Array.prototype.splice.call(S,D,1),S.length==0&&(delete v.g[fe],v.h--)))):v&&(v=Ue(v))&&(S=v.g[S.toString()],v=-1,S&&(v=Ne(S,D,H,ie)),(D=v>-1?S[v]:null)&&ee(D))}function ee(v){if(typeof v!="number"&&v&&!v.da){var S=v.src;if(S&&S[me])pe(S.i,v);else{var D=v.type,H=v.proxy;S.removeEventListener?S.removeEventListener(D,H,v.capture):S.detachEvent?S.detachEvent(ne(D),H):S.addListener&&S.removeListener&&S.removeListener(H),(D=Ue(S))?(pe(D,v),D.h==0&&(D.src=null,S[Ae]=null)):se(v)}}}function ne(v){return v in Le?Le[v]:Le[v]="on"+v}function Ee(v,S){if(v.da)v=!0;else{S=new ce(S,this);const D=v.listener,H=v.ha||v.src;v.fa&&ee(v),v=D.call(H,S)}return v}function Ue(v){return v=v[Ae],v instanceof ge?v:null}var Qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function bt(v){return typeof v=="function"?v:(v[Qe]||(v[Qe]=function(S){return v.handleEvent(S)}),v[Qe])}function Je(){L.call(this),this.i=new ge(this),this.M=this,this.G=null}g(Je,L),Je.prototype[me]=!0,Je.prototype.removeEventListener=function(v,S,D,H){K(this,v,S,D,H)};function et(v,S){var D,H=v.G;if(H)for(D=[];H;H=H.G)D.push(H);if(v=v.M,H=S.type||S,typeof S=="string")S=new V(S,v);else if(S instanceof V)S.target=S.target||v;else{var ie=S;S=new V(H,v),ue(S,ie)}ie=!0;let fe,Pe;if(D)for(Pe=D.length-1;Pe>=0;Pe--)fe=S.g=D[Pe],ie=kr(fe,H,!0,S)&&ie;if(fe=S.g=v,ie=kr(fe,H,!0,S)&&ie,ie=kr(fe,H,!1,S)&&ie,D)for(Pe=0;Pe<D.length;Pe++)fe=S.g=D[Pe],ie=kr(fe,H,!1,S)&&ie}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var v=this.i;for(const S in v.g){const D=v.g[S];for(let H=0;H<D.length;H++)se(D[H]);delete v.g[S],v.h--}}this.G=null},Je.prototype.J=function(v,S,D,H){return this.i.add(String(v),S,!1,D,H)},Je.prototype.K=function(v,S,D,H){return this.i.add(String(v),S,!0,D,H)};function kr(v,S,D,H){if(S=v.i.g[String(S)],!S)return!0;S=S.concat();let ie=!0;for(let fe=0;fe<S.length;++fe){const Pe=S[fe];if(Pe&&!Pe.da&&Pe.capture==D){const ht=Pe.listener,Un=Pe.ha||Pe.src;Pe.fa&&pe(v.i,Pe),ie=ht.call(Un,H)!==!1&&ie}}return ie&&!H.defaultPrevented}function $a(v,S){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:o.setTimeout(v,S||0)}function ps(v){v.g=$a(()=>{v.g=null,v.i&&(v.i=!1,ps(v))},v.l);const S=v.h;v.h=null,v.m.apply(null,S)}class Sn extends L{constructor(S,D){super(),this.m=S,this.l=D,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(v){L.call(this),this.h=v,this.g={}}g(sr,L);var sa=[];function Fa(v){be(v.g,function(S,D){this.g.hasOwnProperty(D)&&ee(S)},v),v.g={}}sr.prototype.N=function(){sr.Z.N.call(this),Fa(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=o.JSON.stringify,ye=o.JSON.parse,Ce=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function We(){}function He(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){V.call(this,"d")}g($e,V);function lt(){V.call(this,"c")}g(lt,V);var tt={},Rn=null;function Ke(){return Rn=Rn||new Je}tt.Ia="serverreachability";function wt(v){V.call(this,tt.Ia,v)}g(wt,V);function vt(v){const S=Ke();et(S,new wt(S))}tt.STAT_EVENT="statevent";function Yt(v,S){V.call(this,tt.STAT_EVENT,v),this.stat=S}g(Yt,V);function ft(v){const S=Ke();et(S,new Yt(S,v))}tt.Ja="timingevent";function pr(v,S){V.call(this,tt.Ja,v),this.size=S}g(pr,V);function Gn(v,S){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},S)}function Dn(){this.g=!0}Dn.prototype.ua=function(){this.g=!1};function qt(v,S,D,H,ie,fe){v.info(function(){if(v.g)if(fe){var Pe="",ht=fe.split("&");for(let Lt=0;Lt<ht.length;Lt++){var Un=ht[Lt].split("=");if(Un.length>1){const bn=Un[0];Un=Un[1];const ma=bn.split("_");Pe=ma.length>=2&&ma[1]=="type"?Pe+(bn+"="+Un+"&"):Pe+(bn+"=redacted&")}}}else Pe=null;else Pe=fe;return"XMLHTTP REQ ("+H+") [attempt "+ie+"]: "+S+`
`+D+`
`+Pe})}function Tn(v,S,D,H,ie,fe,Pe){v.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ie+"]: "+S+`
`+D+`
`+fe+" "+Pe})}function Bt(v,S,D,H){v.info(function(){return"XMLHTTP TEXT ("+S+"): "+or(v,D)+(H?" "+H:"")})}function zn(v,S){v.info(function(){return"TIMEOUT: "+S})}Dn.prototype.info=function(){};function or(v,S){if(!v.g)return S;if(!S)return null;try{const fe=JSON.parse(S);if(fe){for(v=0;v<fe.length;v++)if(Array.isArray(fe[v])){var D=fe[v];if(!(D.length<2)){var H=D[1];if(Array.isArray(H)&&!(H.length<1)){var ie=H[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Pe=1;Pe<H.length;Pe++)H[Pe]=""}}}}return pi(fe)}catch{return S}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qa;function gi(){}g(gi,We),gi.prototype.g=function(){return new XMLHttpRequest},qa=new gi;function ri(v){return encodeURIComponent(String(v))}function la(v){var S=1;v=v.split(":");const D=[];for(;S>0&&v.length;)D.push(v.shift()),S--;return v.length&&D.push(v.join(":")),D}function Hr(v,S,D,H){this.j=v,this.i=S,this.l=D,this.S=H||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var gn={},kt={};function Ir(v,S,D){v.M=1,v.A=Ec(Yn(S)),v.u=D,v.R=!0,Qs(v,null)}function Qs(v,S){v.F=Date.now(),ca(v),v.B=Yn(v.A);var D=v.B,H=v.S;Array.isArray(H)||(H=[String(H)]),Gu(D.i,"t",H),v.C=0,D=v.j.L,v.h=new Pr,v.g=jg(v.j,D?S:null,!v.u),v.P>0&&(v.O=new Sn(h(v.Y,v,v.g),v.P)),S=v.V,D=v.g,H=v.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(sa[0]=ie.toString()),ie=sa);for(let fe=0;fe<ie.length;fe++){const Pe=ae(D,ie[fe],H||S.handleEvent,!1,S.h||S);if(!Pe)break;S.g[Pe.key]=Pe}S=v.J?z(v.J):{},v.u?(v.v||(v.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,S)):(v.v="GET",v.g.ea(v.B,v.v,null,S)),vt(),qt(v.i,v.v,v.B,v.l,v.S,v.u)}Hr.prototype.ba=function(v){v=v.target;const S=this.O;S&&Wa(v)==3?S.j():this.Y(v)},Hr.prototype.Y=function(v){try{if(v==this.g)e:{const ht=Wa(this.g),Un=this.g.ya(),Lt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||Or(this.g)))){this.K||ht!=4||Un==7||(Un==8||Lt<=0?vt(3):vt(2)),ua(this);var S=this.g.ca();this.X=S;var D=lh(this);if(this.o=S==200,Tn(this.i,this.v,this.B,this.l,this.S,ht,S),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ie=this.g;if((H=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(H)){var fe=H;break t}}fe=null}if(v=fe)Bt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,da(this,v);else{this.o=!1,this.m=3,ft(12),ii(this),yi(this);break e}}if(this.R){v=!0;let bn;for(;!this.K&&this.C<D.length;)if(bn=Hu(this,D),bn==kt){ht==4&&(this.m=4,ft(14),v=!1),Bt(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==gn){this.m=4,ft(15),Bt(this.i,this.l,D,"[Invalid Chunk]"),v=!1;break}else Bt(this.i,this.l,bn,null),da(this,bn);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||D.length!=0||this.h.h||(this.m=1,ft(16),v=!1),this.o=this.o&&v,!v)Bt(this.i,this.l,D,"[Invalid Chunked Response]"),ii(this),yi(this);else if(D.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),vh(Pe),Pe.P=!0,ft(11))}}else Bt(this.i,this.l,D,null),da(this,D);ht==4&&ii(this),this.o&&!this.K&&(ht==4?xg(this.j,this):(this.o=!1,ca(this)))}else Js(this.g),S==400&&D.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),ii(this),yi(this)}}}catch{}finally{}};function lh(v){if(!jc(v))return v.g.la();const S=Or(v.g);if(S==="")return"";let D="";const H=S.length,ie=Wa(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ii(v),yi(v),"";v.h.i=new o.TextDecoder}for(let fe=0;fe<H;fe++)v.h.h=!0,D+=v.h.i.decode(S[fe],{stream:!(ie&&fe==H-1)});return S.length=0,v.h.g+=D,v.C=0,v.h.g}function jc(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Hu(v,S){var D=v.C,H=S.indexOf(`
`,D);return H==-1?kt:(D=Number(S.substring(D,H)),isNaN(D)?gn:(H+=1,H+D>S.length?kt:(S=S.slice(H,H+D),v.C=H+D,S)))}Hr.prototype.cancel=function(){this.K=!0,ii(this)};function ca(v){v.T=Date.now()+v.H,Jo(v,v.H)}function Jo(v,S){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Gn(h(v.aa,v),S)}function ua(v){v.D&&(o.clearTimeout(v.D),v.D=null)}Hr.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(zn(this.i,this.B),this.M!=2&&(vt(),ft(17)),ii(this),this.m=2,yi(this)):Jo(this,this.T-v)};function yi(v){v.j.I==0||v.K||xg(v.j,v)}function ii(v){ua(v);var S=v.O;S&&typeof S.dispose=="function"&&S.dispose(),v.O=null,Fa(v.V),v.g&&(S=v.g,v.g=null,S.abort(),S.dispose())}function da(v,S){try{var D=v.j;if(D.I!=0&&(D.g==v||Ye(D.h,v))){if(!v.L&&Ye(D.h,v)&&D.I==3){try{var H=D.Ba.g.parse(S)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ie=H;if(ie[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<v.F)Zu(D),ol(D);else break e;Pc(D),ft(18)}}else D.xa=ie[1],0<D.xa-D.K&&ie[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=Gn(h(D.Va,D),6e3));Oe(D.h)<=1&&D.ta&&(D.ta=void 0)}else ws(D,11)}else if((v.L||D.g==v)&&Zu(D),!M(S))for(ie=D.Ba.g.parse(S),S=0;S<ie.length;S++){let Lt=ie[S];const bn=Lt[0];if(!(bn<=D.K))if(D.K=bn,Lt=Lt[1],D.I==2)if(Lt[0]=="c"){D.M=Lt[1],D.ba=Lt[2];const ma=Lt[3];ma!=null&&(D.ka=ma,D.j.info("VER="+D.ka));const _s=Lt[4];_s!=null&&(D.za=_s,D.j.info("SVER="+D.za));const Ya=Lt[5];Ya!=null&&typeof Ya=="number"&&Ya>0&&(H=1.5*Ya,D.O=H,D.j.info("backChannelRequestTimeoutMs_="+H)),H=D;const Qa=v.g;if(Qa){const Ic=Qa.g?Qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ic){var fe=H.h;fe.g||Ic.indexOf("spdy")==-1&&Ic.indexOf("quic")==-1&&Ic.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&($t(fe,fe.h),fe.h=null))}if(H.G){const Ju=Qa.g?Qa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ju&&(H.wa=Ju,Ht(H.J,H.G,Ju))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-v.F,D.j.info("Handshake RTT: "+D.T+"ms")),H=D;var Pe=v;if(H.na=_g(H,H.L?H.ba:null,H.W),Pe.L){gr(H.h,Pe);var ht=Pe,Un=H.O;Un&&(ht.H=Un),ht.D&&(ua(ht),ca(ht)),H.g=Pe}else yg(H);D.i.length>0&&bs(D)}else Lt[0]!="stop"&&Lt[0]!="close"||ws(D,7);else D.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ws(D,7):gh(D):Lt[0]!="noop"&&D.l&&D.l.qa(Lt),D.A=0)}}vt(4)}catch{}}var R=class{constructor(v,S){this.g=v,this.map=S}};function J(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Te(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Oe(v){return v.h?1:v.g?v.g.size:0}function Ye(v,S){return v.h?v.h==S:v.g?v.g.has(S):!1}function $t(v,S){v.g?v.g.add(S):v.h=S}function gr(v,S){v.h&&v.h==S?v.h=null:v.g&&v.g.has(S)&&v.g.delete(S)}J.prototype.cancel=function(){if(this.i=Ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ha(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let S=v.i;for(const D of v.g.values())S=S.concat(D.G);return S}return b(v.i)}var vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(v,S){if(v){v=v.split("&");for(let D=0;D<v.length;D++){const H=v[D].indexOf("=");let ie,fe=null;H>=0?(ie=v[D].substring(0,H),fe=v[D].substring(H+1)):ie=v[D],S(ie,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Wn(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;v instanceof Wn?(this.l=v.l,yr(this,v.j),this.o=v.o,this.g=v.g,el(this,v.u),this.h=v.h,ch(this,pg(v.i)),this.m=v.m):v&&(S=String(v).match(vi))?(this.l=!1,yr(this,S[1]||"",!0),this.o=gs(S[2]||""),this.g=gs(S[3]||"",!0),el(this,S[4]),this.h=gs(S[5]||"",!0),ch(this,S[6]||"",!0),this.m=gs(S[7]||"")):(this.l=!1,this.i=new nl(null,this.l))}Wn.prototype.toString=function(){const v=[];var S=this.j;S&&v.push(Ac(S,Ku,!0),":");var D=this.g;return(D||S=="file")&&(v.push("//"),(S=this.o)&&v.push(Ac(S,Ku,!0),"@"),v.push(ri(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&v.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&v.push("/"),v.push(Ac(D,D.charAt(0)=="/"?uh:fg,!0))),(D=this.i.toString())&&v.push("?",D),(D=this.m)&&v.push("#",Ac(D,hg)),v.join("")},Wn.prototype.resolve=function(v){const S=Yn(this);let D=!!v.j;D?yr(S,v.j):D=!!v.o,D?S.o=v.o:D=!!v.g,D?S.g=v.g:D=v.u!=null;var H=v.h;if(D)el(S,v.u);else if(D=!!v.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ie=S.h.lastIndexOf("/");ie!=-1&&(H=S.h.slice(0,ie+1)+H)}if(ie=H,ie==".."||ie==".")H="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){H=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const fe=[];for(let Pe=0;Pe<ie.length;){const ht=ie[Pe++];ht=="."?H&&Pe==ie.length&&fe.push(""):ht==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),H&&Pe==ie.length&&fe.push("")):(fe.push(ht),H=!0)}H=fe.join("/")}else H=ie}return D?S.h=H:D=v.i.toString()!=="",D?ch(S,pg(v.i)):D=!!v.m,D&&(S.m=v.m),S};function Yn(v){return new Wn(v)}function yr(v,S,D){v.j=D?gs(S,!0):S,v.j&&(v.j=v.j.replace(/:$/,""))}function el(v,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);v.u=S}else v.u=null}function ch(v,S,D){S instanceof nl?(v.i=S,Wu(v.i,v.l)):(D||(S=Ac(S,tl)),v.i=new nl(S,v.l))}function Ht(v,S,D){v.i.set(S,D)}function Ec(v){return Ht(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function gs(v,S){return v?S?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ac(v,S,D){return typeof v=="string"?(v=encodeURI(v).replace(S,xi),D&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function xi(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ku=/[#\/\?@]/g,fg=/[#\?:]/g,uh=/[#\?]/g,tl=/[#\?@]/g,hg=/#/g;function nl(v,S){this.h=this.g=null,this.i=v||null,this.j=!!S}function bi(v){v.g||(v.g=new Map,v.h=0,v.i&&Xs(v.i,function(S,D){v.add(decodeURIComponent(S.replace(/\+/g," ")),D)}))}t=nl.prototype,t.add=function(v,S){bi(this),this.i=null,v=rl(this,v);let D=this.g.get(v);return D||this.g.set(v,D=[]),D.push(S),this.h+=1,this};function mg(v,S){bi(v),S=rl(v,S),v.g.has(S)&&(v.i=null,v.h-=v.g.get(S).length,v.g.delete(S))}function dh(v,S){return bi(v),S=rl(v,S),v.g.has(S)}t.forEach=function(v,S){bi(this),this.g.forEach(function(D,H){D.forEach(function(ie){v.call(S,ie,H,this)},this)},this)};function fh(v,S){bi(v);let D=[];if(typeof S=="string")dh(v,S)&&(D=D.concat(v.g.get(rl(v,S))));else for(v=Array.from(v.g.values()),S=0;S<v.length;S++)D=D.concat(v[S]);return D}t.set=function(v,S){return bi(this),this.i=null,v=rl(this,v),dh(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[S]),this.h+=1,this},t.get=function(v,S){return v?(v=fh(this,v),v.length>0?String(v[0]):S):S};function Gu(v,S,D){mg(v,S),D.length>0&&(v.i=null,v.g.set(rl(v,S),b(D)),v.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],S=Array.from(this.g.keys());for(let H=0;H<S.length;H++){var D=S[H];const ie=ri(D);D=fh(this,D);for(let fe=0;fe<D.length;fe++){let Pe=ie;D[fe]!==""&&(Pe+="="+ri(D[fe])),v.push(Pe)}}return this.i=v.join("&")};function pg(v){const S=new nl;return S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),S}function rl(v,S){return S=String(S),v.j&&(S=S.toLowerCase()),S}function Wu(v,S){S&&!v.j&&(bi(v),v.i=null,v.g.forEach(function(D,H){const ie=H.toLowerCase();H!=ie&&(mg(this,H),Gu(this,ie,D))},v)),v.j=S}function Ka(v,S){const D=new Dn;if(o.Image){const H=new Image;H.onload=m(fa,D,"TestLoadImage: loaded",!0,S,H),H.onerror=m(fa,D,"TestLoadImage: error",!1,S,H),H.onabort=m(fa,D,"TestLoadImage: abort",!1,S,H),H.ontimeout=m(fa,D,"TestLoadImage: timeout",!1,S,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=v}else S(!1)}function hh(v,S){const D=new Dn,H=new AbortController,ie=setTimeout(()=>{H.abort(),fa(D,"TestPingServer: timeout",!1,S)},1e4);fetch(v,{signal:H.signal}).then(fe=>{clearTimeout(ie),fe.ok?fa(D,"TestPingServer: ok",!0,S):fa(D,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ie),fa(D,"TestPingServer: error",!1,S)})}function fa(v,S,D,H,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),H(D)}catch{}}function il(){this.g=new Ce}function ys(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ys,We),ys.prototype.g=function(){return new Nc(this.i,this.h)};function Nc(v,S){Je.call(this),this.H=v,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nc,Je),t=Nc.prototype,t.open=function(v,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=S,this.readyState=1,Ga(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(S.body=v),(this.H||o).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yu(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yu(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var S=v.value?v.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!v.done}))&&(this.response=this.responseText+=S)}v.done?al(this):Ga(this),this.readyState==3&&Yu(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,al(this))},t.Na=function(v){this.g&&(this.response=v,al(this))},t.ga=function(){this.g&&al(this)};function al(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Ga(v)}t.setRequestHeader=function(v,S){this.A.append(v,S)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],S=this.h.entries();for(var D=S.next();!D.done;)D=D.value,v.push(D[0]+": "+D[1]),D=S.next();return v.join(`\r
`)};function Ga(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ha(v){let S="";return be(v,function(D,H){S+=H,S+=":",S+=D,S+=`\r
`}),S}function Sc(v,S,D){e:{for(H in D){var H=!1;break e}H=!0}H||(D=ha(D),typeof v=="string"?D!=null&&ri(D):Ht(v,S,D))}function Qt(v){Je.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Qt,Je);var vs=/^https?$/i,mh=["POST","PUT"];t=Qt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,S,D,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);S=S?S.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qa.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(v),!0),this.B=!1}catch(fe){Tc(this,fe);return}if(v=D||"",D=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ie in H)D.set(ie,H[ie]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const fe of H.keys())D.set(fe,H.get(fe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(D.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(mh,S,void 0)>=0)||H||ie||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Pe]of D)this.g.setRequestHeader(fe,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(fe){Tc(this,fe)}};function Tc(v,S){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=S,v.o=5,ph(v),Zs(v)}function ph(v){v.A||(v.A=!0,et(v,"complete"),et(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,et(this,"complete"),et(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),Qt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?kc(this):this.Xa())},t.Xa=function(){kc(this)};function kc(v){if(v.h&&typeof a<"u"){if(v.v&&Wa(v)==4)setTimeout(v.Ca.bind(v),0);else if(et(v,"readystatechange"),Wa(v)==4){v.h=!1;try{const fe=v.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var D;if(!(D=S)){var H;if(H=fe===0){let Pe=String(v.D).match(vi)[1]||null;!Pe&&o.self&&o.self.location&&(Pe=o.self.location.protocol.slice(0,-1)),H=!vs.test(Pe?Pe.toLowerCase():"")}D=H}if(D)et(v,"complete"),et(v,"success");else{v.o=6;try{var ie=Wa(v)>2?v.g.statusText:""}catch{ie=""}v.l=ie+" ["+v.ca()+"]",ph(v)}}finally{Zs(v)}}}}function Zs(v,S){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const D=v.g;v.g=null,S||et(v,"ready");try{D.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wa(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Wa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var S=this.g.responseText;return v&&S.indexOf(v)==0&&(S=S.substring(v.length)),ye(S)}};function Or(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Js(v){const S={};v=(v.g&&Wa(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<v.length;H++){if(M(v[H]))continue;var D=la(v[H]);const ie=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const fe=S[ie]||[];S[ie]=fe,fe.push(D)}Y(S,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(v,S,D){return D&&D.internalChannelParams&&D.internalChannelParams[v]||S}function sl(v){this.za=0,this.i=[],this.j=new Dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,v),this.Za=xs("retryDelaySeedMs",1e4,v),this.Ta=xs("forwardChannelMaxRetries",2,v),this.va=xs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new J(v&&v.concurrentRequestLimit),this.Ba=new il,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=sl.prototype,t.ka=8,t.I=1,t.connect=function(v,S,D,H){ft(0),this.W=v,this.H=S||{},D&&H!==void 0&&(this.H.OSID=D,this.H.OAID=H),this.F=this.X,this.J=_g(this,null,this.W),bs(this)};function gh(v){if(Qu(v),v.I==3){var S=v.V++,D=Yn(v.J);if(Ht(D,"SID",v.M),Ht(D,"RID",S),Ht(D,"TYPE","terminate"),Cc(v,D),S=new Hr(v,v.j,S),S.M=2,S.A=Ec(Yn(D)),D=!1,o.navigator&&o.navigator.sendBeacon)try{D=o.navigator.sendBeacon(S.A.toString(),"")}catch{}!D&&o.Image&&(new Image().src=S.A,D=!0),D||(S.g=jg(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ca(S)}wg(v)}function ol(v){v.g&&(vh(v),v.g.cancel(),v.g=null)}function Qu(v){ol(v),v.v&&(o.clearTimeout(v.v),v.v=null),Zu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function bs(v){if(!Te(v.h)&&!v.m){v.m=!0;var S=v.Ea;B||k(),$||(B(),$=!0),N.add(S,v),v.D=0}}function Xu(v,S){return Oe(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=S.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Gn(h(v.Ea,v,S),bg(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ie=new Hr(this,this.j,v);let fe=this.o;if(this.U&&(fe?(fe=z(fe),ue(fe,this.U)):fe=this.U),this.u!==null||this.R||(ie.J=fe,fe=null),this.S)e:{for(var S=0,D=0;D<this.i.length;D++){t:{var H=this.i[D];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(S+=H,S>4096){S=D;break e}if(S===4096||D===this.i.length-1){S=D+1;break e}}S=1e3}else S=1e3;S=gg(this,ie,S),D=Yn(this.J),Ht(D,"RID",v),Ht(D,"CVER",22),this.G&&Ht(D,"X-HTTP-Session-Id",this.G),Cc(this,D),fe&&(this.R?S="headers="+ri(ha(fe))+"&"+S:this.u&&Sc(D,this.u,fe)),$t(this.h,ie),this.Ra&&Ht(D,"TYPE","init"),this.S?(Ht(D,"$req",S),Ht(D,"SID","null"),ie.U=!0,Ir(ie,D,null)):Ir(ie,D,S),this.I=2}}else this.I==3&&(v?yh(this,v):this.i.length==0||Te(this.h)||yh(this))};function yh(v,S){var D;S?D=S.l:D=v.V++;const H=Yn(v.J);Ht(H,"SID",v.M),Ht(H,"RID",D),Ht(H,"AID",v.K),Cc(v,H),v.u&&v.o&&Sc(H,v.u,v.o),D=new Hr(v,v.j,D,v.D+1),v.u===null&&(D.J=v.o),S&&(v.i=S.G.concat(v.i)),S=gg(v,D,1e3),D.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),$t(v.h,D),Ir(D,H,S)}function Cc(v,S){v.H&&be(v.H,function(D,H){Ht(S,H,D)}),v.l&&be({},function(D,H){Ht(S,H,D)})}function gg(v,S,D){D=Math.min(v.i.length,D);const H=v.l?h(v.l.Ka,v.l,v):null;e:{var ie=v.i;let ht=-1;for(;;){const Un=["count="+D];ht==-1?D>0?(ht=ie[0].g,Un.push("ofs="+ht)):ht=0:Un.push("ofs="+ht);let Lt=!0;for(let bn=0;bn<D;bn++){var fe=ie[bn].g;const ma=ie[bn].map;if(fe-=ht,fe<0)ht=Math.max(0,ie[bn].g-100),Lt=!1;else try{fe="req"+fe+"_"||"";try{var Pe=ma instanceof Map?ma:Object.entries(ma);for(const[_s,Ya]of Pe){let Qa=Ya;u(Ya)&&(Qa=pi(Ya)),Un.push(fe+_s+"="+encodeURIComponent(Qa))}}catch(_s){throw Un.push(fe+"type="+encodeURIComponent("_badmap")),_s}}catch{H&&H(ma)}}if(Lt){Pe=Un.join("&");break e}}Pe=void 0}return v=v.i.splice(0,D),S.G=v,Pe}function yg(v){if(!v.g&&!v.v){v.Y=1;var S=v.Da;B||k(),$||(B(),$=!0),N.add(S,v),v.A=0}}function Pc(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Gn(h(v.Da,v),bg(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,vg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Gn(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ol(this),vg(this))};function vh(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function vg(v){v.g=new Hr(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var S=Yn(v.na);Ht(S,"RID","rpc"),Ht(S,"SID",v.M),Ht(S,"AID",v.K),Ht(S,"CI",v.F?"0":"1"),!v.F&&v.ia&&Ht(S,"TO",v.ia),Ht(S,"TYPE","xmlhttp"),Cc(v,S),v.u&&v.o&&Sc(S,v.u,v.o),v.O&&(v.g.H=v.O);var D=v.g;v=v.ba,D.M=1,D.A=Ec(Yn(S)),D.u=null,D.R=!0,Qs(D,v)}t.Va=function(){this.C!=null&&(this.C=null,ol(this),Pc(this),ft(19))};function Zu(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function xg(v,S){var D=null;if(v.g==S){Zu(v),vh(v),v.g=null;var H=2}else if(Ye(v.h,S))D=S.G,gr(v.h,S),H=1;else return;if(v.I!=0){if(S.o)if(H==1){D=S.u?S.u.length:0,S=Date.now()-S.F;var ie=v.D;H=Ke(),et(H,new pr(H,D)),bs(v)}else yg(v);else if(ie=S.m,ie==3||ie==0&&S.X>0||!(H==1&&Xu(v,S)||H==2&&Pc(v)))switch(D&&D.length>0&&(S=v.h,S.i=S.i.concat(D)),ie){case 1:ws(v,5);break;case 4:ws(v,10);break;case 3:ws(v,6);break;default:ws(v,2)}}}function bg(v,S){let D=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(D*=2),D*S}function ws(v,S){if(v.j.info("Error code "+S),S==2){var D=h(v.bb,v),H=v.Ua;const ie=!H;H=new Wn(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||yr(H,"https"),Ec(H),ie?Ka(H.toString(),D):hh(H.toString(),D)}else ft(2);v.I=0,v.l&&v.l.pa(S),wg(v),Qu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function wg(v){if(v.I=0,v.ja=[],v.l){const S=Ha(v.h);(S.length!=0||v.i.length!=0)&&(j(v.ja,S),j(v.ja,v.i),v.h.i.length=0,b(v.i),v.i.length=0),v.l.oa()}}function _g(v,S,D){var H=D instanceof Wn?Yn(D):new Wn(D);if(H.g!="")S&&(H.g=S+"."+H.g),el(H,H.u);else{var ie=o.location;H=ie.protocol,S=S?S+"."+ie.hostname:ie.hostname,ie=+ie.port;const fe=new Wn(null);H&&yr(fe,H),S&&(fe.g=S),ie&&el(fe,ie),D&&(fe.h=D),H=fe}return D=v.G,S=v.wa,D&&S&&Ht(H,D,S),Ht(H,"VER",v.ka),Cc(v,H),H}function jg(v,S,D){if(S&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=v.Aa&&!v.ma?new Qt(new ys({ab:D})):new Qt(v.ma),S.Fa(v.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eg(){}t=Eg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ll(){}ll.prototype.g=function(v,S){return new ai(v,S)};function ai(v,S){Je.call(this),this.g=new sl(S),this.l=v,this.h=S&&S.messageUrlParams||null,v=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(v?v["X-WebChannel-Content-Type"]=S.messageContentType:v={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(v?v["X-WebChannel-Client-Profile"]=S.sa:v={"X-WebChannel-Client-Profile":S.sa}),this.g.U=v,(v=S&&S.Qb)&&!M(v)&&(this.g.u=v),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!M(S)&&(this.g.G=S,v=this.h,v!==null&&S in v&&(v=this.h,S in v&&delete v[S])),this.j=new eo(this)}g(ai,Je),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){gh(this.g)},ai.prototype.o=function(v){var S=this.g;if(typeof v=="string"){var D={};D.__data__=v,v=D}else this.v&&(D={},D.__data__=pi(v),v=D);S.i.push(new R(S.Ya++,v)),S.I==3&&bs(S)},ai.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,ai.Z.N.call(this)};function Ag(v){$e.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var S=v.__sm__;if(S){e:{for(const D in S){v=D;break e}v=void 0}(this.i=v)&&(v=this.i,S=S!==null&&v in S?S[v]:void 0),this.data=S}else this.data=v}g(Ag,$e);function Ng(){lt.call(this),this.status=1}g(Ng,lt);function eo(v){this.g=v}g(eo,Eg),eo.prototype.ra=function(){et(this.g,"a")},eo.prototype.qa=function(v){et(this.g,new Ag(v))},eo.prototype.pa=function(v){et(this.g,new Ng)},eo.prototype.oa=function(){et(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,MV=function(){return new ll},DV=function(){return Ke()},RV=tt,lE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,fv=Cr,oa.COMPLETE="complete",OV=oa,He.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Je.prototype.listen=Je.prototype.J,ym=He,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,IV=Qt}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});const FO="@firebase/firestore",qO="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new s0("@firebase/firestore");function Pd(){return _u.logLevel}function Ve(t,...e){if(_u.logLevel<=Nt.DEBUG){const n=e.map(CN);_u.debug(`Firestore (${Of}): ${t}`,...n)}}function Io(t,...e){if(_u.logLevel<=Nt.ERROR){const n=e.map(CN);_u.error(`Firestore (${Of}): ${t}`,...n)}}function sf(t,...e){if(_u.logLevel<=Nt.WARN){const n=e.map(CN);_u.warn(`Firestore (${Of}): ${t}`,...n)}}function CN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LV(t,r,n)}function LV(t,e,n){let r=`FIRESTORE (${Of}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Io(r),new Error(r)}function It(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||LV(e,i,r)}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Yr.UNAUTHENTICATED)))}shutdown(){}}class AJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NJ{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){It(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rs,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new VV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Yr(e)}}class SJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SJ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Yr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kJ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){It(this.o===void 0,3512);const r=a=>{a.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CJ(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function St(t,e){return t<e?-1:t>e?1:0}function cE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return G1(i)===G1(a)?St(i,a):G1(i)?1:-1}return St(t.length,e.length)}const PJ=55296,IJ=57343;function G1(t){const e=t.charCodeAt(0);return e>=PJ&&e<=IJ}function of(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class Ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&it(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ts.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return St(e.length,n.length)}static compareSegments(e,n){const r=Ts.isNumericId(e),i=Ts.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ts.extractNumericId(e).compare(Ts.extractNumericId(n)):cE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hl.fromString(e.substring(4,e.length-2))}}class tn extends Ts{construct(e,n,r){return new tn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new tn(n)}static emptyPath(){return new tn([])}}const OJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Ts{construct(e,n,r){return new $r(e,n,r)}static isValidIdentifier(e){return OJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new $r([uE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new De(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new De(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new De(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new De(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(n)}static emptyPath(){return new $r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(tn.fromString(e))}static fromName(e){return new Ze(tn.fromString(e).popFirst(5))}static empty(){return new Ze(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new tn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t,e,n){if(!n)throw new De(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RJ(t,e,n,r){if(e===!0&&r===!0)throw new De(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KO(t){if(!Ze.isDocumentKey(t))throw new De(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GO(t){if(Ze.isDocumentKey(t))throw new De(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function h0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it(12329,{type:typeof t})}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h0(t);throw new De(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cp(t,e){if(!UV(t))throw new De(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new De(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=-62135596800,YO=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YO);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WO)throw new De(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YO}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cp(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:ir("string",Xe._jsonSchemaVersion),seconds:ir("number"),nanoseconds:ir("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Xe(0,0))}static max(){return new ot(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function DJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Ql(i,Ze.empty(),e)}function MJ(t){return new Ql(t.readTime,t.key,Wm)}class Ql{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ql(ot.min(),Ze.empty(),Wm)}static max(){return new Ql(ot.max(),Ze.empty(),Wm)}}function LJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:St(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==VJ)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,r)=>{n(e)}))}static reject(e){return new je(((n,r)=>{r(e)}))}static waitFor(e){return new je(((n,r)=>{let i=0,a=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next((i=>i?je.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new je(((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((m=>{o[h]=m,++u,u===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,n){return new je(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function UJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Df(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}m0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=-1;function Pp(t){return t==null}function Lv(t){return t===0&&1/t==-1/0}function BJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Lv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="";function $J(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QO(e)),e=FJ(t.get(n),e);return QO(e)}function FJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case BV:n+="";break;default:n+=a}}return n}function QO(t){return t+BV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $V(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.comparator=e,this.root=n||Ur.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oy(this.root,e,this.comparator,!0)}}class Oy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ur.RED,this.left=i??Ur.EMPTY,this.right=a??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ur(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw it(27949);return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1;Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZO(this.data.getIterator())}getIteratorFrom(e){return new ZO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ur(this.comparator);return n.data=e,n}}class ZO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Xi([])}unionWith(e){let n=new ur($r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return of(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FV("Invalid base64 string: "+a):a}})(e);return new qr(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new qr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const qJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xl(t){if(It(!!t,39018),typeof t=="string"){let e=0;const n=qJ.exec(t);if(It(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hn(t.seconds),nanos:Hn(t.nanos)}}function Hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zl(t){return typeof t=="string"?qr.fromBase64String(t):qr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="server_timestamp",HV="__type__",KV="__previous_value__",GV="__local_write_time__";function ON(t){return(t?.mapValue?.fields||{})[HV]?.stringValue===qV}function p0(t){const e=t.mapValue.fields[KV];return ON(e)?p0(e):e}function Ym(t){const e=Xl(t.mapValue.fields[GV].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,n,r,i,a,o,u,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Vv="(default)";class Qm{constructor(e,n){this.projectId=e,this.database=n||Vv}static empty(){return new Qm("","")}get isDefaultDatabase(){return this.database===Vv}isEqual(e){return e instanceof Qm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="__type__",KJ="__max__",Ry={mapValue:{}},YV="__vector__",zv="value";function Jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ON(t)?4:WJ(t)?9007199254740991:GJ(t)?10:11:it(28295,{value:t})}function $s(t,e){if(t===e)return!0;const n=Jl(t);if(n!==Jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ym(t).isEqual(Ym(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Xl(i.timestampValue),u=Xl(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Zl(i.bytesValue).isEqual(Zl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Hn(i.geoPointValue.latitude)===Hn(a.geoPointValue.latitude)&&Hn(i.geoPointValue.longitude)===Hn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Hn(i.integerValue)===Hn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Hn(i.doubleValue),u=Hn(a.doubleValue);return o===u?Lv(o)===Lv(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return of(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(XO(o)!==XO(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!$s(o[d],u[d])))return!1;return!0})(t,e);default:return it(52216,{left:t})}}function Xm(t,e){return(t.values||[]).find((n=>$s(n,e)))!==void 0}function lf(t,e){if(t===e)return 0;const n=Jl(t),r=Jl(e);if(n!==r)return St(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return St(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=Hn(a.integerValue||a.doubleValue),d=Hn(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return JO(t.timestampValue,e.timestampValue);case 4:return JO(Ym(t),Ym(e));case 5:return cE(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Zl(a),d=Zl(o);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),d=o.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=St(u[h],d[h]);if(m!==0)return m}return St(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=St(Hn(a.latitude),Hn(o.latitude));return u!==0?u:St(Hn(a.longitude),Hn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return eR(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const u=a.fields||{},d=o.fields||{},h=u[zv]?.arrayValue,m=d[zv]?.arrayValue,g=St(h?.values?.length||0,m?.values?.length||0);return g!==0?g:eR(h,m)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Ry.mapValue&&o===Ry.mapValue)return 0;if(a===Ry.mapValue)return 1;if(o===Ry.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const y=cE(d[g],m[g]);if(y!==0)return y;const b=lf(u[d[g]],h[m[g]]);if(b!==0)return b}return St(d.length,m.length)})(t.mapValue,e.mapValue);default:throw it(23264,{he:n})}}function JO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return St(t,e);const n=Xl(t),r=Xl(e),i=St(n.seconds,r.seconds);return i!==0?i:St(n.nanos,r.nanos)}function eR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=lf(n[i],r[i]);if(a)return a}return St(n.length,r.length)}function cf(t){return dE(t)}function dE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=dE(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${dE(n.fields[o])}`;return i+"}"})(t.mapValue):it(61005,{value:t})}function hv(t){switch(Jl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=p0(t);return e?16+hv(e):16;case 5:return 2*t.stringValue.length;case 6:return Zl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+hv(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return hc(r.fields,((a,o)=>{i+=a.length+hv(o)})),i})(t.mapValue);default:throw it(13486,{value:t})}}function tR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fE(t){return!!t&&"integerValue"in t}function RN(t){return!!t&&"arrayValue"in t}function nR(t){return!!t&&"nullValue"in t}function rR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mv(t){return!!t&&"mapValue"in t}function GJ(t){return(t?.mapValue?.fields||{})[WV]?.stringValue===YV}function Im(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Im(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Im(t.arrayValue.values[n]);return e}return{...t}}function WJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Im(n)}setAll(e){let n=$r.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Im(o):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());mv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hc(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ci(Im(this.value))}}function QV(t){const e=[];return hc(t.fields,((n,r)=>{const i=new $r([n]);if(mv(r)){const a=QV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new _r(e,0,ot.min(),ot.min(),ot.min(),ci.empty(),0)}static newFoundDocument(e,n,r,i){return new _r(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new _r(e,2,n,ot.min(),ot.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,ot.min(),ot.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.position=e,this.inclusive=n}}function iR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Ze.comparator(Ze.fromName(o.referenceValue),n.key):r=lf(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function aR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$s(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n="asc"){this.field=e,this.dir=n}}function YJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{}class nr extends XV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XJ(e,n,r):n==="array-contains"?new eee(e,r):n==="in"?new tee(e,r):n==="not-in"?new nee(e,r):n==="array-contains-any"?new ree(e,r):new nr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZJ(e,r):new JJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lf(n,this.value)):n!==null&&Jl(this.value)===Jl(n)&&this.matchesComparison(lf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends XV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ls(e,n)}matches(e){return ZV(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZV(t){return t.op==="and"}function JV(t){return QJ(t)&&ZV(t)}function QJ(t){for(const e of t.filters)if(e instanceof ls)return!1;return!0}function hE(t){if(t instanceof nr)return t.field.canonicalString()+t.op.toString()+cf(t.value);if(JV(t))return t.filters.map((e=>hE(e))).join(",");{const e=t.filters.map((n=>hE(n))).join(",");return`${t.op}(${e})`}}function ez(t,e){return t instanceof nr?(function(r,i){return i instanceof nr&&r.op===i.op&&r.field.isEqual(i.field)&&$s(r.value,i.value)})(t,e):t instanceof ls?(function(r,i){return i instanceof ls&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,u)=>a&&ez(o,i.filters[u])),!0):!1})(t,e):void it(19439)}function tz(t){return t instanceof nr?(function(n){return`${n.field.canonicalString()} ${n.op} ${cf(n.value)}`})(t):t instanceof ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(tz).join(" ,")+"}"})(t):"Filter"}class XJ extends nr{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZJ extends nr{constructor(e,n){super(e,"in",n),this.keys=nz("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JJ extends nr{constructor(e,n){super(e,"not-in",n),this.keys=nz("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nz(t,e){return(e.arrayValue?.values||[]).map((n=>Ze.fromName(n.referenceValue)))}class eee extends nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return RN(n)&&Xm(n.arrayValue,this.value)}}class tee extends nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xm(this.value.arrayValue,n)}}class nee extends nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xm(this.value.arrayValue,n)}}class ree extends nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!RN(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Te=null}}function sR(t,e=null,n=[],r=[],i=null,a=null,o=null){return new iee(t,e,n,r,i,a,o)}function DN(t){const e=ut(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>cf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>cf(r))).join(",")),e.Te=n}return e.Te}function MN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ez(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aR(t.startAt,e.startAt)&&aR(t.endAt,e.endAt)}function mE(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aee(t,e,n,r,i,a,o,u){return new Mf(t,e,n,r,i,a,o,u)}function g0(t){return new Mf(t)}function oR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rz(t){return t.collectionGroup!==null}function Om(t){const e=ut(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new ur($r.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Zm(a,r))})),n.has($r.keyField().canonicalString())||e.Ie.push(new Zm($r.keyField(),r))}return e.Ie}function Ds(t){const e=ut(t);return e.Ee||(e.Ee=see(e,Om(t))),e.Ee}function see(t,e){if(t.limitType==="F")return sR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Zm(i.field,a)}));const n=t.endAt?new Uv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uv(t.startAt.position,t.startAt.inclusive):null;return sR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pE(t,e){const n=t.filters.concat([e]);return new Mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gE(t,e,n){return new Mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function y0(t,e){return MN(Ds(t),Ds(e))&&t.limitType===e.limitType}function iz(t){return`${DN(Ds(t))}|lt:${t.limitType}`}function Id(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>tz(i))).join(", ")}]`),Pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>cf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>cf(i))).join(",")),`Target(${r})`})(Ds(t))}; limitType=${t.limitType})`}function v0(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ze.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Om(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,d){const h=iR(o,u,d);return o.inclusive?h<=0:h<0})(r.startAt,Om(r),i)||r.endAt&&!(function(o,u,d){const h=iR(o,u,d);return o.inclusive?h>=0:h>0})(r.endAt,Om(r),i))})(t,e)}function oee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function az(t){return(e,n)=>{let r=!1;for(const i of Om(t)){const a=lee(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function lee(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):(function(a,o,u){const d=o.data.field(a),h=u.data.field(a);return d!==null&&h!==null?lf(d,h):it(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return $V(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee=new Pn(Ze.comparator);function Oo(){return cee}const sz=new Pn(Ze.comparator);function vm(...t){let e=sz;for(const n of t)e=e.insert(n.key,n);return e}function oz(t){let e=sz;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function au(){return Rm()}function lz(){return Rm()}function Rm(){return new Vu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uee=new Pn(Ze.comparator),dee=new ur(Ze.comparator);function Tt(...t){let e=dee;for(const n of t)e=e.add(n);return e}const fee=new ur(St);function hee(){return fee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lv(e)?"-0":e}}function cz(t){return{integerValue:""+t}}function mee(t,e){return BJ(e)?cz(e):LN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this._=void 0}}function pee(t,e,n){return t instanceof Bv?(function(i,a){const o={fields:{[HV]:{stringValue:qV},[GV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ON(a)&&(a=p0(a)),a&&(o.fields[KV]=a),{mapValue:o}})(n,e):t instanceof Jm?dz(t,e):t instanceof ep?fz(t,e):(function(i,a){const o=uz(i,a),u=lR(o)+lR(i.Ae);return fE(o)&&fE(i.Ae)?cz(u):LN(i.serializer,u)})(t,e)}function gee(t,e,n){return t instanceof Jm?dz(t,e):t instanceof ep?fz(t,e):n}function uz(t,e){return t instanceof $v?(function(r){return fE(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Bv extends x0{}class Jm extends x0{constructor(e){super(),this.elements=e}}function dz(t,e){const n=hz(e);for(const r of t.elements)n.some((i=>$s(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ep extends x0{constructor(e){super(),this.elements=e}}function fz(t,e){let n=hz(e);for(const r of t.elements)n=n.filter((i=>!$s(i,r)));return{arrayValue:{values:n}}}class $v extends x0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lR(t){return Hn(t.integerValue||t.doubleValue)}function hz(t){return RN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yee(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Jm&&i instanceof Jm||r instanceof ep&&i instanceof ep?of(r.elements,i.elements,$s):r instanceof $v&&i instanceof $v?$s(r.Ae,i.Ae):r instanceof Bv&&i instanceof Bv})(t.transform,e.transform)}class vee{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class b0{}function mz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Op(t.key,rr.none()):new Ip(t.key,t.data,rr.none());{const n=t.data,r=ci.empty();let i=new ur($r.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new mc(t.key,r,new Xi(i.toArray()),rr.none())}}function xee(t,e,n){t instanceof Ip?(function(i,a,o){const u=i.value.clone(),d=uR(i.fieldTransforms,a,o.transformResults);u.setAll(d),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):t instanceof mc?(function(i,a,o){if(!pv(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=uR(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(pz(i)),d.setAll(u),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Dm(t,e,n,r){return t instanceof Ip?(function(a,o,u,d){if(!pv(a.precondition,o))return u;const h=a.value.clone(),m=dR(a.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof mc?(function(a,o,u,d){if(!pv(a.precondition,o))return u;const h=dR(a.fieldTransforms,d,o),m=o.data;return m.setAll(pz(a)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,o,u){return pv(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,n)}function bee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=uz(r.transform,i||null);a!=null&&(n===null&&(n=ci.empty()),n.set(r.field,a))}return n||null}function cR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&of(r,i,((a,o)=>yee(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ip extends b0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mc extends b0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pz(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function uR(t,e,n){const r=new Map;It(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,gee(o,u,n[i]))}return r}function dR(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,pee(a,o,e))}return r}class Op extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gz extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xee(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lz();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const d=mz(o,u);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Tt())}isEqual(e){return this.batchId===e.batchId&&of(this.mutations,e.mutations,((n,r)=>cR(n,r)))&&of(this.baseMutations,e.baseMutations,((n,r)=>cR(n,r)))}}class VN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){It(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return uee})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new VN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er,Pt;function yz(t){switch(t){case xe.OK:return it(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return it(15467,{code:t})}}function vz(t){if(t===void 0)return Io("GRPC error has no .code"),xe.UNKNOWN;switch(t){case er.OK:return xe.OK;case er.CANCELLED:return xe.CANCELLED;case er.UNKNOWN:return xe.UNKNOWN;case er.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case er.INTERNAL:return xe.INTERNAL;case er.UNAVAILABLE:return xe.UNAVAILABLE;case er.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case er.NOT_FOUND:return xe.NOT_FOUND;case er.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case er.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case er.ABORTED:return xe.ABORTED;case er.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case er.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case er.DATA_LOSS:return xe.DATA_LOSS;default:return it(39323,{code:t})}}(Pt=er||(er={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee=new Hl([4294967295,4294967295],0);function fR(t){const e=Eee().encode(t),n=new PV;return n.update(e),new Uint8Array(n.digest())}function hR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hl([n,r],0),new Hl([i,a],0)]}class zN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xm(`Invalid padding: ${n}`);if(r<0)throw new xm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Hl.fromNumber(r)));return i.compare(Aee)===1&&(i=new Hl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fR(e),[r,i]=hR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new zN(a,i,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=fR(e),[r,i]=hR(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new w0(ot.min(),i,new Pn(St),Oo(),Tt())}}class Rp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rp(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class xz{constructor(e,n){this.targetId=e,this.Ce=n}}class bz{constructor(e,n,r=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mR{constructor(){this.ve=0,this.Fe=pR(),this.Me=qr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),n=Tt(),r=Tt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it(38017,{changeType:a})}})),new Rp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=pR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nee{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oo(),this.Je=Dy(),this.He=Dy(),this.Ye=new Pn(St)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:it(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(mE(a))if(r===0){const o=new Ze(a.path);this.et(n,o,_r.newNoDocument(o,ot.min()))}else It(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),d=u?this.ct(u,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=Zl(r).toUint8Array()}catch(d){if(d instanceof FV)return sf("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new zN(o,i,a)}catch(d){return sf(d instanceof xm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const u=this.ot(o);if(u){if(a.current&&mE(u.target)){const d=new Ze(u.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,_r.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Tt();this.He.forEach(((a,o)=>{let u=!0;o.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new w0(e,n,this.Ye,this.je,r);return this.je=Oo(),this.Je=Dy(),this.He=Dy(),this.Ye=new Pn(St),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new mR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ur(St),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ur(St),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dy(){return new Pn(Ze.comparator)}function pR(){return new Pn(Ze.comparator)}const See={asc:"ASCENDING",desc:"DESCENDING"},Tee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kee={and:"AND",or:"OR"};class Cee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yE(t,e){return t.useProto3Json||Pp(e)?e:{value:e}}function Fv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Pee(t,e){return Fv(t,e.toTimestamp())}function Ji(t){return It(!!t,49232),ot.fromTimestamp((function(n){const r=Xl(n);return new Xe(r.seconds,r.nanos)})(t))}function UN(t,e){return vE(t,e).canonicalString()}function vE(t,e){const n=(function(i){return new tn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _z(t){const e=tn.fromString(t);return It(Tz(e),10190,{key:e.toString()}),e}function qv(t,e){return UN(t.databaseId,e.path)}function Mm(t,e){const n=_z(e);if(n.get(1)!==t.databaseId.projectId)throw new De(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(Ez(n))}function jz(t,e){return UN(t.databaseId,e)}function Iee(t){const e=_z(t);return e.length===4?tn.emptyPath():Ez(e)}function xE(t){return new tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ez(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gR(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function Oee(t,e){return"found"in e?(function(r,i){It(!!i.found,43571),i.found.name,i.found.updateTime;const a=Mm(r,i.found.name),o=Ji(i.found.updateTime),u=i.found.createTime?Ji(i.found.createTime):ot.min(),d=new ci({mapValue:{fields:i.found.fields}});return _r.newFoundDocument(a,o,u,d)})(t,e):"missing"in e?(function(r,i){It(!!i.missing,3894),It(!!i.readTime,22933);const a=Mm(r,i.missing),o=Ji(i.readTime);return _r.newNoDocument(a,o)})(t,e):it(7234,{result:e})}function Ree(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:it(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(It(m===void 0||typeof m=="string",58123),qr.fromBase64String(m||"")):(It(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),qr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const m=h.code===void 0?xe.UNKNOWN:vz(h.code);return new De(m,h.message||"")})(o);n=new bz(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mm(t,r.document.name),a=Ji(r.document.updateTime),o=r.document.createTime?Ji(r.document.createTime):ot.min(),u=new ci({mapValue:{fields:r.document.fields}}),d=_r.newFoundDocument(i,a,o,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new gv(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mm(t,r.document),a=r.readTime?Ji(r.readTime):ot.min(),o=_r.newNoDocument(i,a),u=r.removedTargetIds||[];n=new gv([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mm(t,r.document),a=r.removedTargetIds||[];n=new gv([],a,i,null)}else{if(!("filter"in e))return it(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new jee(i,a),u=r.targetId;n=new xz(u,o)}}return n}function Az(t,e){let n;if(e instanceof Ip)n={update:gR(t,e.key,e.value)};else if(e instanceof Op)n={delete:qv(t,e.key)};else if(e instanceof mc)n={update:gR(t,e.key,e.data),updateMask:Fee(e.fieldMask)};else{if(!(e instanceof gz))return it(16599,{Vt:e.type});n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const u=o.transform;if(u instanceof Bv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ep)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $v)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw it(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Pee(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:it(27497)})(t,e.precondition)),n}function Dee(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?Ji(i.updateTime):Ji(a);return o.isEqual(ot.min())&&(o=Ji(a)),new vee(o,i.transformResults||[])})(n,e)))):[]}function Mee(t,e){return{documents:[jz(t,e.path)]}}function Lee(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jz(t,i);const a=(function(h){if(h.length!==0)return Sz(ls.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((m=>(function(y){return{field:Od(y.field),direction:Uee(y.dir)}})(m)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=yE(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Vee(t){let e=Iee(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){It(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(g){const y=Nz(g);return y instanceof ls&&JV(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((y=>(function(j){return new Zm(Rd(j.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,Pp(y)?null:y})(n.limit));let d=null;n.startAt&&(d=(function(g){const y=!!g.before,b=g.values||[];return new Uv(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,b=g.values||[];return new Uv(b,y)})(n.endAt)),aee(e,i,o,a,u,"F",d,h)}function zee(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nz(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rd(n.unaryFilter.field);return nr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rd(n.unaryFilter.field);return nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Rd(n.unaryFilter.field);return nr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rd(n.unaryFilter.field);return nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nr.create(Rd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ls.create(n.compositeFilter.filters.map((r=>Nz(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it(1026)}})(n.compositeFilter.op))})(t):it(30097,{filter:t})}function Uee(t){return See[t]}function Bee(t){return Tee[t]}function $ee(t){return kee[t]}function Od(t){return{fieldPath:t.canonicalString()}}function Rd(t){return $r.fromServerFormat(t.fieldPath)}function Sz(t){return t instanceof nr?(function(n){if(n.op==="=="){if(rR(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NAN"}};if(nR(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rR(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NOT_NAN"}};if(nR(n.value))return{unaryFilter:{field:Od(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(n.field),op:Bee(n.op),value:n.value}}})(t):t instanceof ls?(function(n){const r=n.getFilters().map((i=>Sz(i)));return r.length===1?r[0]:{compositeFilter:{op:$ee(n.op),filters:r}}})(t):it(54877,{filter:t})}function Fee(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,i,a=ot.min(),o=ot.min(),u=qr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e){this.yt=e}}function Hee(t){const e=Vee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(){this.Cn=new Gee}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Ql.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Ql.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class Gee{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ur(tn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ur(tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kz=41943040;class Ti{static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(kz,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uf(0)}static cr(){return new uf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="LruGarbageCollector",Wee=1048576;function xR([t,e],[n,r]){const i=St(t,n);return i===0?St(e,r):i}class Yee{constructor(e){this.Ir=e,this.buffer=new ur(xR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(vR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Df(n)?Ve(vR,"Ignoring IndexedDB error during garbage collection: ",n):await Rf(n)}await this.Vr(3e5)}))}}class Xee{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(m0.ce);const r=new Yee(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(yR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Pd()<=Nt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function Zee(t,e){return new Xee(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(){this.changes=new Vu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dm(r.mutation,i,Xi.empty(),Xe.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Tt()){const i=au();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=vm();return a.forEach(((u,d)=>{o=o.insert(u,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=au();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,i){let a=Oo();const o=Rm(),u=(function(){return Rm()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof mc)?a=a.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),Dm(m.mutation,h,m.mutation.getFieldMask(),Xe.now())):o.set(h.key,Xi.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,m)=>o.set(h,m))),n.forEach(((h,m)=>u.set(h,new ete(m,o.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Rm();let i=new Pn(((o,u)=>o-u)),a=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Xi.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Tt()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=lz();m.forEach((y=>{if(!a.has(y)){const b=mz(n.get(y),r.get(y));b!==null&&g.set(y,b),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return je.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):je.resolve(au());let u=Wm,d=a;return o.next((h=>je.forEach(h,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(m)?je.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{d=d.insert(m,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Tt()))).next((m=>({batchId:u,changes:oz(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next((r=>{let i=vm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=vm();return this.indexManager.getCollectionParents(e,a).next((u=>je.forEach(u,(d=>{const h=(function(g,y){return new Mf(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((g,y)=>{o=o.insert(g,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,_r.newInvalidDocument(m)))}));let u=vm();return o.forEach(((d,h)=>{const m=a.get(d);m!==void 0&&Dm(m.mutation,h,Xi.empty(),Xe.now()),v0(n,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ji(i.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Hee(i.bundledQuery),readTime:Ji(i.readTime)}})(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(){this.overlays=new Pn(Ze.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=au();return je.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const i=au(),a=n.length+1,o=new Ze(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Pn(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=au(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=au(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>u.set(h,m))),!(u.size()>=i)););return je.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _ee(n,r));let a=this.qr.get(n);a===void 0&&(a=Tt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.Qr=new ur(br.$r),this.Ur=new ur(br.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new br(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new br(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ze(new tn([])),r=new br(n,e),i=new br(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ze(new tn([])),r=new br(n,e),i=new br(n,e+1);let a=Tt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new br(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class br{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ze.comparator(e.key,n.key)||St(e.Yr,n.Yr)}static Kr(e,n){return St(e.Yr,n.Yr)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ur(br.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wee(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new br(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?IN:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new br(n,0),i=new br(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);a.push(u)})),je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ur(St);return n.forEach((i=>{const a=new br(i,0),o=new br(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(u=>{r=r.add(u.Yr)}))})),je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const o=new br(new Ze(a),0);let u=new ur(St);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),o),je.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return je.forEach(n.mutations,(i=>{const a=new br(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new br(n,0),i=this.Zr.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e){this.ri=e,this.docs=(function(){return new Pn(Ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=Oo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_r.newInvalidDocument(i))})),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Oo();const o=n.path,u=new Ze(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||LJ(MJ(m),r)<=0||(i.has(m.key)||v0(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return je.resolve(a)}getAllFromCollectionGroup(e,n,r,i){it(9500)}ii(e,n){return je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ote(this)}getSize(e){return je.resolve(this.size)}}class ote extends Jee{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e){this.persistence=e,this.si=new Vu((n=>DN(n)),MN),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new BN,this.targetCount=0,this.ai=uf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),je.waitFor(a).next((()=>i))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),je.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n){this.ui={},this.overlays={},this.ci=new m0(0),this.li=!1,this.li=!0,this.hi=new ite,this.referenceDelegate=e(this),this.Pi=new lte(this),this.indexManager=new Kee,this.remoteDocumentCache=(function(i){return new ste(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qee(n),this.Ii=new nte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ate(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new cte(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class cte extends zJ{constructor(e){super(),this.currentSequenceNumber=e}}class $N{constructor(e){this.persistence=e,this.Ri=new BN,this.Vi=null}static mi(e){return new $N(e)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(r=>{const i=Ze.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,ot.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hv{constructor(e,n){this.persistence=e,this.pi=new Vu((r=>$J(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Zee(this,n)}static mi(e,n){return new Hv(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?je.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,a.removeEntry(o,ot.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hv(e.data.value)),n}br(e,n,r){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return je.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Tt(),i=Tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new FN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gW()?8:UJ(ti())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new ute;return this.Ss(e,n,o).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Pd()<=Nt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Id(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(Pd()<=Nt.DEBUG&&Ve("QueryEngine","Query:",Id(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Pd()<=Nt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Id(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):je.resolve())}ys(e,n){if(oR(n))return je.resolve(null);let r=Ds(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=gE(n,null,"F"),r=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Tt(...a);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,o,d.readTime)?this.ys(e,gE(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return oR(n)||i.isEqual(ot.min())?je.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?je.resolve(null):(Pd()<=Nt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Id(n)),this.vs(e,o,n,DJ(i,Wm)).next((u=>u)))}))}Ds(e,n){let r=new ur(az(e));return n.forEach(((i,a)=>{v0(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Pd()<=Nt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Id(n)),this.ps.getDocumentsMatchingQuery(e,n,Ql.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="LocalStore",fte=3e8;class hte{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pn(St),this.xs=new Vu((a=>DN(a)),MN),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tte(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mte(t,e,n,r){return new hte(t,e,n,r)}async function Pz(t,e){const n=ut(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],u=[];let d=Tt();for(const h of i){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function pte(t,e){const n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,m){const g=h.batch,y=g.keys();let b=je.resolve();return y.forEach((j=>{b=b.next((()=>m.getEntry(d,j))).next((E=>{const A=h.docVersions.get(j);It(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),m.addEntry(E)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Tt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Iz(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function gte(t,e){const n=ut(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const y=i.get(g);if(!y)return;u.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,g))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(qr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(g,b),(function(E,A,T){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=fte?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(y,b,m)&&u.push(n.Pi.updateTargetData(a,b))}));let d=Oo(),h=Tt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),u.push(yte(a,o,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(ot.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(m)}return je.waitFor(u).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function yte(t,e,n){let r=Tt(),i=Tt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=Oo();return n.forEach(((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(ot.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):Ve(qN,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function vte(t,e){const n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=IN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xte(t,e){const n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,je.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new zl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function bE(t,e,n){const r=ut(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Df(o))throw o;Ve(qN,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function bR(t,e,n){const r=ut(t);let i=ot.min(),a=Tt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,m){const g=ut(d),y=g.xs.get(m);return y!==void 0?je.resolve(g.Ms.get(y)):g.Pi.getTargetData(h,m)})(r,o,Ds(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ot.min(),n?a:Tt()))).next((u=>(bte(r,oee(e),u),{documents:u,Qs:a})))))}function bte(t,e,n){let r=t.Os.get(e)||ot.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class wR{constructor(){this.activeTargetIds=hee()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wte{constructor(){this.Mo=new wR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _te{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="ConnectivityMonitor";class jR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(_R,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(_R,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My=null;function wE(){return My===null?My=(function(){return 268435456+Math.round(2147483648*Math.random())})():My++,"0x"+My.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="RestConnection",jte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ete{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=wE(),u=this.zo(e,n.toUriEncodedString());Ve(W1,`Sending RPC '${e}' ${o}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(u),m=qo(h);return this.Jo(e,u,d,r,m).then((g=>(Ve(W1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw sf(W1,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Of})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=jte[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="WebChannelConnection";class Nte extends Ete{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=wE();return new Promise(((u,d)=>{const h=new IV;h.setWithCredentials(!0),h.listenOnce(OV.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case fv.NO_ERROR:const g=h.getResponseJson();Ve(Gr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case fv.TIMEOUT:Ve(Gr,`RPC '${e}' ${o} timed out`),d(new De(xe.DEADLINE_EXCEEDED,"Request time out"));break;case fv.HTTP_ERROR:const y=h.getStatus();if(Ve(Gr,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const j=b?.error;if(j&&j.status&&j.message){const E=(function(T){const O=T.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(O)>=0?O:xe.UNKNOWN})(j.status);d(new De(E,j.message))}else d(new De(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new De(xe.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ve(Gr,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Ve(Gr,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=wE(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MV(),u=DV(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");Ve(Gr,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=o.createWebChannel(m,d);this.I_(g);let y=!1,b=!1;const j=new Ate({Yo:A=>{b?Ve(Gr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(Ve(Gr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),Ve(Gr,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),E=(A,T,O)=>{A.listen(T,(C=>{try{O(C)}catch(U){setTimeout((()=>{throw U}),0)}}))};return E(g,ym.EventType.OPEN,(()=>{b||(Ve(Gr,`RPC '${e}' stream ${i} transport opened.`),j.o_())})),E(g,ym.EventType.CLOSE,(()=>{b||(b=!0,Ve(Gr,`RPC '${e}' stream ${i} transport closed`),j.a_(),this.E_(g))})),E(g,ym.EventType.ERROR,(A=>{b||(b=!0,sf(Gr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),j.a_(new De(xe.UNAVAILABLE,"The operation could not be completed")))})),E(g,ym.EventType.MESSAGE,(A=>{if(!b){const T=A.data[0];It(!!T,16349);const O=T,C=O?.error||O[0]?.error;if(C){Ve(Gr,`RPC '${e}' stream ${i} received error:`,C);const U=C.status;let B=(function(k){const I=er[k];if(I!==void 0)return vz(I)})(U),$=C.message;B===void 0&&(B=xe.INTERNAL,$="Unknown error status: "+U+" with message "+C.message),b=!0,j.a_(new De(B,$)),g.close()}else Ve(Gr,`RPC '${e}' stream ${i} received:`,T),j.u_(T)}})),E(u,RV.STAT_EVENT,(A=>{A.stat===lE.PROXY?Ve(Gr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===lE.NOPROXY&&Ve(Gr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Y1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){return new Cee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="PersistentStream";class Oz{constructor(e,n,r,i,a,o,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(ER,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ve(ER,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ste extends Oz{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ree(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ot.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ot.min():o.readTime?Ji(o.readTime):ot.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=xE(this.serializer),n.addTarget=(function(a,o){let u;const d=o.target;if(u=mE(d)?{documents:Mee(a,d)}:{query:Lee(a,d).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=wz(a,o.resumeToken);const h=yE(a,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(ot.min())>0){u.readTime=Fv(a,o.snapshotVersion.toTimestamp());const h=yE(a,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=zee(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=xE(this.serializer),n.removeTarget=e,this.q_(n)}}class Tte extends Oz{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Dee(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Az(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{}class Cte extends kte{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,vE(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(xe.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,vE(n,r),i,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Pte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Io(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="RemoteStore";class Ite{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{zu(this)&&(Ve(ju,"Restarting streams for network reachability change."),await(async function(d){const h=ut(d);h.Ea.add(4),await Dp(h),h.Ra.set("Unknown"),h.Ea.delete(4),await j0(h)})(this))}))})),this.Ra=new Pte(r,i)}}async function j0(t){if(zu(t))for(const e of t.da)await e(!0)}async function Dp(t){for(const e of t.da)await e(!1)}function Rz(t,e){const n=ut(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),YN(n)?WN(n):Lf(n).O_()&&GN(n,e))}function KN(t,e){const n=ut(t),r=Lf(n);n.Ia.delete(e),r.O_()&&Dz(n,e),n.Ia.size===0&&(r.O_()?r.L_():zu(n)&&n.Ra.set("Unknown"))}function GN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lf(t).Y_(e)}function Dz(t,e){t.Va.Ue(e),Lf(t).Z_(e)}function WN(t){t.Va=new Nee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Lf(t).start(),t.Ra.ua()}function YN(t){return zu(t)&&!Lf(t).x_()&&t.Ia.size>0}function zu(t){return ut(t).Ea.size===0}function Mz(t){t.Va=void 0}async function Ote(t){t.Ra.set("Online")}async function Rte(t){t.Ia.forEach(((e,n)=>{GN(t,e)}))}async function Dte(t,e){Mz(t),YN(t)?(t.Ra.ha(e),WN(t)):t.Ra.set("Unknown")}async function Mte(t,e,n){if(t.Ra.set("Online"),e instanceof bz&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ve(ju,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kv(t,r)}else if(e instanceof gv?t.Va.Ze(e):e instanceof xz?t.Va.st(e):t.Va.tt(e),!n.isEqual(ot.min()))try{const r=await Iz(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const u=a.Va.Tt(o);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(d.resumeToken,o))}})),u.targetMismatches.forEach(((d,h)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(qr.EMPTY_BYTE_STRING,m.snapshotVersion)),Dz(a,d);const g=new zl(m.target,d,h,m.sequenceNumber);GN(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ve(ju,"Failed to raise snapshot:",r),await Kv(t,r)}}async function Kv(t,e,n){if(!Df(e))throw e;t.Ea.add(1),await Dp(t),t.Ra.set("Offline"),n||(n=()=>Iz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(ju,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await j0(t)}))}function Lz(t,e){return e().catch((n=>Kv(t,n,e)))}async function E0(t){const e=ut(t),n=ec(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:IN;for(;Lte(e);)try{const i=await vte(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Vte(e,i)}catch(i){await Kv(e,i)}Vz(e)&&zz(e)}function Lte(t){return zu(t)&&t.Ta.length<10}function Vte(t,e){t.Ta.push(e);const n=ec(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Vz(t){return zu(t)&&!ec(t).x_()&&t.Ta.length>0}function zz(t){ec(t).start()}async function zte(t){ec(t).ra()}async function Ute(t){const e=ec(t);for(const n of t.Ta)e.ea(n.mutations)}async function Bte(t,e,n){const r=t.Ta.shift(),i=VN.from(r,e,n);await Lz(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await E0(t)}async function $te(t,e){e&&ec(t).X_&&await(async function(r,i){if((function(o){return yz(o)&&o!==xe.ABORTED})(i.code)){const a=r.Ta.shift();ec(r).B_(),await Lz(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await E0(r)}})(t,e),Vz(t)&&zz(t)}async function AR(t,e){const n=ut(t);n.asyncQueue.verifyOperationInProgress(),Ve(ju,"RemoteStore received new credentials");const r=zu(n);n.Ea.add(3),await Dp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await j0(n)}async function Fte(t,e){const n=ut(t);e?(n.Ea.delete(2),await j0(n)):e||(n.Ea.add(2),await Dp(n),n.Ra.set("Unknown"))}function Lf(t){return t.ma||(t.ma=(function(n,r,i){const a=ut(n);return a.sa(),new Ste(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Ote.bind(null,t),t_:Rte.bind(null,t),r_:Dte.bind(null,t),H_:Mte.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),YN(t)?WN(t):t.Ra.set("Unknown")):(await t.ma.stop(),Mz(t))}))),t.ma}function ec(t){return t.fa||(t.fa=(function(n,r,i){const a=ut(n);return a.sa(),new Tte(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zte.bind(null,t),r_:$te.bind(null,t),ta:Ute.bind(null,t),na:Bte.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await E0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(ju,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new QN(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XN(t,e){if(Io("AsyncQueue",`${e}: ${t}`),Df(t))return new De(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{static emptySet(e){return new Xd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=vm(),this.sortedSet=new Pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.ga=new Pn(Ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):it(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class df{constructor(e,n,r,i,a,o,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new df(e,n,Xd.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&y0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Hte{constructor(){this.queries=SR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ut(n),a=i.queries;i.queries=SR(),a.forEach(((o,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new De(xe.ABORTED,"Firestore shutting down"))}}function SR(){return new Vu((t=>iz(t)),y0)}async function ZN(t,e){const n=ut(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new qte,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=XN(o,`Initialization of query '${Id(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&eS(n)}async function JN(t,e){const n=ut(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Kte(t,e){const n=ut(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&eS(n)}function Gte(t,e,n){const r=ut(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function eS(t){t.Ca.forEach((e=>{e.next()}))}var _E,TR;(TR=_E||(_E={})).Ma="default",TR.Cache="cache";class tS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new df(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_E.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.key=e}}class Bz{constructor(e){this.key=e}}class Wte{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=az(e),this.tu=new Xd(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new NR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const y=i.get(m),b=v0(this.query,g)?g:null,j=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;y&&b?y.data.isEqual(b.data)?j!==E&&(r.track({type:3,doc:b}),A=!0):this.su(y,b)||(r.track({type:2,doc:b}),A=!0,(d&&this.eu(b,d)>0||h&&this.eu(b,h)<0)&&(u=!0)):!y&&b?(r.track({type:0,doc:b}),A=!0):y&&!b&&(r.track({type:1,doc:y}),A=!0,(d||h)&&(u=!0)),A&&(b?(o=o.add(b),a=E?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,g)=>(function(b,j){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:A})}};return E(b)-E(j)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new df(this.query,e.tu,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Bz(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Uz(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return df.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nS="SyncEngine";class Yte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qte{constructor(e){this.key=e,this.hu=!1}}class Xte{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Vu((u=>iz(u)),y0),this.Iu=new Map,this.Eu=new Set,this.du=new Pn(Ze.comparator),this.Au=new Map,this.Ru=new BN,this.Vu={},this.mu=new Map,this.fu=uf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zte(t,e,n=!0){const r=Gz(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await $z(r,e,n,!0),i}async function Jte(t,e){const n=Gz(t);await $z(n,e,!0,!1)}async function $z(t,e,n,r){const i=await xte(t.localStore,Ds(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await ene(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Rz(t.remoteStore,i),u}async function ene(t,e,n,r,i){t.pu=(g,y,b)=>(async function(E,A,T,O){let C=A.view.ru(T);C.Cs&&(C=await bR(E.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,C))));const U=O&&O.targetChanges.get(A.targetId),B=O&&O.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(C,E.isPrimaryClient,U,B);return CR(E,A.targetId,$.au),$.snapshot})(t,g,y,b);const a=await bR(t.localStore,e,!0),o=new Wte(e,a.Qs),u=o.ru(a.documents),d=Rp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,d);CR(t,n,h.au);const m=new Yte(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function tne(t,e,n){const r=ut(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!y0(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KN(r.remoteStore,i.targetId),jE(r,i.targetId)})).catch(Rf)):(jE(r,i.targetId),await bE(r.localStore,i.targetId,!0))}async function nne(t,e){const n=ut(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KN(n.remoteStore,r.targetId))}async function rne(t,e,n){const r=une(t);try{const i=await(function(o,u){const d=ut(o),h=Xe.now(),m=u.reduce(((b,j)=>b.add(j.key)),Tt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let j=Oo(),E=Tt();return d.Ns.getEntries(b,m).next((A=>{j=A,j.forEach(((T,O)=>{O.isValidDocument()||(E=E.add(T))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,j))).next((A=>{g=A;const T=[];for(const O of u){const C=bee(O,g.get(O.key).overlayedDocument);C!=null&&T.push(new mc(O.key,C,QV(C.value.mapValue),rr.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,T,u)})).next((A=>{y=A;const T=A.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(b,A.batchId,T)}))})).then((()=>({batchId:y.batchId,changes:oz(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new Pn(St)),h=h.insert(u,d),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await Mp(r,i.changes),await E0(r.remoteStore)}catch(i){const a=XN(i,"Failed to persist write");n.reject(a)}}async function Fz(t,e){const n=ut(t);try{const r=await gte(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?It(o.hu,14607):i.removedDocuments.size>0&&(It(o.hu,42227),o.hu=!1))})),await Mp(n,r,e)}catch(r){await Rf(r)}}function kR(t,e,n){const r=ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const d=ut(o);d.onlineState=u;let h=!1;d.queries.forEach(((m,g)=>{for(const y of g.Sa)y.va(u)&&(h=!0)})),h&&eS(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ine(t,e,n){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Pn(Ze.comparator);o=o.insert(a,_r.newNoDocument(a,ot.min()));const u=Tt().add(a),d=new w0(ot.min(),new Map,new Pn(St),o,u);await Fz(r,d),r.du=r.du.remove(a),r.Au.delete(e),rS(r)}else await bE(r.localStore,e,!1).then((()=>jE(r,e,n))).catch(Rf)}async function ane(t,e){const n=ut(t),r=e.batch.batchId;try{const i=await pte(n.localStore,e);Hz(n,r,null),qz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mp(n,i)}catch(i){await Rf(i)}}async function sne(t,e,n){const r=ut(t);try{const i=await(function(o,u){const d=ut(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(It(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);Hz(r,e,n),qz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mp(r,i)}catch(i){await Rf(i)}}function qz(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Hz(t,e,n){const r=ut(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function jE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Kz(t,r)}))}function Kz(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(KN(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rS(t))}function CR(t,e,n){for(const r of n)r instanceof Uz?(t.Ru.addReference(r.key,e),one(t,r)):r instanceof Bz?(Ve(nS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Kz(t,r.key)):it(19791,{wu:r})}function one(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ve(nS,"New document in limbo: "+n),t.Eu.add(r),rS(t))}function rS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ze(tn.fromString(e)),r=t.fu.next();t.Au.set(r,new Qte(n)),t.du=t.du.insert(n,r),Rz(t.remoteStore,new zl(Ds(g0(n.path)),r,"TargetPurposeLimboResolution",m0.ce))}}async function Mp(t,e,n){const r=ut(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{o.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){i.push(h);const m=FN.As(d.targetId,h);a.push(m)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,h){const m=ut(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>je.forEach(h,(y=>je.forEach(y.Es,(b=>m.persistence.referenceDelegate.addReference(g,y.targetId,b))).next((()=>je.forEach(y.ds,(b=>m.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))))))}catch(g){if(!Df(g))throw g;Ve(qN,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=m.Ms.get(y),j=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(j);m.Ms=m.Ms.insert(y,E)}}})(r.localStore,a))}async function lne(t,e){const n=ut(t);if(!n.currentUser.isEqual(e)){Ve(nS,"User change. New user:",e.toKey());const r=await Pz(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((u=>{u.forEach((d=>{d.reject(new De(xe.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mp(n,r.Ls)}}function cne(t,e){const n=ut(t),r=n.Au.get(e);if(r&&r.hu)return Tt().add(r.key);{let i=Tt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const u=n.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function Gz(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ine.bind(null,e),e.Pu.H_=Kte.bind(null,e.eventManager),e.Pu.yu=Gte.bind(null,e.eventManager),e}function une(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ane.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sne.bind(null,e),e}class Gv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mte(this.persistence,new dte,e.initialUser,this.serializer)}Cu(e){return new Cz($N.mi,this.serializer)}Du(e){return new wte}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gv.provider={build:()=>new Gv};class dne extends Gv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){It(this.persistence.referenceDelegate instanceof Hv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Qee(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new Cz((r=>Hv.mi(r,n)),this.serializer)}}class EE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lne.bind(null,this.syncEngine),await Fte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hte})()}createDatastore(e){const n=_0(e.databaseInfo.databaseId),r=(function(a){return new Nte(a)})(e.databaseInfo);return(function(a,o,u,d){return new Cte(a,o,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,u){return new Ite(r,i,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>kR(this.syncEngine,n,0)),(function(){return jR.v()?new jR:new _te})())}createSyncEngine(e,n){return(function(i,a,o,u,d,h,m){const g=new Xte(i,a,o,u,d,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ut(n);Ve(ju,"RemoteStore shutting down."),r.Ea.add(5),await Dp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}EE.provider={build:()=>new EE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new De(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const o=ut(i),u={documents:a.map((g=>qv(o.serializer,g)))},d=await o.Ho("BatchGetDocuments",o.serializer.databaseId,tn.emptyPath(),u,a.length),h=new Map;d.forEach((g=>{const y=Oee(o.serializer,g);h.set(y.key.toString(),y)}));const m=[];return a.forEach((g=>{const y=h.get(g.toString());It(!!y,55234,{key:g}),m.push(y)})),m})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Op(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Ze.fromPath(r);this.mutations.push(new gz(i,this.precondition(i)))})),await(async function(r,i){const a=ut(r),o={writes:i.map((u=>Az(a.serializer,u)))};await a.Go("Commit",a.serializer.databaseId,tn.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw it(50498,{Gu:e.constructor.name});n=ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new De(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ot.min())?rr.exists(!1):rr.updateTime(n):rr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ot.min()))throw new De(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(n)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new HN(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new fne(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Pp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!yz(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="FirestoreClient";class mne{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=PN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Ve(tc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ve(tc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=XN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Q1(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(tc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Pz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function PR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pne(t);Ve(tc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>AR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>AR(e.remoteStore,i))),t._onlineComponents=e}async function pne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(tc,"Using user provided OfflineComponentProvider");try{await Q1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;sf("Error using user provided cache. Falling back to memory cache: "+n),await Q1(t,new Gv)}}else Ve(tc,"Using default OfflineComponentProvider"),await Q1(t,new dne(void 0));return t._offlineComponents}async function aS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(tc,"Using user provided OnlineComponentProvider"),await PR(t,t._uninitializedComponentsProvider._online)):(Ve(tc,"Using default OnlineComponentProvider"),await PR(t,new EE))),t._onlineComponents}function gne(t){return aS(t).then((e=>e.syncEngine))}function yne(t){return aS(t).then((e=>e.datastore))}async function Wv(t){const e=await aS(t),n=e.eventManager;return n.onListen=Zte.bind(null,e.syncEngine),n.onUnlisten=tne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nne.bind(null,e.syncEngine),n}function vne(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,d,h){const m=new iS({next:y=>{m.Nu(),o.enqueueAndForget((()=>JN(a,g)));const b=y.docs.has(u);!b&&y.fromCache?h.reject(new De(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&d&&d.source==="server"?h.reject(new De(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new tS(g0(u.path),m,{includeMetadataChanges:!0,qa:!0});return ZN(a,g)})(await Wv(t),t.asyncQueue,e,n,r))),r.promise}function xne(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,d,h){const m=new iS({next:y=>{m.Nu(),o.enqueueAndForget((()=>JN(a,g))),y.fromCache&&d.source==="server"?h.reject(new De(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new tS(u,m,{includeMetadataChanges:!0,qa:!0});return ZN(a,g)})(await Wv(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="firestore.googleapis.com",OR=!0;class RR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yz,this.ssl=OR}else this.host=e.host,this.ssl=e.ssl??OR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wee)throw new De(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wz(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EJ;switch(r.type){case"firstParty":return new TJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=IR.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),IR.delete(n),r.terminate())})(this),Promise.resolve()}}function bne(t,e,n,r={}){t=Jr(t,A0);const i=qo(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(i0(`https://${u}`),a0("Firestore",!0)),a.host!==Yz&&a.host!==u&&sf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:r};if(!Yl(d,o)&&(t._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Yr.MOCK_USER;else{h=b6(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new De(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yr(g)}t._authCredentials=new AJ(new VV(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}toJSON(){return{type:Cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cp(n,Cn._jsonSchema))return new Cn(e,r||null,new Ze(tn.fromString(n.referencePath)))}}Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:ir("string",Cn._jsonSchemaVersion),referencePath:ir("string")};class Kl extends pc{constructor(e,n,r){super(e,n,g0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Ze(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function Ut(t,e,...n){if(t=Ot(t),zV("collection","path",e),t instanceof A0){const r=tn.fromString(e,...n);return GO(r),new Kl(t,null,r)}{if(!(t instanceof Cn||t instanceof Kl))throw new De(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tn.fromString(e,...n));return GO(r),new Kl(t.firestore,null,r)}}function an(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=PN.newId()),zV("doc","path",e),t instanceof A0){const r=tn.fromString(e,...n);return KO(r),new Cn(t,null,new Ze(r))}{if(!(t instanceof Cn||t instanceof Kl))throw new De(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tn.fromString(e,...n));return KO(r),new Cn(t.firestore,t instanceof Kl?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="AsyncQueue";class MR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HN(this,"async_queue_retry"),this._c=()=>{const r=Y1();r&&Ve(DR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Y1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Y1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Df(e))throw e;Ve(DR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Io("INTERNAL UNHANDLED ERROR: ",LR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=QN.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&it(47125,{Pc:LR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class cs extends A0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MR(e),this._firestoreClient=void 0,await e}}}function wne(t,e){const n=typeof t=="object"?t:Np(),r=typeof t=="string"?t:Vv,i=Ho(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=cN("firestore");a&&bne(i,...a)}return i}function Vf(t){if(t._terminated)throw new De(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_ne(t),t._firestoreClient}function _ne(t){const e=t._freezeSettings(),n=(function(i,a,o,u){return new HJ(i,a,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Wz(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mne(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(qr.fromBase64String(e))}catch(n){throw new De(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yi(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cp(e,Yi._jsonSchema))return Yi.fromBase64String(e.bytes)}}Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:ir("string",Yi._jsonSchemaVersion),bytes:ir("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function jne(){return new Uu(uE)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(e){if(Cp(e,Ms._jsonSchema))return new Ms(e.latitude,e.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:ir("string",Ms._jsonSchemaVersion),latitude:ir("number"),longitude:ir("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cp(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ls(e.vectorValues);throw new De(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:ir("string",Ls._jsonSchemaVersion),vectorValues:ir("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=/^__.*__$/;class Ane{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ip(e,this.data,n,this.fieldTransforms)}}class Qz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:t})}}class oS{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xz(this.Ac)&&Ene.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_0(e)}Cc(e,n,r,i=!1){return new oS({Ac:e,methodName:n,Dc:r,path:$r.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(t){const e=t._freezeSettings(),n=_0(t._databaseId);return new Nne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N0(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);uS("Data must be an object, but it was:",o,r);const u=Zz(r,o);let d,h;if(a.merge)d=new Xi(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const y=AE(e,g,n);if(!o.contains(y))throw new De(xe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);eU(m,y)||m.push(y)}d=new Xi(m),h=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=o.fieldTransforms;return new Ane(new ci(u),d,h)}class Lp extends sS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}function lS(t,e,n,r){const i=t.Cc(1,e,n);uS("Data must be an object, but it was:",i,r);const a=[],o=ci.empty();hc(r,((d,h)=>{const m=dS(e,d,n);h=Ot(h);const g=i.yc(m);if(h instanceof Lp)a.push(m);else{const y=Vp(h,g);y!=null&&(a.push(m),o.set(m,y))}}));const u=new Xi(a);return new Qz(o,u,i.fieldTransforms)}function cS(t,e,n,r,i,a){const o=t.Cc(1,e,n),u=[AE(e,r,n)],d=[i];if(a.length%2!=0)throw new De(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(AE(e,a[y])),d.push(a[y+1]);const h=[],m=ci.empty();for(let y=u.length-1;y>=0;--y)if(!eU(h,u[y])){const b=u[y];let j=d[y];j=Ot(j);const E=o.yc(b);if(j instanceof Lp)h.push(b);else{const A=Vp(j,E);A!=null&&(h.push(b),m.set(b,A))}}const g=new Xi(h);return new Qz(m,g,o.fieldTransforms)}function Sne(t,e,n,r=!1){return Vp(n,t.Cc(r?4:3,e))}function Vp(t,e){if(Jz(t=Ot(t)))return uS("Unsupported field value:",e,t),Zz(t,e);if(t instanceof sS)return(function(r,i){if(!Xz(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const u of r){let d=Vp(u,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:Fv(i.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fv(i.serializer,a)}}if(r instanceof Ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:wz(i.serializer,r._byteString)};if(r instanceof Cn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:UN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ls)return(function(o,u){return{mapValue:{fields:{[WV]:{stringValue:YV},[zv]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return LN(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${h0(r)}`)})(t,e)}function Zz(t,e){const n={};return $V(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hc(t,((r,i)=>{const a=Vp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Jz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Ms||t instanceof Yi||t instanceof Cn||t instanceof sS||t instanceof Ls)}function uS(t,e,n){if(!Jz(n)||!UV(n)){const r=h0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function AE(t,e,n){if((e=Ot(e))instanceof Uu)return e._internalPath;if(typeof e=="string")return dS(t,e);throw Yv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tne=new RegExp("[~\\*/\\[\\]]");function dS(t,e,n){if(e.search(Tne)>=0)throw Yv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uu(...e.split("."))._internalPath}catch{throw Yv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yv(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new De(xe.INVALID_ARGUMENT,u+t+d)}function eU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(S0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kne extends Qv{data(){return super.data()}}function S0(t,e){return typeof e=="string"?dS(t,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fS{}class nU extends fS{}function Ft(t,e,...n){let r=[];e instanceof fS&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof hS)).length,u=a.filter((d=>d instanceof T0)).length;if(o>1||o>0&&u>0)throw new De(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class T0 extends nU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T0(e,n,r)}_apply(e){const n=this._parse(e);return rU(e._query,n),new pc(e.firestore,e.converter,pE(e._query,n))}_parse(e){const n=zf(e.firestore);return(function(a,o,u,d,h,m,g){let y;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new De(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){UR(g,m);const j=[];for(const E of g)j.push(zR(d,a,E));y={arrayValue:{values:j}}}else y=zR(d,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||UR(g,m),y=Sne(u,o,g,m==="in"||m==="not-in");return nr.create(h,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function at(t,e,n){const r=e,i=S0("where",t);return T0._create(i,r,n)}class hS extends fS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const u=a.getFlattenedFilters();for(const d of u)rU(o,d),o=pE(o,d)})(e._query,n),new pc(e.firestore,e.converter,pE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mS extends nU{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mS(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new De(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zm(a,o)})(e._query,this._field,this._direction);return new pc(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new Mf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function jr(t,e="asc"){const n=e,r=S0("orderBy",t);return mS._create(r,n)}function zR(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new De(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rz(e)&&n.indexOf("/")!==-1)throw new De(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tn.fromString(n));if(!Ze.isDocumentKey(r))throw new De(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tR(t,new Ze(r))}if(n instanceof Cn)return tR(t,n._key);throw new De(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h0(n)}.`)}function UR(t,e){if(!Array.isArray(t)||t.length===0)throw new De(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rU(t,e){const n=(function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iU{convertValue(e,n="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw it(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hc(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[zv].arrayValue?.values?.map((r=>Hn(r.doubleValue)));return new Ls(n)}convertGeoPoint(e){return new Ms(Hn(e.latitude),Hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=p0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ym(e));default:return null}}convertTimestamp(e){const n=Xl(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tn.fromString(e);It(Tz(r),9688,{name:e});const i=new Qm(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(n)||Io(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cne extends iU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}class Md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends Qv{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(S0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gl._jsonSchema={type:ir("string",Gl._jsonSchemaVersion),bundleSource:ir("string","DocumentSnapshot"),bundleName:ir("string"),bundle:ir("string")};class yv extends Gl{data(e={}){return super.data(e)}}class fu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Md(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new yv(this._firestore,this._userDataWriter,r.key,r,new Md(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const d=new yv(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Md(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new yv(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Md(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:Pne(u.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Pne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t){t=Jr(t,Cn);const e=Jr(t.firestore,cs);return vne(Vf(e),t._key).then((n=>sU(e,t,n)))}fu._jsonSchemaVersion="firestore/querySnapshot/1.0",fu._jsonSchema={type:ir("string",fu._jsonSchemaVersion),bundleSource:ir("string","QuerySnapshot"),bundleName:ir("string"),bundle:ir("string")};class C0 extends iU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function nn(t){t=Jr(t,pc);const e=Jr(t.firestore,cs),n=Vf(e),r=new C0(e);return tU(t._query),xne(n,t._query).then((i=>new fu(e,r,t,i)))}function aU(t,e,n){t=Jr(t,Cn);const r=Jr(t.firestore,cs),i=k0(t.converter,e,n);return zp(r,[N0(zf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function hs(t,e,n,...r){t=Jr(t,Cn);const i=Jr(t.firestore,cs),a=zf(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Uu?cS(a,"updateDoc",t._key,e,n,r):lS(a,"updateDoc",t._key,e),zp(i,[o.toMutation(t._key,rr.exists(!0))])}function pS(t){return zp(Jr(t.firestore,cs),[new Op(t._key,rr.none())])}function gc(t,e){const n=Jr(t.firestore,cs),r=an(t),i=k0(t.converter,e);return zp(n,[N0(zf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then((()=>r))}function gS(t,...e){t=Ot(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||VR(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VR(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let a,o,u;if(t instanceof Cn)o=Jr(t.firestore,cs),u=g0(t._key.path),a={next:d=>{e[r]&&e[r](sU(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Jr(t,pc);o=Jr(d.firestore,cs),u=d._query;const h=new C0(o);a={next:m=>{e[r]&&e[r](new fu(o,h,d,m))},error:e[r+1],complete:e[r+2]},tU(t._query)}return(function(h,m,g,y){const b=new iS(y),j=new tS(m,b,g);return h.asyncQueue.enqueueAndForget((async()=>ZN(await Wv(h),j))),()=>{b.Nu(),h.asyncQueue.enqueueAndForget((async()=>JN(await Wv(h),j)))}})(Vf(o),u,i,a)}function zp(t,e){return(function(r,i){const a=new Rs;return r.asyncQueue.enqueueAndForget((async()=>rne(await gne(r),i,a))),a.promise})(Vf(t),e)}function sU(t,e,n){const r=n.docs.get(e._key),i=new C0(t);return new Gl(t,i,e._key,r,new Md(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zf(e)}set(e,n,r){this._verifyNotCommitted();const i=Ul(e,this._firestore),a=k0(i.converter,n,r),o=N0(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,rr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Ul(e,this._firestore);let o;return o=typeof(n=Ot(n))=="string"||n instanceof Uu?cS(this._dataReader,"WriteBatch.update",a._key,n,r,i):lS(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ul(e,this._firestore);return this._mutations=this._mutations.concat(new Op(n._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ul(t,e){if((t=Ot(t)).firestore!==e)throw new De(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zf(e)}get(e){const n=Ul(e,this._firestore),r=new Cne(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return it(24041);const a=i[0];if(a.isFoundDocument())return new Qv(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Qv(this._firestore,r,n._key,null,n.converter);throw it(18433,{doc:a})}))}set(e,n,r){const i=Ul(e,this._firestore),a=k0(i.converter,n,r),o=N0(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const a=Ul(e,this._firestore);let o;return o=typeof(n=Ot(n))=="string"||n instanceof Uu?cS(this._dataReader,"Transaction.update",a._key,n,r,i):lS(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(e){const n=Ul(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne extends Rne{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ul(e,this._firestore),r=new C0(this._firestore);return super.get(e).then((i=>new Gl(this._firestore,r,n._key,i._document,new Md(!1,!1),n.converter)))}}function Mne(t,e,n){t=Jr(t,cs);const r={...Ine,...n};return(function(a){if(a.maxAttempts<1)throw new De(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,o,u){const d=new Rs;return a.asyncQueue.enqueueAndForget((async()=>{const h=await yne(a);new hne(a.asyncQueue,h,u,o,d).ju()})),d.promise})(Vf(t),(i=>e(new Dne(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(){return new Lp("deleteField")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){return Vf(t=Jr(t,cs)),new One(t,(e=>zp(t,e)))}(function(e,n=!0){(function(i){Of=i})(Lu),Ra(new ta("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new cs(new NJ(r.getProvider("auth-internal")),new kJ(o,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(h.options.projectId,m)})(o,i),o);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Zr(FO,qO,e),Zr(FO,qO,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="firebasestorage.googleapis.com",Vne="storageBucket",zne=120*1e3,Une=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ia{constructor(e,n,r=0){super(X1(e),`Firebase Storage: ${n} (${X1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ks.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return X1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fs||(Fs={}));function X1(t){return"storage/"+t}function Bne(){const t="An unknown error occurred, please check the error payload for server response.";return new Ks(Fs.UNKNOWN,t)}function $ne(){return new Ks(Fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fne(){return new Ks(Fs.CANCELED,"User canceled the upload/download.")}function qne(t){return new Ks(Fs.INVALID_URL,"Invalid URL '"+t+"'.")}function Hne(t){return new Ks(Fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BR(t){return new Ks(Fs.INVALID_ARGUMENT,t)}function cU(){return new Ks(Fs.APP_DELETED,"The Firebase app was deleted.")}function Kne(t){return new Ks(Fs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=as.makeFromUrl(e,n)}catch{return new as(e,"")}if(r.path==="")return r;throw Hne(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(U){U.path_=decodeURIComponent(U.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${m}/b/${i}/o${y}`,"i"),j={bucket:1,path:3},E=n===lU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",T=new RegExp(`^https?://${E}/${i}/${A}`,"i"),C=[{regex:u,indices:d,postModify:a},{regex:b,indices:j,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let U=0;U<C.length;U++){const B=C[U],$=B.regex.exec(e);if($){const N=$[B.indices.bucket];let k=$[B.indices.path];k||(k=""),r=new as(N,k),B.postModify(r);break}}if(r==null)throw qne(e);return r}}class Gne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t,e,n){let r=1,i=null,a=null,o=!1,u=0;function d(){return u===2}let h=!1;function m(...A){h||(h=!0,e.apply(null,A))}function g(A){i=setTimeout(()=>{i=null,t(b,d())},A)}function y(){a&&clearTimeout(a)}function b(A,...T){if(h){y();return}if(A){y(),m.call(null,A,...T);return}if(d()||o){y(),m.call(null,A,...T);return}r<64&&(r*=2);let C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}let j=!1;function E(A){j||(j=!0,y(),!h&&(i!==null?(A||(u=2),clearTimeout(i),g(0)):A||(u=1)))}return g(0),a=setTimeout(()=>{o=!0,E(!0)},n),E}function Yne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qne(t){return t!==void 0}function $R(t,e,n,r){if(r<e)throw BR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw BR(`Invalid value for '${t}'. Expected ${n} or less.`)}function Xne(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xv||(Xv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,n,r,i,a,o,u,d,h,m,g,y=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,E)=>{this.resolve_=j,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ly(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===Xv.NO_ERROR,d=a.getStatus();if(!u||Zne(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Xv.ABORT;r(!1,new Ly(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Ly(h,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());Qne(d)?a(d):a()}catch(d){o(d)}else if(u!==null){const d=Bne();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(i.canceled){const d=this.appDelete_?cU():Fne();o(d)}else{const d=$ne();o(d)}};this.canceled_?n(!1,new Ly(!1,null,!0)):this.backoffId_=Wne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Yne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ly{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ere(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ire(t,e,n,r,i,a,o=!0,u=!1){const d=Xne(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return nre(m,e),ere(m,n),tre(m,a),rre(m,r),new Jne(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sre(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this._service=e,n instanceof as?this._location=n:this._location=as.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zv(e,n)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sre(this._location.path)}get storage(){return this._service}get parent(){const e=are(this._location.path);if(e===null)return null;const n=new as(this._location.bucket,e);return new Zv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Kne(e)}}function FR(t,e){const n=e?.[Vne];return n==null?null:as.makeFromBucketSpec(n,t)}function ore(t,e,n,r={}){t.host=`${e}:${n}`;const i=qo(e);i&&(i0(`https://${t.host}/b`),a0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:b6(a,t.app.options.projectId))}class lre{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=lU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zne,this._maxUploadRetryTime=Une,this._requests=new Set,i!=null?this._bucket=as.makeFromBucketSpec(i,this._host):this._bucket=FR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,e):this._bucket=FR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$R("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$R("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zv(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Gne(cU());{const o=ire(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const qR="@firebase/storage",HR="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="storage";function cre(t=Np(),e){t=Ot(t);const r=Ho(t,uU).getImmediate({identifier:e}),i=cN("storage");return i&&ure(r,...i),r}function ure(t,e,n,r={}){ore(t,e,n,r)}function dre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new lre(n,r,i,e,Lu)}function fre(){Ra(new ta(uU,dre,"PUBLIC").setMultipleInstances(!0)),Zr(qR,HR,""),Zr(qR,HR,"esm2020")}fre();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hre="type.googleapis.com/google.protobuf.Int64Value",mre="type.googleapis.com/google.protobuf.UInt64Value";function dU(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Jv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jv(e));if(typeof t=="function"||typeof t=="object")return dU(t,e=>Jv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ff(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case hre:case mre:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ff(e)):typeof t=="function"||typeof t=="object"?dU(t,e=>ff(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ii extends ia{constructor(e,n,r){super(`${yS}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Ii.prototype)}}function pre(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ex(t,e){let n=pre(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!KR[o])return new Ii("internal","internal");n=KR[o],r=o}const u=a.message;typeof u=="string"&&(r=u),i=a.details,i!==void 0&&(i=ff(i))}}catch{}return n==="ok"?null:new Ii(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ci(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="us-central1",yre=/^data: (.*?)(?:\n|$)/;function vre(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ii("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class xre{constructor(e,n,r,i,a=NE,o=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new gre(e,n,r,i),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(a);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=NE}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function bre(t,e,n){const r=qo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(i0(t.emulatorOrigin+"/backends"),a0("Functions",!0))}function wre(t,e,n){const r=i=>jre(t,e,i,{});return r.stream=(i,a)=>Are(t,e,i,a),r}function fU(t){return t.emulatorOrigin&&qo(t.emulatorOrigin)?"include":void 0}async function _re(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:fU(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function hU(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function jre(t,e,n,r){const i=t._url(e);return Ere(t,i,n,r)}async function Ere(t,e,n,r){n=Jv(n);const i={data:n},a=await hU(t,r),o=r.timeout||7e4,u=vre(o),d=await Promise.race([_re(e,i,a,t.fetchImpl,t),u.promise,t.cancelAllRequests]);if(u.cancel(),!d)throw new Ii("cancelled","Firebase Functions instance was deleted.");const h=ex(d.status,d.json);if(h)throw h;if(!d.json)throw new Ii("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new Ii("internal","Response is missing data field.");return{data:ff(m)}}function Are(t,e,n,r){const i=t._url(e);return Nre(t,i,n,r||{})}async function Nre(t,e,n,r){n=Jv(n);const i={data:n},a=await hU(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r?.signal,credentials:fU(t)})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const j=new Ii("cancelled","Request was cancelled.");return{data:Promise.reject(j),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(j)}}}}}}const b=ex(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let u,d;const h=new Promise((y,b)=>{u=y,d=b});r?.signal?.addEventListener("abort",()=>{const y=new Ii("cancelled","Request was cancelled.");d(y)});const m=o.body.getReader(),g=Sre(m,u,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const y=g.getReader();return{async next(){const{value:b,done:j}=await y.read();return{value:b,done:j}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:h}}function Sre(t,e,n,r){const i=(o,u)=>{const d=o.match(yre);if(!d)return;const h=d[1];try{const m=JSON.parse(h);if("result"in m){e(ff(m.result));return}if("message"in m){u.enqueue(ff(m.message));return}if("error"in m){const g=ex(0,m);u.error(g),n(g);return}}catch(m){if(m instanceof Ii){u.error(m),n(m);return}}},a=new TextDecoder;return new ReadableStream({start(o){let u="";return d();async function d(){if(r?.aborted){const h=new Ii("cancelled","Request was cancelled");return o.error(h),n(h),Promise.resolve()}try{const{value:h,done:m}=await t.read();if(m){u.trim()&&i(u.trim(),o),o.close();return}if(r?.aborted){const y=new Ii("cancelled","Request was cancelled");o.error(y),n(y),await t.cancel();return}u+=a.decode(h,{stream:!0});const g=u.split(`
`);u=g.pop()||"";for(const y of g)y.trim()&&i(y.trim(),o);return d()}catch(h){const m=h instanceof Ii?h:ex(0,null);o.error(m),n(m)}}},cancel(){return t.cancel()}})}const GR="@firebase/functions",WR="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre="auth-internal",kre="app-check-internal",Cre="messaging-internal";function Pre(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(Tre),o=n.getProvider(Cre),u=n.getProvider(kre);return new xre(i,a,o,u,r)};Ra(new ta(yS,e,"PUBLIC").setMultipleInstances(!0)),Zr(GR,WR,t),Zr(GR,WR,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t=Np(),e=NE){const r=Ho(Ot(t),yS).getImmediate({identifier:e}),i=cN("functions");return i&&Ire(r,...i),r}function Ire(t,e,n){bre(Ot(t),e,n)}function pU(t,e,n){return wre(Ot(t),e)}Pre();const vS={apiKey:"AIzaSyCK7Ab5hhfDzqXQhs7shZXHwKQ0rd1dJsQ",authDomain:"dicode-software.firebaseapp.com",projectId:"dicode-software",storageBucket:"dicode-software.firebasestorage.app",messagingSenderId:"118737184318",appId:"1:118737184318:web:f6c4d4768f03e24322536f",measurementId:"G-H5Q211NXS1"},Ore=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"],YR=Ore.filter(t=>!vS[t]);YR.length>0&&console.warn("[firebase] Missing config values:",YR.join(", ")," make sure `.env` exists. See docs/firebase.md.");function Rre(){if(cO().length>0){const e=cO()[0];return console.info("[firebase] Reusing existing app:",e.name),e}const t=S6(vS);return console.info("[firebase] Initialized app:",{name:t.name,projectId:t.options.projectId}),t}const Up=Rre();typeof window<"u"&&vS.measurementId&&xJ(Up);const ts=JX(Up),qe=wne(Up);cre(Up);const Dre=mU(Up),Gs="campaigns",xS="campaignItems",SE="videos",nc="users",Ro="cohorts",hf="organizations",Mi="invitations",Da="campaignEnrollments",bm="campaignProgress",Vs="campaignResponses";function In(t,e,n){console.log(` Firestore ${t}:`,{collection:e,...n,timestamp:new Date().toISOString()})}function Bp(t){const e={};for(const[n,r]of Object.entries(t))if(r!==void 0){const i=r instanceof Xe;r&&typeof r=="object"&&!Array.isArray(r)&&!(r instanceof Date)&&!i?e[n]=Bp(r):e[n]=r}return e}function yt(t){return t?.toDate?t.toDate():new Date(t)}const tp=3;function gU(t){if(!t)return{};const e={};for(const[n,r]of Object.entries(t))e[n]={videoFinished:!!r.videoFinished,questionsAnswered:r.questionsAnswered??0,questionTarget:r.questionTarget??tp,completed:!!r.completed,completedAt:r.completedAt?yt(r.completedAt):void 0,answeredQuestionIds:Array.isArray(r.answeredQuestionIds)?r.answeredQuestionIds:void 0};return e}function Mre(t){const e={};for(const[n,r]of Object.entries(t))e[n]={videoFinished:r.videoFinished,questionsAnswered:r.questionsAnswered,questionTarget:r.questionTarget,completed:r.completed,completedAt:r.completedAt?r.completedAt instanceof Xe?r.completedAt:Xe.fromDate(new Date(r.completedAt)):null,answeredQuestionIds:r.answeredQuestionIds&&r.answeredQuestionIds.length>0?r.answeredQuestionIds:void 0},e[n].completedAt||delete e[n].completedAt,e[n].answeredQuestionIds||delete e[n].answeredQuestionIds;return e}function Lre(t){return Object.values(t).filter(e=>e.completed).length}async function bS(t){try{return(await Ko(t))?.items?.length??0}catch(e){return console.error("[firestore] Failed to fetch campaign for module count",e),0}}function Bu(t,e){return{id:t,campaignId:e.campaignId,userId:e.userId,organizationId:e.organizationId,status:e.status,enrolledAt:yt(e.enrolledAt),startedAt:e.startedAt?yt(e.startedAt):void 0,completedAt:e.completedAt?yt(e.completedAt):void 0,accessCount:e.accessCount||0,lastAccessedAt:e.lastAccessedAt?yt(e.lastAccessedAt):void 0,totalModules:e.totalModules||e.totalModuleCount||0,completedModules:e.completedModules||0,moduleProgress:gU(e.moduleProgress),metadata:e.metadata||{autoEnrolled:!1}}}async function Vre(t){return t.totalModules&&t.totalModules>0?t.totalModules:bS(t.campaignId)}async function TE(t,e){const n={title:e.title,description:e.description,skillFocus:e.skillFocus,itemIds:[],source:"organization",...e.userOrganization?{organization:e.userOrganization}:{},allowedOrganizations:e.userOrganization?[e.userOrganization]:void 0,metadata:{createdAt:Xe.now(),updatedAt:Xe.now(),createdBy:t,version:1,isPublished:!1,tags:e.tags||[]}};return(await gc(Ut(qe,Gs),n)).id}async function Ko(t){const e=ts.currentUser;console.log("[getCampaign] Auth status:",{isAuthenticated:!!e,userId:e?.uid,email:e?.email,campaignId:t});const n=an(qe,Gs,t),r=await us(n);if(!r.exists())return console.log("[getCampaign] Campaign not found:",t),null;const i=r.data();console.log("[getCampaign] Campaign data:",{campaignId:t,createdBy:i.metadata?.createdBy,hasItems:i.itemIds?.length>0,itemCount:i.itemIds?.length});const a=await wU(i.itemIds);return{id:r.id,title:i.title,description:i.description,skillFocus:i.skillFocus,items:a.sort((o,u)=>o.order-u.order),source:i.source,pinned:i.pinned,campaignType:i.campaignType,anonymousResponses:i.anonymousResponses,allowedOrganizations:i.allowedOrganizations,allowedDepartments:i.allowedDepartments,allowedEmployeeIds:i.allowedEmployeeIds,allowedCohortIds:i.allowedCohortIds,schedule:i.schedule,accessControl:i.accessControl,automation:i.automation,stats:i.stats,recurringConfig:i.recurringConfig,metadata:{...i.metadata,createdAt:yt(i.metadata.createdAt),updatedAt:yt(i.metadata.updatedAt)}}}async function yU(t,e,n,r){const i=Ft(Ut(qe,Gs),jr("metadata.updatedAt","desc")),a=await nn(i),o=[];for(const u of a.docs){const d=await Ko(u.id);if(!d)continue;if(!t){o.push(d);continue}const h=d.allowedOrganizations;if(!h||h.length===0){o.push(d);continue}if(!h.includes(t))continue;const{allowedDepartments:m,allowedEmployeeIds:g,allowedCohortIds:y}=d;if(!(m&&m.length>0||g&&g.length>0||y&&y.length>0)){o.push(d);continue}if(m&&m.length>0&&e&&m.includes(e)){o.push(d);continue}if(g&&g.length>0&&n&&g.includes(n)){o.push(d);continue}if(y&&y.length>0&&r&&r.some(E=>y.includes(E))){o.push(d);continue}}return o}async function vU(t){const e=[],n=new Set,r=Ut(qe,Gs),i=[];i.push(nn(Ft(r,at("source","==","dicode"),at("allowedOrganizations","==",[]),jr("metadata.updatedAt","desc")))),i.push(nn(Ft(r,at("source","==","dicode"),at("allowedOrganizations","==",null),jr("metadata.updatedAt","desc")))),t&&i.push(nn(Ft(r,at("source","==","dicode"),at("allowedOrganizations","array-contains",t),jr("metadata.updatedAt","desc")))),t&&i.push(nn(Ft(r,at("source","==","organization"),at("allowedOrganizations","array-contains",t),jr("metadata.updatedAt","desc"))));const a=await Promise.all(i);for(const o of a)for(const u of o.docs){if(n.has(u.id))continue;const d=await Ko(u.id);if(d){if(d.source==="dicode"&&d.allowedOrganizations&&d.allowedOrganizations.length>0&&t&&!d.allowedOrganizations.includes(t))continue;e.push(d),n.add(u.id)}}return e}async function xU(t,e,n,r){const i=[],a=new Set,o=Ut(qe,Gs),u=[];u.push(nn(Ft(o,at("metadata.isPublished","==",!0),at("source","==","dicode"),at("allowedOrganizations","==",[]),jr("metadata.updatedAt","desc")))),u.push(nn(Ft(o,at("metadata.isPublished","==",!0),at("source","==","dicode"),at("allowedOrganizations","==",null),jr("metadata.updatedAt","desc")))),t&&u.push(nn(Ft(o,at("metadata.isPublished","==",!0),at("source","==","dicode"),at("allowedOrganizations","array-contains",t),jr("metadata.updatedAt","desc")))),t&&u.push(nn(Ft(o,at("metadata.isPublished","==",!0),at("source","==","organization"),at("allowedOrganizations","array-contains",t),jr("metadata.updatedAt","desc")))),t||u.push(nn(Ft(o,at("metadata.isPublished","==",!0),jr("metadata.updatedAt","desc"))));const d=await Promise.all(u);for(const h of d)for(const m of h.docs){if(a.has(m.id))continue;const g=await Ko(m.id);if(!g||(a.add(m.id),g.source==="dicode"&&g.allowedOrganizations&&g.allowedOrganizations.length>0&&t&&!g.allowedOrganizations.includes(t)))continue;const{allowedDepartments:y,allowedEmployeeIds:b,allowedCohortIds:j}=g;if(!t){i.push(g);continue}if(!(y&&y.length>0||b&&b.length>0||j&&j.length>0)){i.push(g);continue}if(y&&y.length>0&&e&&y.includes(e)){i.push(g);continue}if(b&&b.length>0&&n&&b.includes(n)){i.push(g);continue}if(j&&j.length>0&&r&&r.some(T=>j.includes(T))){i.push(g);continue}}return i}async function kE(t,e){const n=an(qe,Gs,t),r=Bp({...e,"metadata.updatedAt":Xe.now()});await hs(n,r)}async function bU(t){const e=await Ko(t);if(!e)return;const n=e.items.map(i=>i.id);n.length>0&&await jU(t,n);const r=an(qe,Gs,t);await pS(r)}async function CE(t,e){const n=an(qe,Gs,t);await hs(n,{"metadata.isPublished":e,"metadata.updatedAt":Xe.now()})}async function wU(t){if(t.length===0)return[];const e=10,n=[];for(let a=0;a<t.length;a+=e)n.push(t.slice(a,a+e));const r=[];for(const a of n){const o=Ft(Ut(qe,xS),at(jne(),"in",a)),d=(await nn(o)).docs.map(h=>{const m=h.data();return{id:h.id,...m,metadata:{createdAt:yt(m.metadata.createdAt),updatedAt:yt(m.metadata.updatedAt)}}});r.push(...d)}const i=new Map(r.map(a=>[a.id,a]));return t.map(a=>i.get(a)).filter(a=>a!==void 0)}async function _U(t,e,n,r){const i={campaignId:t,videoId:e,order:n,questions:r,metadata:{createdAt:Xe.now(),updatedAt:Xe.now()}},a=await gc(Ut(qe,xS),i),o=an(qe,Gs,t),u=await us(o);if(u.exists()){const d=u.data();await hs(o,{itemIds:[...d.itemIds,a.id],"metadata.updatedAt":Xe.now()})}return a.id}async function jU(t,e){if(e.length===0)return;const n=oU(qe),r=an(qe,Gs,t),i=await us(r);if(i.exists()){const o=i.data().itemIds.filter(u=>!e.includes(u));n.update(r,{itemIds:o,"metadata.updatedAt":Xe.now()})}e.forEach(a=>{const o=an(qe,xS,a);n.delete(o)}),await n.commit()}async function mf(t){const e=an(qe,SE,t),n=await us(e);if(!n.exists())return null;const r=n.data();return{id:n.id,...r,metadata:{...r.metadata,createdAt:yt(r.metadata.createdAt),updatedAt:yt(r.metadata.updatedAt)}}}async function wS(){In("READ",SE,{});const t=Ft(Ut(qe,SE),jr("metadata.createdAt","desc"));try{const e=await nn(t);return console.log(` Found ${e.docs.length} total videos`),e.docs.map(n=>{const r=n.data();return{id:n.id,...r,metadata:{...r.metadata,createdAt:yt(r.metadata.createdAt),updatedAt:yt(r.metadata.updatedAt)}}})}catch(e){throw console.error(" Failed to fetch videos:",e),e}}async function _S(t){const e=an(qe,nc,t),n=await us(e);if(!n.exists())return null;const r=n.data();return{...r,createdAt:yt(r.createdAt),updatedAt:yt(r.updatedAt)}}async function Uf(t,e){const n=an(qe,nc,t),r=Xe.now(),i={updatedAt:r};e.role!==void 0&&(i.role=e.role),e.department!==void 0&&(i.department=e.department),e.organization!==void 0&&(i.organization=e.organization),e.name!==void 0&&(i.name=e.name),e.avatar!==void 0&&(i.avatar=e.avatar),e.gender!==void 0&&(i.gender=e.gender),e.dateOfBirth!==void 0&&(i.dateOfBirth=e.dateOfBirth),e.requirePasswordChange!==void 0&&(i.requirePasswordChange=e.requirePasswordChange),e.onboardingCompletedAt!==void 0&&(i.onboardingCompletedAt=e.onboardingCompletedAt),e.invitationId!==void 0&&(i.invitationId=e.invitationId),e.createdAt!==void 0&&(i.createdAt=e.createdAt),!(await us(n)).exists()&&!e.createdAt&&(i.createdAt=r),await aU(n,i,{merge:!0});const u=(await us(n)).data();return{...u,createdAt:yt(u.createdAt),updatedAt:yt(u.updatedAt)}}async function P0(t){In("QUERY",nc,{organization:t});const e=Ft(Ut(qe,nc),at("organization","==",t)),n=await nn(e),r=await Promise.all(n.docs.map(async i=>{const a=i.data(),o=await AS(i.id,t);return{id:i.id,email:a.email||"",name:a.name||a.email||"Unknown",role:a.role||"employee",department:a.department||void 0,organization:a.organization||void 0,avatar:a.avatar||void 0,cohortIds:o.length>0?o:void 0,gender:a.gender||void 0,dateOfBirth:a.dateOfBirth?yt(a.dateOfBirth):void 0,createdAt:yt(a.createdAt||new Date),lastLogin:a.lastLogin?yt(a.lastLogin):void 0,status:a.status||"active"}}));return console.log(` Loaded ${r.length} users for organization ${t}`),r}async function EU(t){In("DELETE",nc,{id:t});const e=an(qe,nc,t);await pS(e),console.log(` User profile deleted: ${t}`)}async function AU(t){In("CREATE",hf,{name:t.name,slug:t.slug});const e={name:t.name,slug:t.slug,industry:t.industry,region:t.region,size:t.size,departments:t.departments||[],settings:{logo:void 0,primaryColor:void 0,secondaryColor:void 0,backgroundColor:void 0},adminIds:t.adminIds,subscription:{plan:"free",status:"trial",expiresAt:new Date(Date.now()+720*60*60*1e3)},metadata:{createdAt:Xe.now(),updatedAt:Xe.now(),createdBy:t.createdBy}},n=Bp(e),r=await gc(Ut(qe,hf),n);return console.log(" Organization created:",r.id),r.id}async function Bf(t){In("READ",hf,{id:t});const e=an(qe,hf,t),n=await us(e);if(!n.exists())return console.log(" Organization not found:",t),null;const r=n.data();return{id:n.id,...r,metadata:{...r.metadata,createdAt:yt(r.metadata.createdAt),updatedAt:yt(r.metadata.updatedAt)},subscription:r.subscription?{...r.subscription,expiresAt:r.subscription.expiresAt?yt(r.subscription.expiresAt):void 0}:void 0}}async function NU(t,e){In("UPDATE",hf,{id:t});const n=an(qe,hf,t),r=Bp({...e,"metadata.updatedAt":Xe.now()});await hs(n,r),console.log(" Organization updated:",t)}async function SU(t,e,n=[],r){In("CREATE",Ro,{name:t,organization:r});const i={name:t,description:e||null,employeeIds:n,organization:r||null,createdAt:Xe.now(),updatedAt:Xe.now()};try{const a=await gc(Ut(qe,Ro),i);return console.log(" Cohort created successfully:",a.id),a.id}catch(a){throw console.error(" Failed to create cohort:",a),a}}async function jS(t){const e=an(qe,Ro,t),n=await us(e);if(!n.exists())return null;const r=n.data();return{id:n.id,name:r.name,description:r.description,employeeIds:r.employeeIds||[],organization:r.organization,createdAt:yt(r.createdAt),updatedAt:yt(r.updatedAt)}}async function ES(t){if(In("READ",Ro,{organization:t}),!t)return console.warn("[getCohortsByOrganization] No organization provided; returning empty list."),[];const e=Ft(Ut(qe,Ro),at("organization","==",t),jr("createdAt","desc"));try{const n=await nn(e);return console.log(` Found ${n.docs.length} cohorts`),n.docs.map(r=>{const i=r.data();return{id:r.id,name:i.name,description:i.description||null,employeeIds:i.employeeIds||[],organization:i.organization||null,createdAt:yt(i.createdAt),updatedAt:yt(i.updatedAt)}})}catch(n){throw console.error(" Failed to fetch cohorts:",n),n}}async function AS(t,e){In("READ",Ro,{userId:t,organizationId:e});const n=[at("employeeIds","array-contains",t)];e&&n.push(at("organization","==",e));const r=Ft(Ut(qe,Ro),...n);try{const a=(await nn(r)).docs.map(o=>o.id);return console.log(` Found ${a.length} cohorts for user ${t}`),a}catch(i){throw console.error(" Failed to fetch user cohorts:",i),i}}async function NS(t,e){const n=an(qe,Ro,t);await hs(n,{...e,updatedAt:Xe.now()})}async function PE(t,e){const n=await jS(t);if(!n)throw new Error("Cohort not found");const r=n.employeeIds||[];r.includes(e)||await NS(t,{employeeIds:[...r,e]})}async function vv(t,e){const n=await jS(t);if(!n)throw new Error("Cohort not found");const r=n.employeeIds||[];await NS(t,{employeeIds:r.filter(i=>i!==e)})}async function IE(t,e){In("UPDATE",nc,{userId:t,cohortIds:e});const n=an(qe,nc,t);try{await hs(n,{cohortIds:e.length>0?e:Lne(),updatedAt:Xe.now()}),console.log(` Updated cohorts for user ${t}:`,e)}catch(r){throw console.error(" Failed to update user cohorts:",r),r}}function TU(){return crypto.randomUUID()}async function I0(t){In("CREATE",Mi,{email:t.email,role:t.role,organizationId:t.organizationId});const e=t.email.toLowerCase(),n=TU(),r=Xe.now(),i=new Date(Date.now()+10080*60*1e3);try{console.log("[createInvitation] Creating Firebase Auth account and user document for:",e);const o=await pU(Dre,"createEmployeeAccount")({email:e,role:t.role,name:t.inviteeName||e,organization:t.organizationId,department:t.department}),u=o.data.userId;if(console.log(" Firebase Auth account and Firestore user document created:",u),t.cohortIds&&t.cohortIds.length>0){const g=oU(qe);for(const y of t.cohortIds){const b=an(qe,Ro,y),j=await us(b);if(j.exists()){const A=j.data().employeeIds||[];A.includes(u)||g.update(b,{employeeIds:[...A,u]})}}await g.commit(),console.log(" User added to cohorts")}const d={organizationId:t.organizationId,organizationName:t.organizationName,email:e,role:t.role,department:t.department,cohortIds:t.cohortIds,token:n,status:"pending",invitedBy:t.invitedBy,expiresAt:i,createdAt:r,userId:u,passwordResetLink:o.data.passwordResetLink,passwordChanged:!1,metadata:t.inviteeName?{inviteeName:t.inviteeName}:void 0},h=Bp(d),m=await gc(Ut(qe,Mi),h);return console.log(" Invitation created successfully:",m.id),{invitationId:m.id,passwordResetLink:o.data.passwordResetLink}}catch(a){throw console.error(" Failed to create invitation:",a),a.message?.includes("email already exists")?new Error(`The email ${e} is already registered. Please use a different email address.`):a.message?.includes("Invalid email")?new Error("Invalid email address format."):a}}async function kU(t){In("READ",Mi,{token:t});const e=Ft(Ut(qe,Mi),at("token","==",t));try{const n=await nn(e);if(n.empty)return console.log(" Invitation not found with token:",t),null;const r=n.docs[0],i=r.data(),a={id:r.id,organizationId:i.organizationId,organizationName:i.organizationName,email:i.email,role:i.role,department:i.department,cohortIds:i.cohortIds,token:i.token,status:i.status,invitedBy:i.invitedBy,expiresAt:yt(i.expiresAt),createdAt:yt(i.createdAt),acceptedAt:i.acceptedAt?yt(i.acceptedAt):void 0,userId:i.userId,passwordChanged:i.passwordChanged,metadata:i.metadata},o=new Date;return a.status==="pending"&&new Date(a.expiresAt)<o&&(await SS(r.id,"expired"),a.status="expired"),console.log(" Invitation found:",r.id),a}catch(n){throw console.error(" Failed to fetch invitation:",n),n}}async function zre(t){const e=an(qe,Mi,t),n=await us(e);if(!n.exists())return null;const r=n.data();return{id:n.id,organizationId:r.organizationId,organizationName:r.organizationName,email:r.email,role:r.role,department:r.department,cohortIds:r.cohortIds,token:r.token,status:r.status,invitedBy:r.invitedBy,expiresAt:yt(r.expiresAt),createdAt:yt(r.createdAt),acceptedAt:r.acceptedAt?yt(r.acceptedAt):void 0,metadata:r.metadata}}async function xv(t,e){In("QUERY",Mi,{organizationId:t,status:e});const n=[at("organizationId","==",t),jr("createdAt","desc")],r=Ft(Ut(qe,Mi),...n);try{const a=(await nn(r)).docs.map(o=>{const u=o.data();return{id:o.id,organizationId:u.organizationId,organizationName:u.organizationName,email:u.email,role:u.role,department:u.department,cohortIds:u.cohortIds,token:u.token,status:u.status,invitedBy:u.invitedBy,expiresAt:yt(u.expiresAt),createdAt:yt(u.createdAt),acceptedAt:u.acceptedAt?yt(u.acceptedAt):void 0,metadata:u.metadata}});return console.log(` Found ${a.length} invitations for organization ${t}`),a}catch(i){throw console.error(" Failed to fetch invitations:",i),i}}async function SS(t,e){In("UPDATE",Mi,{id:t,status:e});const n=an(qe,Mi,t),r={status:e};e==="accepted"&&(r.acceptedAt=Xe.now()),await hs(n,r),console.log(` Invitation status updated to ${e}:`,t)}async function CU(t){In("DELETE",Mi,{id:t});const e=an(qe,Mi,t);await pS(e),console.log(" Invitation revoked:",t)}async function PU(t){In("UPDATE",Mi,{id:t,action:"resend"});const e=TU(),n=new Date(Date.now()+10080*60*1e3),r=an(qe,Mi,t);return await hs(r,{token:e,expiresAt:n,status:"pending"}),console.log(" Invitation resent with new token:",t),e}async function TS(t,e){const n=Ft(Ut(qe,Mi),at("email","==",t.toLowerCase()),at("organizationId","==",e),at("status","==","pending")),r=await nn(n);if(r.empty)return null;const i=r.docs[0],a=i.data();return{id:i.id,organizationId:a.organizationId,organizationName:a.organizationName,email:a.email,role:a.role,department:a.department,cohortIds:a.cohortIds,token:a.token,status:a.status,invitedBy:a.invitedBy,expiresAt:yt(a.expiresAt),createdAt:yt(a.createdAt),acceptedAt:a.acceptedAt?yt(a.acceptedAt):void 0,metadata:a.metadata}}async function kS(t,e,n,r,i=!1){In("CREATE",Da,{campaignId:t,userId:e,organizationId:n});const a=await $f(t,e);if(a)return console.log(" User already enrolled in campaign:",a.id),a.id;const o=await bS(t),u={campaignId:t,userId:e,organizationId:n,status:"not-started",enrolledAt:Xe.now(),accessCount:0,totalModules:o,completedModules:0,moduleProgress:{},metadata:{enrolledBy:r,autoEnrolled:i}};try{const d=await gc(Ut(qe,Da),u);return console.log(" Campaign enrollment created:",d.id),d.id}catch(d){throw console.error(" Failed to create enrollment:",d),d}}async function $f(t,e){const n=Ft(Ut(qe,Da),at("campaignId","==",t),at("userId","==",e)),r=await nn(n);if(r.empty)return null;const i=r.docs[0];return Bu(i.id,i.data())}async function IU(t){In("QUERY",Da,{campaignId:t});const e=Ft(Ut(qe,Da),at("campaignId","==",t),jr("enrolledAt","desc"));try{const r=(await nn(e)).docs.map(i=>Bu(i.id,i.data()));return console.log(` Found ${r.length} enrollments for campaign ${t}`),r}catch(n){throw console.error(" Failed to fetch enrollments:",n),n}}async function OU(t){In("QUERY",Da,{userId:t});const e=Ft(Ut(qe,Da),at("userId","==",t),jr("enrolledAt","desc"));try{const r=(await nn(e)).docs.map(i=>Bu(i.id,i.data()));return console.log(` Found ${r.length} enrollments for user ${t}`),r}catch(n){throw console.error(" Failed to fetch user enrollments:",n),n}}async function CS(t,e){const n=await $f(t,e);if(!n)throw new Error("Enrollment not found");const r=an(qe,Da,n.id),i={accessCount:(n.accessCount||0)+1,lastAccessedAt:Xe.now()};n.status==="not-started"&&(i.status="in-progress",i.startedAt=Xe.now()),(!n.totalModules||n.totalModules===0)&&(i.totalModules=await bS(t)),await hs(r,i),console.log(" Enrollment access updated:",n.id)}async function RU(t,e,n,r){const i=await $f(t,e);if(!i)throw new Error("Enrollment not found");const a=an(qe,Da,i.id),o=Xe.now();await Mne(qe,async u=>{const d=await u.get(a);if(!d.exists())throw new Error("Enrollment not found");const h=Bu(d.id,d.data()),m=await Vre(h),g={...h.moduleProgress||{}},y=g[n],b=Math.max(0,r.questionTarget??y?.questionTarget??tp),j=new Set(y?.answeredQuestionIds||[]),E={videoFinished:y?.videoFinished??!1,questionsAnswered:y?.questionsAnswered??0,questionTarget:b,completed:y?.completed??!1,completedAt:y?.completedAt,answeredQuestionIds:y?.answeredQuestionIds};if(r.markVideoFinished&&(E.videoFinished=!0),r.incrementQuestions&&r.incrementQuestions>0){let O=!0;r.questionId&&(j.has(r.questionId)?O=!1:(j.add(r.questionId),E.answeredQuestionIds=Array.from(j))),O&&(E.questionsAnswered=Math.min(E.questionTarget,E.questionsAnswered+r.incrementQuestions))}E.questionTarget=b,!E.completed&&E.videoFinished&&E.questionsAnswered>=E.questionTarget&&(E.completed=!0,E.completedAt=new Date),g[n]=E;const A=Lre(g),T={moduleProgress:Mre(g),completedModules:A,lastAccessedAt:o};(!h.totalModules||h.totalModules!==m)&&(T.totalModules=m),h.status==="not-started"&&(T.status="in-progress",T.startedAt=h.startedAt??o),m>0&&A>=m?(T.status="completed",T.completedAt=h.completedAt??o):h.status==="completed"&&(T.status="in-progress",T.completedAt=null),u.update(a,T)})}async function PS(t,e,n,r=tp){const i=typeof r=="number"?{questionTarget:r}:r,a=i.questionTarget??tp,u=typeof i.watchedDuration=="number"&&typeof i.totalDuration=="number"&&i.totalDuration>0?i.watchedDuration/i.totalDuration>=.95:!0;await RU(t,e,n,{markVideoFinished:i.forceComplete||u,questionTarget:a})}async function IS(t,e,n,r=tp,i=1,a){await RU(t,e,n,{incrementQuestions:i,questionTarget:r,questionId:a})}async function OS(t,e,n,r,i,a){In("UPDATE",bm,{campaignId:t,userId:e,videoId:n});const o=Ft(Ut(qe,bm),at("campaignId","==",t),at("userId","==",e),at("videoId","==",n)),u=await nn(o),d=i>=a*.95;if(u.empty){const h={campaignId:t,userId:e,videoId:n,organizationId:r,watchedDuration:i,totalDuration:a,completed:d,lastWatchedAt:Xe.now(),questionsAnswered:[],totalQuestions:0,allQuestionsAnswered:!1,createdAt:Xe.now(),updatedAt:Xe.now()};await gc(Ut(qe,bm),h),console.log(" Video progress created")}else{const h=an(qe,bm,u.docs[0].id);await hs(h,{watchedDuration:i,totalDuration:a,completed:d,lastWatchedAt:Xe.now(),updatedAt:Xe.now()}),console.log(" Video progress updated")}}async function RS(t,e,n,r,i,a,o){In("CREATE",Vs,{campaignId:t,userId:r,videoId:e,questionId:n});try{const u=Ft(Ut(qe,Vs),at("campaignId","==",t),at("userId","==",r),at("questionId","==",n)),d=await nn(u);if(!d.empty)return console.log(" Response already exists for this question, skipping save:",{campaignId:t,userId:r,questionId:n,existingResponseId:d.docs[0].id}),d.docs[0].id;const h={campaignId:t,videoId:e,questionId:n,userId:r,organizationId:i,answer:a,answeredAt:Xe.now(),metadata:o},m=await gc(Ut(qe,Vs),h);return console.log(" Campaign response saved:",m.id),m.id}catch(u){throw console.error(" Failed to save response:",u),u}}async function DU(t,e){In("QUERY",Vs,{campaignId:t,organizationId:e});const n=[at("campaignId","==",t),jr("answeredAt","desc")];e&&n.push(at("organizationId","==",e));const r=Ft(Ut(qe,Vs),...n);try{const a=(await nn(r)).docs.map(o=>{const u=o.data();return{id:o.id,campaignId:u.campaignId,videoId:u.videoId,questionId:u.questionId,userId:u.userId,organizationId:u.organizationId,answer:u.answer,answeredAt:yt(u.answeredAt),metadata:u.metadata}});return console.log(` Found ${a.length} responses for campaign ${t}`),a}catch(i){throw console.error(" Failed to fetch responses:",i),i}}async function MU(t,e){In("QUERY",Vs,{campaignId:t,userId:e});const n=Ft(Ut(qe,Vs),at("campaignId","==",t),at("userId","==",e),jr("answeredAt","asc"));try{const i=(await nn(n)).docs.map(a=>{const o=a.data();return{id:a.id,campaignId:o.campaignId,videoId:o.videoId,questionId:o.questionId,userId:o.userId,organizationId:o.organizationId,answer:o.answer,answeredAt:yt(o.answeredAt),metadata:o.metadata}});return console.log(` Found ${i.length} responses for user ${e}`),i}catch(r){throw console.error(" Failed to fetch user responses:",r),r}}async function LU(t){try{const e=Ft(Ut(qe,bm),at("userId","==",t)),n=await nn(e);let r=0;const i=new Set;n.forEach(E=>{const A=E.data();if(r+=A.watchedDuration||0,A.lastWatchedAt){const T=A.lastWatchedAt.toDate().toISOString().split("T")[0];i.add(T)}});const a=Math.round(r/3600*10)/10,o=Array.from(i).sort().reverse();let u=0;const d=new Date().toISOString().split("T")[0],h=new Date(Date.now()-864e5).toISOString().split("T")[0];if(o.length>0&&(o[0]===d||o[0]===h)){u=1;let E=new Date(o[0]);for(let A=1;A<o.length;A++){const T=new Date(o[A]),O=Math.abs(E.getTime()-T.getTime());if(Math.ceil(O/(1e3*60*60*24))===1)u++,E=T;else break}}const m=Ft(Ut(qe,Vs),at("userId","==",t)),g=await nn(m);let y=0,b=0;return g.forEach(E=>{const A=E.data();typeof A.answer=="number"&&(y+=A.answer,b++)}),{averageScore:b>0?Math.round(y/b*10)/10:0,currentStreak:u,totalLearningHours:a}}catch(e){return console.error("Error calculating user stats:",e),{averageScore:0,currentStreak:0,totalLearningHours:0}}}const Ure=Object.freeze(Object.defineProperty({__proto__:null,CAMPAIGN_ENROLLMENTS_COLLECTION:Da,CAMPAIGN_RESPONSES_COLLECTION:Vs,addEmployeeToCohort:PE,batchDeleteCampaignItems:jU,batchGetCampaignItems:wU,buildEnrollmentFromData:Bu,checkPendingInvitation:TS,checkUserEnrollment:$f,createCampaign:TE,createCampaignItem:_U,createCohort:SU,createInvitation:I0,createOrganization:AU,deleteCampaign:bU,deleteUserProfile:EU,enrollUserInCampaign:kS,getAllVideos:wS,getCampaign:Ko,getCampaignEnrollments:IU,getCampaignResponses:DU,getCampaignsByOrganization:yU,getCampaignsForAdmin:vU,getCohort:jS,getCohortsByOrganization:ES,getInvitation:zre,getInvitationByToken:kU,getOrganization:Bf,getOrganizationInvitations:xv,getPublishedCampaigns:xU,getUserCampaignResponses:MU,getUserCohorts:AS,getUserEnrollments:OU,getUserProfile:_S,getUserStats:LU,getUsersByOrganization:P0,getVideo:mf,incrementModuleQuestionProgress:IS,parseModuleProgressData:gU,removeEmployeeFromCohort:vv,resendInvitation:PU,revokeInvitation:CU,saveCampaignResponse:RS,setCampaignPublishState:CE,setModuleVideoFinished:PS,updateCampaign:kE,updateCohort:NS,updateEnrollmentAccess:CS,updateInvitationStatus:SS,updateOrganization:NU,updateUserCohorts:IE,updateVideoProgress:OS,upsertUserProfile:Uf},Symbol.toStringTag,{value:"Module"})),VU=x.createContext(void 0),Ar=()=>{const t=x.useContext(VU);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Bre=({children:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{let g=!0;const y=$Q(ts,async b=>{if(g){if(!b){n(null),i(!1);return}i(!0);try{const j=await QR(b);g&&n(j)}catch(j){console.error("[auth] Failed to hydrate user",j)}finally{g&&i(!1)}}});return()=>{g=!1,y()}},[]);const a=async(g,y)=>{if(!y)return;const b=await _S(g.uid);if(!b){await Uf(g.uid,{role:y,name:g.displayName??g.email??"Team Member",avatar:g.photoURL??null});return}if(b.role!==y)throw await EO(ts),new Error(`This account is registered as ${b.role}, but you selected ${y}. Please select the correct role.`)},m={user:e,isAuthenticated:!!e,isLoading:r,login:async(g,y,b)=>{const j=await LQ(ts,g,y);await a(j.user,b)},loginWithGoogle:async g=>{const y=new yo;y.setCustomParameters({prompt:"select_account"});const b=await lX(ts,y);await a(b.user,g)},logout:async()=>{await EO(ts),n(null)},refreshUser:async()=>{const g=ts.currentUser;if(!g){n(null);return}i(!0);try{const y=await QR(g);n(y)}catch(y){console.error("[auth] Failed to refresh user",y)}finally{i(!1)}}};return l.jsx(VU.Provider,{value:m,children:t})};function $re(t){return t&&t.toLowerCase().includes("admin")?"admin":"employee"}async function QR(t){const e=await _S(t.uid);let n;e?n=e:n=await Uf(t.uid,{role:$re(t.email),name:t.displayName??t.email??"Team Member",avatar:t.photoURL??null,department:null});const r=await AS(t.uid);return Fre(t,n,r)}function Fre(t,e,n){const r=i=>{if(i)return i?.toDate?i.toDate():i};return{id:t.uid,email:t.email??"",name:e.name??t.displayName??t.email??"Team Member",role:e.role,department:e.department||void 0,organization:e.organization||void 0,avatar:e.avatar??t.photoURL??void 0,cohortIds:n.length>0?n:void 0,gender:e.gender||void 0,dateOfBirth:r(e.dateOfBirth),requirePasswordChange:e.requirePasswordChange||void 0,onboardingCompletedAt:r(e.onboardingCompletedAt),invitationId:e.invitationId||void 0}}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hre=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),XR=t=>{const e=Hre(t);return e.charAt(0).toUpperCase()+e.slice(1)},zU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Kre=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},d)=>x.createElement("svg",{ref:d,...Gre,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zU("lucide",i),...!a&&!Kre(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,m])=>x.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(Wre,{ref:a,iconNode:e,className:zU(`lucide-${qre(XR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=XR(t),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZR=ke("activity",Yre);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zd=ke("arrow-left",Qre);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ld=ke("arrow-right",Xre);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],UU=ke("award",Zre);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],np=ke("bell",Jre);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zc=ke("book-open",eie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],nie=ke("bot",tie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],BU=ke("briefcase",rie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Oi=ke("building-2",iie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tx=ke("calendar",aie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],oie=ke("camera",sie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$U=ke("chart-column",lie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],uie=ke("chart-no-axes-column-increasing",cie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],di=ke("check",die);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JR=ke("chevron-down",fie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FU=ke("chevron-left",hie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nx=ke("chevron-right",mie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],OE=ke("chevron-up",pie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rx=ke("circle-alert",gie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pi=ke("circle-check-big",yie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xie=ke("circle-play",vie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wie=ke("circle-question-mark",bie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],eD=ke("circle-user",_ie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tD=ke("circle-x",jie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aie=ke("clock-3",Eie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qU=ke("clock",Nie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rp=ke("copy",Sie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kie=ke("download",Tie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ix=ke("eye-off",Cie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pf=ke("eye",Pie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DS=ke("file-text",Iie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Rie=ke("flame",Oie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],HU=ke("folder-open",Die);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Lie=ke("folder-plus",Mie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zie=ke("funnel",Vie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Bie=ke("globe",Uie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Fie=ke("grip-vertical",$ie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Hie=ke("handshake",qie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Gie=ke("heart",Kie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Yie=ke("house",Wie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Xie=ke("image",Qie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jie=ke("info",Zie);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],tae=ke("key-round",eae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rae=ke("layers",nae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],aae=ke("layout-dashboard",iae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],KU=ke("lightbulb",sae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lae=ke("loader-circle",oae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Bl=ke("loader",cae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wo=ke("lock",uae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],fae=ke("log-in",dae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ax=ke("log-out",hae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Eu=ke("mail",mae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gae=ke("map-pin",pae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],wm=ke("megaphone",yae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nD=ke("menu",vae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],RE=ke("message-circle",xae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MS=ke("message-square",bae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_ae=ke("palette",wae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Eae=ke("pause",jae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rD=ke("pen-line",Aae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iD=ke("pen",Nae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Z1=ke("pin",Sae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_o=ke("play",Tae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_m=ke("plus",kae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Pae=ke("power",Cae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aD=ke("refresh-cw",Iae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Rae=ke("repeat",Oae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mae=ke("rotate-ccw",Dae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gf=ke("save",Lae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jo=ke("search",Vae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Uae=ke("send",zae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sD=ke("share-2",Bae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Au=ke("shield",$ae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DE=ke("sparkles",Fae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],J1=ke("square-pen",qae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kae=ke("star",Hae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],O0=ke("target",Gae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Yae=ke("thumbs-down",Wae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Xae=ke("thumbs-up",Qae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vd=ke("trash-2",Zae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ese=ke("trending-down",Jae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yf=ke("trending-up",tse);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],R0=ke("upload",nse);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GU=ke("user-check",rse);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sx=ke("user-plus",ise);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nu=ke("user",ase);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ui=ke("users",sse);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],zd=ke("video",ose);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hn=ke("x",lse),cse=[{label:"Admin",value:"admin",icon:l.jsx(GU,{size:18})},{label:"Employee",value:"employee",icon:l.jsx(ui,{size:18})}],use=()=>l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none","aria-hidden":"true",children:[l.jsx("path",{d:"M17.64 9.2045C17.64 8.56682 17.5827 7.95273 17.4764 7.36364H9V10.8455H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.561V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.2045Z",fill:"#4285F4"}),l.jsx("path",{d:"M9 18C11.43 18 13.4673 17.1945 14.9564 15.8195L12.0477 13.561C11.2414 14.1015 10.2114 14.4205 9 14.4205C6.65591 14.4205 4.67136 12.8373 3.96409 10.71H0.957275V13.0418C2.43818 15.9832 5.48182 18 9 18Z",fill:"#34A853"}),l.jsx("path",{d:"M3.96409 10.71C3.78409 10.1695 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83045 3.96409 7.29V4.95818H0.957273C0.347727 6.17318 0 7.54773 0 9C0 10.4523 0.347727 11.8268 0.957273 13.0418L3.96409 10.71Z",fill:"#FBBC05"}),l.jsx("path",{d:"M9 3.57955C10.3214 3.57955 11.4982 4.03409 12.4209 4.91591L15.0205 2.31636C13.4632 0.861818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67136 5.16273 6.65591 3.57955 9 3.57955Z",fill:"#EA4335"})]}),dse=()=>{const t=fs(),[e,n]=x.useState(""),[r,i]=x.useState(""),[a,o]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState(null),[g,y]=x.useState(null),[b,j]=x.useState(null),{login:E,loginWithGoogle:A}=Ar();x.useEffect(()=>{if(t.state?.message){j(t.state.message);const U=setTimeout(()=>j(null),5e3);return()=>clearTimeout(U)}},[t]);const T=async U=>{if(U.preventDefault(),!u){m("Please choose whether you are logging in as an admin or employee.");return}m(null),y(null),o(!0);try{await E(e,r,u)}catch(B){console.error("Login failed:",B),y(B.message||"Failed to sign in. Please check your credentials.")}finally{o(!1)}},O=async()=>{if(A){if(!u){m("Please choose whether you are logging in as an admin or employee.");return}m(null),y(null),o(!0);try{await A(u)}catch(U){if(U.code==="auth/popup-closed-by-user")return;console.error("Google login failed:",U),y(U.message||"Google sign in failed.")}finally{o(!1)}}},C=x.useMemo(()=>{const U=new Date().getHours();return U<12?"Good morning":U<18?"Good afternoon":"Good evening"},[]);return l.jsxs("div",{className:"min-h-screen bg-[#04060A] text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute -top-1/3 -left-1/4 w-[60vw] h-[60vw] bg-primary/10 blur-3xl rounded-full"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-[45vw] h-[45vw] bg-purple-500/5 blur-3xl rounded-full"}),l.jsx("div",{className:"relative z-10 flex items-center justify-center px-6 py-16",children:l.jsxs("div",{className:"w-full max-w-3xl flex flex-col items-center gap-10 text-center",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("img",{src:"/dicode_logo.png",alt:"DI Code logo",className:"h-12 w-auto mx-auto drop-shadow-[0_10px_30px_rgba(0,0,0,0.4)]"}),l.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-white/60",children:"Behavioral Coaching"}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold text-white",children:C})]}),l.jsx("div",{className:"w-full max-w-md bg-[#0C0F17]/90 border border-white/5 rounded-3xl p-8 shadow-[0_20px_60px_rgba(3,6,16,0.6)] backdrop-blur-xl text-left",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Choose access"}),l.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Sign in to DiCode"})]}),b&&l.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg flex items-start gap-3",children:[l.jsx(Pi,{size:18,className:"text-green-400 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-green-400 text-sm",children:b})]}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2 text-white/80",children:"Workspace"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 bg-white/5 p-1 rounded-full border border-white/10",children:cse.map(U=>l.jsxs("button",{type:"button",onClick:()=>{d(U.value),m(null)},className:`flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition-all ${u===U.value?"bg-white text-[#04060A] shadow-[0_10px_30px_rgba(255,255,255,0.2)]":"text-white/70"}`,children:[l.jsx("span",{children:U.icon}),l.jsx("span",{children:U.label})]},U.value))}),h&&l.jsx("p",{className:"text-xs text-red-400 mt-2",children:h}),g&&l.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-3 mt-4",children:l.jsx("p",{className:"text-red-400 text-sm",children:g})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2 text-white/80",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:U=>n(U.target.value),className:"input w-full bg-white/[0.04] border-white/10 focus:border-primary focus:ring-primary/30",placeholder:"you@company.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2 text-white/80",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:r,onChange:U=>i(U.target.value),className:"input w-full bg-white/[0.04] border-white/10 focus:border-primary focus:ring-primary/30",placeholder:"",required:!0})]}),l.jsxs("button",{type:"submit",disabled:a,className:"btn-primary w-full flex items-center justify-center gap-2 text-base py-3 rounded-2xl shadow-[0_15px_45px_rgba(245,188,29,0.35)]",children:[l.jsx(fae,{size:20}),a?"Signing in...":"Sign In"]})]}),A&&u==="admin"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-white/10"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-[#0C0F17] text-white/50",children:"OR"})})]}),l.jsxs("button",{type:"button",onClick:O,disabled:a,className:"w-full flex items-center justify-center gap-3 rounded-2xl border border-white/10 bg-white text-[#202124] py-3 font-medium hover:bg-white/95 transition-colors",children:[l.jsx(use,{}),l.jsx("span",{children:"Continue with Google"})]})]}),u==="employee"&&l.jsx("p",{className:"text-sm text-white/50 text-center mt-4",children:"Don't have an account? Contact your organization's IT or admin to get invited."})]})})]})})]})},fse=()=>{const{token:t}=jp(),[e,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState(null);x.useEffect(()=>{(async()=>{if(!t){o("Invalid invitation link"),i(!1);return}try{const h=await kU(t);h?h.status==="expired"?o("This invitation has expired. Please contact your administrator for a new invitation."):h.status==="accepted"?o("This invitation has already been used."):n(h):o("Invitation not found")}catch(h){console.error("[InviteAcceptPage] Failed to load invitation:",h),o("Failed to load invitation. Please contact your administrator.")}finally{i(!1)}})()},[t]);const u=()=>{e?.passwordResetLink&&(window.location.href=e.passwordResetLink)};return r?l.jsx("div",{className:"min-h-screen bg-dark-bg text-dark-text flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Bl,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),l.jsx("p",{className:"text-dark-text-muted",children:"Loading your invitation..."})]})}):a||!e?l.jsx("div",{className:"min-h-screen bg-dark-bg text-dark-text flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-md w-full bg-dark-card rounded-2xl shadow-xl p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(tD,{size:32,className:"text-red-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-dark-text mb-2",children:"Invitation Error"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:a}),l.jsx("a",{href:"/login",className:"btn-secondary inline-block",children:"Go to Login"})]})}):e.passwordResetLink?l.jsx("div",{className:"min-h-screen bg-dark-bg text-dark-text flex items-center justify-center p-6",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"bg-dark-card rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(Oi,{size:32,className:"text-primary"})}),l.jsxs("h1",{className:"text-2xl font-bold text-dark-text mb-2",children:["Welcome to ",e.organizationName,"!"]}),l.jsx("p",{className:"text-dark-text-muted",children:"You're invited to join the team"})]}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-4 mb-6 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx(Eu,{size:16,className:"text-dark-text-muted"}),l.jsx("span",{className:"text-dark-text",children:e.email})]}),e.department&&l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx(BU,{size:16,className:"text-dark-text-muted"}),l.jsx("span",{className:"text-dark-text",children:e.department})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx(Pi,{size:16,className:"text-dark-text-muted"}),l.jsxs("span",{className:"text-dark-text capitalize",children:[e.role," role"]})]})]}),l.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 mb-6",children:[l.jsx("p",{className:"text-sm text-dark-text mb-3",children:l.jsx("strong",{children:"Next steps:"})}),l.jsxs("ol",{className:"text-sm text-dark-text-muted space-y-2 list-decimal list-inside",children:[l.jsx("li",{children:"Click the button below to set your password"}),l.jsx("li",{children:"Create a secure password for your account"}),l.jsx("li",{children:"Log in and complete your profile"})]})]}),l.jsxs("button",{onClick:u,className:"btn-primary w-full flex items-center justify-center gap-2",children:[l.jsx(tae,{size:20}),"Set Your Password & Get Started"]}),l.jsx("p",{className:"text-xs text-center text-dark-text-muted mt-6",children:"After setting your password, you'll be able to log in and start your onboarding."})]})})}):l.jsx("div",{className:"min-h-screen bg-dark-bg text-dark-text flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-md w-full bg-dark-card rounded-2xl shadow-xl p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-500/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(tD,{size:32,className:"text-yellow-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-dark-text mb-2",children:"Setup Link Missing"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:"This invitation is missing the password setup link. Please contact your administrator."})]})})};function oD(t){const e=[];return t.length<8&&e.push("Password must be at least 8 characters long"),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/[0-9]/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(t)||e.push("Password must contain at least one special character"),{isValid:e.length===0,errors:e}}const hse=()=>{const t=Vi(),e=fs(),{user:n,refreshUser:r}=Ar(),[i,a]=x.useState(""),[o,u]=x.useState(""),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(!1),[j,E]=x.useState(null),[A,T]=x.useState([]),O=e.state?.fromInvite,C=e.state?.invitationId,U=$=>{if(a($),E(null),$.length>0){const N=oD($);T(N.errors)}else T([])},B=async $=>{if($.preventDefault(),E(null),i!==o){E("Passwords do not match");return}const N=oD(i);if(!N.isValid){E(N.errors[0]),T(N.errors);return}if(!n||!ts.currentUser){E("Not authenticated. Please log in again.");return}b(!0);try{await VQ(ts.currentUser,i),console.log("[ChangePassword] Password updated in Firebase Auth"),await Uf(n.id,{requirePasswordChange:!1}),console.log("[ChangePassword] User profile updated"),O&&C&&(await SS(C,"accepted"),console.log("[ChangePassword] Invitation marked as accepted")),await r(),t("/employee/onboarding")}catch(k){console.error("[ChangePassword] Failed to change password:",k),k.code==="auth/requires-recent-login"?(E("Your session has expired. Please log in again."),setTimeout(()=>t("/login"),2e3)):E("Failed to change password. Please try again.")}finally{b(!1)}};return n?l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"card max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(wo,{size:32,className:"text-primary"})}),l.jsx("h1",{className:"text-2xl font-bold text-dark-text mb-2",children:"Set Your Password"}),l.jsx("p",{className:"text-dark-text-muted",children:O?"Create a secure password for your account":"Please create a new password to continue"})]}),l.jsxs("form",{onSubmit:B,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(wo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:d?"text":"password",value:i,onChange:$=>U($.target.value),placeholder:"Enter new password",className:"input w-full pl-10 pr-10",required:!0,autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-text-muted hover:text-dark-text",children:d?l.jsx(ix,{size:18}):l.jsx(pf,{size:18})})]}),l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Password must contain:"}),l.jsxs("ul",{className:"text-xs space-y-1",children:[l.jsxs("li",{className:`flex items-center gap-2 ${i.length>=8?"text-green-500":"text-dark-text-muted"}`,children:[l.jsx(Pi,{size:12}),"At least 8 characters"]}),l.jsxs("li",{className:`flex items-center gap-2 ${/[A-Z]/.test(i)?"text-green-500":"text-dark-text-muted"}`,children:[l.jsx(Pi,{size:12}),"One uppercase letter"]}),l.jsxs("li",{className:`flex items-center gap-2 ${/[a-z]/.test(i)?"text-green-500":"text-dark-text-muted"}`,children:[l.jsx(Pi,{size:12}),"One lowercase letter"]}),l.jsxs("li",{className:`flex items-center gap-2 ${/[0-9]/.test(i)?"text-green-500":"text-dark-text-muted"}`,children:[l.jsx(Pi,{size:12}),"One number"]}),l.jsxs("li",{className:`flex items-center gap-2 ${/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(i)?"text-green-500":"text-dark-text-muted"}`,children:[l.jsx(Pi,{size:12}),"One special character"]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(wo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:m?"text":"password",value:o,onChange:$=>u($.target.value),placeholder:"Confirm new password",className:"input w-full pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-text-muted hover:text-dark-text",children:m?l.jsx(ix,{size:18}):l.jsx(pf,{size:18})})]}),o&&i!==o&&l.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Passwords do not match"})]}),j&&l.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:j}),l.jsx("button",{type:"submit",disabled:y||A.length>0||i!==o,className:"btn-primary w-full",children:y?"Changing Password...":"Set Password & Continue"})]}),l.jsx("p",{className:"text-xs text-dark-text-muted text-center mt-4",children:O?"Your temporary password will no longer work after you set a new password.":"Make sure to remember your new password."})]})}):l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"card max-w-md w-full text-center",children:[l.jsx("p",{className:"text-dark-text",children:"Please log in to change your password."}),l.jsx("button",{onClick:()=>t("/login"),className:"btn-primary mt-4",children:"Go to Login"})]})})},mse=()=>{const[t]=WG(),e=Vi(),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,u]=x.useState(null),[d,h]=x.useState(""),[m,g]=x.useState(""),[y,b]=x.useState(!1),[j,E]=x.useState(!1),[A,T]=x.useState(!0),[O,C]=x.useState(!1),[U,B]=x.useState(null),[$,N]=x.useState(!1),[k,I]=x.useState({score:0,label:"",color:""});x.useEffect(()=>{const V=t.get("oobCode");if(!V){B("Invalid or missing reset code"),T(!1);return}r(V),MQ(ts,V).then(async q=>{a(q);try{const M=Ut(qe,"invitations"),ce=Ft(M,at("email","==",q.toLowerCase()),at("status","==","pending")),me=await nn(ce);if(me.empty)console.log("[ResetPassword] No pending invitation found for:",q);else{const G=me.docs[0].data();u({...G,id:me.docs[0].id}),console.log("[ResetPassword] Invitation found:",G)}}catch(M){console.error("[ResetPassword] Failed to fetch invitation:",M)}T(!1)}).catch(q=>{console.error("[ResetPassword] Failed to verify code:",q);let M="This password reset link is invalid or has expired.";q.code==="auth/expired-action-code"?M="This password reset link has expired. Please request a new one.":q.code==="auth/invalid-action-code"&&(M="This password reset link is invalid. Please request a new one."),B(M),T(!1)})},[t]),x.useEffect(()=>{if(!d){I({score:0,label:"",color:""});return}let V=0;d.length>=8&&V++,d.length>=12&&V++,/[a-z]/.test(d)&&V++,/[A-Z]/.test(d)&&V++,/[0-9]/.test(d)&&V++,/[^a-zA-Z0-9]/.test(d)&&V++;let q="",M="";V<=2?(q="Weak",M="text-red-500"):V<=4?(q="Medium",M="text-yellow-500"):(q="Strong",M="text-green-500"),I({score:V,label:q,color:M})},[d]);const L=async V=>{if(V.preventDefault(),B(null),d.length<8){B("Password must be at least 8 characters long");return}if(d!==m){B("Passwords do not match");return}if(k.score<=2){B("Please choose a stronger password");return}C(!0);try{await RQ(ts,n,d),N(!0),setTimeout(()=>{e("/login",{state:{message:"Password set successfully! Please log in with your new password."}})},2e3)}catch(q){console.error("[ResetPassword] Failed to reset password:",q);let M="Failed to reset password. Please try again.";q.code==="auth/weak-password"?M="Password is too weak. Please choose a stronger password.":q.code==="auth/expired-action-code"&&(M="This password reset link has expired. Please request a new one."),B(M),C(!1)}};return A?l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-dark-text-muted",children:"Verifying reset link..."})]})}):U&&!n?l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-xl max-w-md w-full p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(rx,{size:32,className:"text-red-500"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text mb-2",children:"Invalid Reset Link"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:U}),l.jsx("button",{onClick:()=>e("/login"),className:"btn-primary w-full",children:"Return to Login"})]})})}):$?l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-xl max-w-md w-full p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(Pi,{size:32,className:"text-green-500"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text mb-2",children:"Password Set Successfully!"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:"Redirecting you to login..."}),l.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"})]})})}):l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-xl max-w-md w-full",children:[l.jsx("div",{className:"p-8 border-b border-dark-border",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(eD,{size:32,className:"text-primary"})}),l.jsxs("h2",{className:"text-2xl font-semibold text-dark-text mb-2",children:["Welcome",o.metadata?.inviteeName?`, ${o.metadata.inviteeName}`:"","!"]}),l.jsxs("p",{className:"text-dark-text-muted",children:["You've been invited to join ",l.jsx("strong",{className:"text-dark-text",children:o.organizationName})]})]}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-4 space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Oi,{size:16,className:"text-dark-text-muted flex-shrink-0"}),l.jsx("span",{className:"text-dark-text-muted",children:"Organization:"}),l.jsx("span",{className:"text-dark-text font-medium",children:o.organizationName})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(eD,{size:16,className:"text-dark-text-muted flex-shrink-0"}),l.jsx("span",{className:"text-dark-text-muted",children:"Role:"}),l.jsx("span",{className:"text-dark-text font-medium capitalize",children:o.role})]}),o.department&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Oi,{size:16,className:"text-dark-text-muted flex-shrink-0"}),l.jsx("span",{className:"text-dark-text-muted",children:"Department:"}),l.jsx("span",{className:"text-dark-text font-medium",children:o.department})]})]}),l.jsx("p",{className:"text-center text-sm text-dark-text-muted",children:"Set your password to get started"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(wo,{size:20,className:"text-primary"})}),l.jsx("h2",{className:"text-2xl font-semibold text-dark-text",children:"Set Your Password"})]}),l.jsxs("p",{className:"text-dark-text-muted",children:["Create a secure password for ",l.jsx("strong",{className:"text-dark-text",children:i})]})]})}),l.jsxs("form",{onSubmit:L,className:"p-8 space-y-6",children:[U&&l.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-3",children:[l.jsx(rx,{size:18,className:"text-red-400 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-red-400 text-sm",children:U})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(wo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:y?"text":"password",value:d,onChange:V=>h(V.target.value),placeholder:"Enter your new password",className:"input w-full pl-10 pr-10",required:!0,autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-text-muted hover:text-dark-text transition-colors",children:y?l.jsx(ix,{size:18}):l.jsx(pf,{size:18})})]}),d&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-xs text-dark-text-muted",children:"Password Strength:"}),l.jsx("span",{className:`text-xs font-medium ${k.color}`,children:k.label})]}),l.jsx("div",{className:"h-1.5 bg-dark-bg rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-300 ${k.score<=2?"bg-red-500":k.score<=4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${k.score/6*100}%`}})}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-2",children:"Use 8+ characters with a mix of uppercase, lowercase, numbers, and symbols"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(wo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:j?"text":"password",value:m,onChange:V=>g(V.target.value),placeholder:"Confirm your new password",className:"input w-full pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>E(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-text-muted hover:text-dark-text transition-colors",children:j?l.jsx(ix,{size:18}):l.jsx(pf,{size:18})})]}),m&&d!==m&&l.jsx("p",{className:"text-xs text-red-400 mt-2",children:"Passwords do not match"})]}),l.jsx("button",{type:"submit",disabled:O||!d||!m||d!==m,className:"btn-primary w-full flex items-center justify-center gap-2",children:O?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Setting Password..."]}):l.jsxs(l.Fragment,{children:[l.jsx(wo,{size:18}),"Set Password"]})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:()=>e("/login"),className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"Back to Login"})})]})]})})},D0=({isOpen:t,onClose:e,context:n,initialSuggestions:r})=>{const[i,a]=x.useState([]),[o,u]=x.useState(""),[d,h]=x.useState(!1),m=x.useRef(null),g=n.userRole==="admin"?["What is this data telling us?","What should we do to improve?","How is this impacting our outcomes?"]:["What should a leader do in this situation?","What do these results say about me?","What does healthy leadership look like in this situation?"],y=r||g;x.useEffect(()=>{i.length===0&&t&&a([{id:"1",role:"assistant",content:"Hello! How may I assist you today?",timestamp:new Date,suggestedQuestions:y}])},[t]),x.useEffect(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[i]);const b=async E=>{if(!E.trim())return;const A={id:Date.now().toString(),role:"user",content:E,timestamp:new Date};a(T=>[...T,A]),u(""),h(!0);try{const T=mU(),C=await pU(T,"askCompanyBot")({question:E,context:n}),{answer:U,sources:B}=C.data;console.log("RAG Sources:",B);const $={id:Date.now().toString(),role:"assistant",content:U,timestamp:new Date};a(N=>[...N,$])}catch(T){console.error("Error calling AI Copilot:",T);const O={id:Date.now().toString(),role:"assistant",content:"I'm sorry, I encountered an error while processing your request. Please try again later.",timestamp:new Date};a(C=>[...C,O])}finally{h(!1)}},j=E=>{const A=i.findIndex(T=>T.id===E);A>0&&a(T=>T.slice(0,A))};return t?l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-end sm:justify-end p-0 sm:p-4",children:l.jsxs("div",{className:"bg-[#0f0f0f] border border-white/10 w-full sm:w-96 h-full sm:h-[600px] sm:rounded-xl flex flex-col shadow-2xl",children:[l.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(DE,{size:20,className:"text-primary"}),l.jsx("h3",{className:"font-semibold text-white",children:"DI Copilot"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-1 hover:bg-white/5 rounded",children:l.jsx("span",{className:"text-white/60 text-sm",children:""})}),l.jsx("button",{onClick:e,className:"p-1 hover:bg-white/5 rounded text-white",children:l.jsx(hn,{size:20})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-[#0f0f0f]",children:[i.map(E=>l.jsx("div",{children:E.role==="user"?l.jsx("div",{className:"flex justify-end",children:l.jsx("div",{className:"bg-blue-primary text-white px-4 py-3 rounded-2xl rounded-tr-sm max-w-[80%] shadow",children:E.content})}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"bg-white/5 px-4 py-3 rounded-2xl rounded-tl-sm text-white",children:E.content}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[l.jsxs("button",{onClick:()=>j(E.id),className:"flex items-center gap-1 px-2 py-1 hover:bg-white/5 rounded",children:[l.jsx(Mae,{size:14}),"Undo"]}),l.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 hover:bg-white/5 rounded",children:[l.jsx(KU,{size:14}),"Explain"]}),l.jsx("button",{className:"p-1 hover:bg-white/5 rounded",children:l.jsx(Xae,{size:14})}),l.jsx("button",{className:"p-1 hover:bg-white/5 rounded",children:l.jsx(Yae,{size:14})})]}),E.suggestedQuestions&&l.jsx("div",{className:"space-y-2 mt-4",children:E.suggestedQuestions.map((A,T)=>l.jsx("button",{onClick:()=>b(A),className:"w-full text-left px-4 py-3 border border-white/10 rounded-xl hover:bg-white/5 transition-colors text-sm text-white",children:A},T))})]})},E.id)),d&&l.jsx("div",{className:"bg-white/5 px-4 py-3 rounded-2xl rounded-tl-sm w-20",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce delay-100"}),l.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce delay-200"})]})}),l.jsx("div",{ref:m})]}),l.jsx("div",{className:"p-4 border-t border-white/10 bg-[#0f0f0f]",children:l.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-lg px-4 py-2",children:[l.jsx("button",{className:"text-white/70 hover:text-white",children:l.jsx(DE,{size:20})}),l.jsx("input",{type:"text",value:o,onChange:E=>u(E.target.value),onKeyDown:E=>E.key==="Enter"&&b(o),placeholder:"Or ask a specific question",className:"flex-1 bg-transparent border-none outline-none text-white placeholder-white/50"}),l.jsx("button",{onClick:()=>b(o),disabled:!o.trim(),className:"text-white/70 hover:text-primary disabled:opacity-50",children:l.jsx(Uae,{size:20})})]})})]})}):null},pse=()=>{const{logout:t}=Ar(),[e,n]=x.useState(!1),r=[{path:"/admin/overview",icon:aae,label:"Overview"},{path:"/admin/analytics",icon:yf,label:"Analytics"},{path:"/admin/campaigns",icon:wm,label:"Campaign management"},{path:"/admin/employees",icon:ui,label:"Employee Management"},{path:"/admin/assets",icon:HU,label:"Asset Library"},{path:"/admin/company",icon:Oi,label:"Company"},{path:"/admin/account",icon:Nu,label:"Account"}];return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-64 bg-dark-bg border-r border-dark-border h-screen flex flex-col fixed left-0 top-0",children:[l.jsx("div",{className:"p-6 border-b border-dark-border",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:"/dicode_logo.png",alt:"DI Code Logo",className:"w-14 h-14 object-contain"}),l.jsxs("div",{className:"leading-tight",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-dark-text-muted font-medium",children:"Admin"}),l.jsx("p",{className:"text-xl font-semibold text-dark-text",children:"Console"})]})]})}),l.jsx("nav",{className:"flex-1 p-4 space-y-1",children:r.map(i=>l.jsxs(d6,{to:i.path,className:({isActive:a})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a?"bg-primary text-dark-bg font-medium":"text-dark-text hover:bg-dark-card"}`,children:[l.jsx(i.icon,{size:20}),l.jsx("span",{children:i.label})]},i.path))}),l.jsxs("div",{className:"p-4 border-t border-dark-border space-y-2",children:[l.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-dark-text hover:bg-dark-card transition-colors",children:[l.jsx(MS,{size:20}),l.jsx("span",{children:"DI Copilot"})]}),l.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-dark-text hover:bg-dark-card transition-colors",children:[l.jsx(ax,{size:20}),l.jsx("span",{children:"Logout"})]})]})]}),e&&l.jsx(D0,{isOpen:e,onClose:()=>n(!1),context:{userRole:"admin"}})]})},gse=()=>l.jsxs("div",{className:"flex min-h-screen bg-dark-bg",children:[l.jsx(pse,{}),l.jsx("div",{className:"flex-1 ml-64",children:l.jsx("main",{className:"p-8",children:l.jsx(a6,{})})})]}),yse=()=>{const[t,e]=x.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-dark-bg relative",children:[l.jsx("main",{className:"pb-20",children:l.jsx(a6,{})}),l.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-primary rounded-full shadow-lg flex items-center justify-center hover:bg-primary-dark transition-colors z-40 lg:hidden",children:l.jsx(MS,{size:24,className:"text-dark-bg"})}),t&&l.jsx(D0,{isOpen:t,onClose:()=>e(!1),context:{userRole:"employee"}})]})},vse=()=>{const t=Vi(),e=[{label:"Total Employees",value:"247",change:"+12%",trend:"up",icon:ui},{label:"Avg Leadership Score",value:"76",change:"+3.03%",trend:"up",icon:yf},{label:"Completion Rate",value:"78%",change:"+5%",trend:"up",icon:O0},{label:"Engagement Level",value:"85",change:"+2%",trend:"up",icon:UU}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Overview"}),l.jsx("p",{className:"text-dark-text-muted",children:"Welcome back! Here's what's happening with your behavioral coaching platform."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(n=>l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(n.icon,{size:24,className:"text-primary"})}),l.jsx("div",{className:`text-sm font-medium ${n.trend==="up"?"text-green-500":"text-red-500"}`,children:n.change})]}),l.jsx("div",{className:"text-3xl font-bold mb-1",children:n.value}),l.jsx("div",{className:"text-sm text-dark-text-muted",children:n.label})]},n.label))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[l.jsxs("button",{onClick:()=>t("/admin/analytics"),className:"card hover:border-primary transition-colors text-left p-8",children:[l.jsx(yf,{size:32,className:"text-primary mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"View Analytics"}),l.jsx("p",{className:"text-dark-text-muted",children:"Explore detailed analytics and insights on leadership competencies and employee progress."})]}),l.jsxs("div",{className:"card p-8",children:[l.jsx(ui,{size:32,className:"text-blue-light mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Employee Progress"}),l.jsx("p",{className:"text-dark-text-muted",children:"Monitor individual employee learning journeys and module completion rates."})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),l.jsx("div",{className:"space-y-4",children:[{employee:"Sarah Johnson",action:"completed Module 8",time:"2 hours ago",department:"Marketing"},{employee:"Mike Chen",action:"started Onboarding Assessment",time:"5 hours ago",department:"Technology"},{employee:"Emily Davis",action:"completed Module 9",time:"1 day ago",department:"Operations"}].map((n,r)=>l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-dark-border last:border-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-light to-primary flex items-center justify-center text-white font-semibold",children:n.employee.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:n.employee}),l.jsxs("div",{className:"text-sm text-dark-text-muted",children:[n.action,"  ",n.department]})]})]}),l.jsx("div",{className:"text-sm text-dark-text-muted",children:n.time})]},r))})]})]})};function WU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=WU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=WU(t))&&(r&&(r+=" "),r+=e);return r}var xse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function LS(t){if(typeof t!="string")return!1;var e=xse;return e.includes(t)}var bse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function YU(t){if(typeof t!="string")return!1;var e=bse;return e.includes(t)}function QU(t){return typeof t=="string"&&t.startsWith("data-")}function Nn(t){var e=Object.entries(t).filter(n=>{var[r]=n;return YU(r)||QU(r)});return Object.fromEntries(e)}function Do(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Nn(e)}return typeof t=="object"&&!Array.isArray(t)?Nn(t):null}function Kn(t){var e=Object.entries(t).filter(n=>{var[r]=n;return YU(r)||QU(r)||LS(r)});return Object.fromEntries(e)}function XU(t){return t==null?null:x.isValidElement(t)?Kn(t.props):typeof t=="object"&&!Array.isArray(t)?Kn(t):null}var wse=["children","width","height","viewBox","className","style","title","desc"];function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(null,arguments)}function _se(t,e){if(t==null)return{};var n,r,i=jse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VS=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:u,title:d,desc:h}=t,m=_se(t,wse),g=a||{width:r,height:i,x:0,y:0},y=pt("recharts-surface",o);return x.createElement("svg",ME({},Kn(m),{className:y,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),x.createElement("title",null,d),x.createElement("desc",null,h),n)}),Ese=["children","className"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function Ase(t,e){if(t==null)return{};var n,r,i=Nse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ln=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Ase(t,Ese),a=pt("recharts-layer",r);return x.createElement("g",LE({className:a},Kn(i),{ref:e}),n)}),ZU=x.createContext(null),Sse=()=>x.useContext(ZU);function fn(t){return function(){return t}}const JU=Math.cos,ox=Math.sin,ms=Math.sqrt,lx=Math.PI,M0=2*lx,VE=Math.PI,zE=2*VE,Jc=1e-6,Tse=zE-Jc;function e9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kse(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return e9;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Cse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?e9:kse(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=r-e,h=i-n,m=o-e,g=u-n,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Jc)if(!(Math.abs(g*d-h*m)>Jc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,j=i-u,E=d*d+h*h,A=b*b+j*j,T=Math.sqrt(E),O=Math.sqrt(y),C=a*Math.tan((VE-Math.acos((E+y-A)/(2*T*O)))/2),U=C/O,B=C/T;Math.abs(U-1)>Jc&&this._append`L${e+U*m},${n+U*g}`,this._append`A${a},${a},0,0,${+(g*b>m*j)},${this._x1=e+B*d},${this._y1=n+B*h}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,m=n+d,g=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Jc||Math.abs(this._y1-m)>Jc)&&this._append`L${h},${m}`,r&&(y<0&&(y=y%zE+zE),y>Tse?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=m}`:y>Jc&&this._append`A${r},${r},0,${+(y>=VE)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Cse(e)}function US(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t9(t){this._context=t}t9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function L0(t){return new t9(t)}function n9(t){return t[0]}function r9(t){return t[1]}function i9(t,e){var n=fn(!0),r=null,i=L0,a=null,o=zS(u);t=typeof t=="function"?t:t===void 0?n9:fn(t),e=typeof e=="function"?e:e===void 0?r9:fn(e);function u(d){var h,m=(d=US(d)).length,g,y=!1,b;for(r==null&&(a=i(b=o())),h=0;h<=m;++h)!(h<m&&n(g=d[h],h,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(g,h,d),+e(g,h,d));if(b)return a=null,b+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:fn(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:fn(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:fn(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function Vy(t,e,n){var r=null,i=fn(!0),a=null,o=L0,u=null,d=zS(h);t=typeof t=="function"?t:t===void 0?n9:fn(+t),e=typeof e=="function"?e:fn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?r9:fn(+n);function h(g){var y,b,j,E=(g=US(g)).length,A,T=!1,O,C=new Array(E),U=new Array(E);for(a==null&&(u=o(O=d())),y=0;y<=E;++y){if(!(y<E&&i(A=g[y],y,g))===T)if(T=!T)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=b;--j)u.point(C[j],U[j]);u.lineEnd(),u.areaEnd()}T&&(C[y]=+t(A,y,g),U[y]=+e(A,y,g),u.point(r?+r(A,y,g):C[y],n?+n(A,y,g):U[y]))}if(O)return u=null,O+""||null}function m(){return i9().defined(i).curve(o).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:fn(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:fn(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:fn(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:fn(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:fn(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:fn(+g),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:fn(!!g),h):i},h.curve=function(g){return arguments.length?(o=g,a!=null&&(u=o(a)),h):o},h.context=function(g){return arguments.length?(g==null?a=u=null:u=o(a=g),h):a},h}class a9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Pse(t){return new a9(t,!0)}function Ise(t){return new a9(t,!1)}const BS={draw(t,e){const n=ms(e/lx);t.moveTo(n,0),t.arc(0,0,n,0,M0)}},Ose={draw(t,e){const n=ms(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},s9=ms(1/3),Rse=s9*2,Dse={draw(t,e){const n=ms(e/Rse),r=n*s9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Mse={draw(t,e){const n=ms(e),r=-n/2;t.rect(r,r,n,n)}},Lse=.8908130915292852,o9=ox(lx/10)/ox(7*lx/10),Vse=ox(M0/10)*o9,zse=-JU(M0/10)*o9,Use={draw(t,e){const n=ms(e*Lse),r=Vse*n,i=zse*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=M0*a/5,u=JU(o),d=ox(o);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},e_=ms(3),Bse={draw(t,e){const n=-ms(e/(e_*3));t.moveTo(0,n*2),t.lineTo(-e_*n,-n),t.lineTo(e_*n,-n),t.closePath()}},ja=-.5,Ea=ms(3)/2,UE=1/ms(12),$se=(UE/2+1)*3,Fse={draw(t,e){const n=ms(e/$se),r=n/2,i=n*UE,a=r,o=n*UE+n,u=-a,d=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,d),t.lineTo(ja*r-Ea*i,Ea*r+ja*i),t.lineTo(ja*a-Ea*o,Ea*a+ja*o),t.lineTo(ja*u-Ea*d,Ea*u+ja*d),t.lineTo(ja*r+Ea*i,ja*i-Ea*r),t.lineTo(ja*a+Ea*o,ja*o-Ea*a),t.lineTo(ja*u+Ea*d,ja*d-Ea*u),t.closePath()}};function qse(t,e){let n=null,r=zS(i);t=typeof t=="function"?t:fn(t||BS),e=typeof e=="function"?e:fn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:fn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:fn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function cx(){}function ux(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function l9(t){this._context=t}l9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ux(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ux(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hse(t){return new l9(t)}function c9(t){this._context=t}c9.prototype={areaStart:cx,areaEnd:cx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ux(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kse(t){return new c9(t)}function u9(t){this._context=t}u9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ux(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gse(t){return new u9(t)}function d9(t){this._context=t}d9.prototype={areaStart:cx,areaEnd:cx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Wse(t){return new d9(t)}function lD(t){return t<0?-1:1}function cD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(lD(a)+lD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function uD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function t_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function dx(t){this._context=t}dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t_(this,this._t0,uD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t_(this,uD(this,n=cD(this,t,e)),n);break;default:t_(this,this._t0,n=cD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function f9(t){this._context=new h9(t)}(f9.prototype=Object.create(dx.prototype)).point=function(t,e){dx.prototype.point.call(this,e,t)};function h9(t){this._context=t}h9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Yse(t){return new dx(t)}function Qse(t){return new f9(t)}function m9(t){this._context=t}m9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dD(t),i=dD(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dD(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Xse(t){return new m9(t)}function V0(t,e){this._context=t,this._t=e}V0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Zse(t){return new V0(t,.5)}function Jse(t){return new V0(t,0)}function eoe(t){return new V0(t,1)}function vf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function BE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function toe(t,e){return t[e]}function noe(t){const e=[];return e.key=t,e}function roe(){var t=fn([]),e=BE,n=vf,r=toe;function i(a){var o=Array.from(t.apply(this,arguments),noe),u,d=o.length,h=-1,m;for(const g of a)for(u=0,++h;u<d;++u)(o[u][h]=[0,+r(g,o[u].key,h,a)]).data=g;for(u=0,m=US(e(o));u<d;++u)o[m[u]].index=u;return n(o,m),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:fn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:fn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?BE:typeof a=="function"?a:fn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??vf,i):n},i}function ioe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}vf(t,e)}}function aoe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}vf(t,e)}}function soe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,d=0,h=0;u<o;++u){for(var m=t[e[u]],g=m[r][1]||0,y=m[r-1][1]||0,b=(g-y)/2,j=0;j<u;++j){var E=t[e[j]],A=E[r][1]||0,T=E[r-1][1]||0;b+=A-T}d+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,vf(t,e)}}var n_={},r_={},fD;function ooe(){return fD||(fD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(r_)),r_}var i_={},hD;function p9(){return hD||(hD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(i_)),i_}var a_={},mD;function $S(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(a_)),a_}var s_={},o_={},pD;function loe(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(o_)),o_}var gD;function FS(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=loe(),n=$S();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let u=0,d="",h="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<o;){const g=i[u];h?g==="\\"&&u+1<o?(u++,d+=i[u]):g===h?h="":d+=g:m?g==='"'||g==="'"?h=g:g==="]"?(m=!1,a.push(d),d=""):d+=g:g==="["?(m=!0,d&&(a.push(d),d="")):g==="."?d&&(a.push(d),d=""):d+=g,u++}return d&&a.push(d),a}t.toPath=r})(s_)),s_}var yD;function qS(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ooe(),n=p9(),r=$S(),i=FS();function a(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const m=u[d];return m===void 0?n.isDeepKey(d)?a(u,i.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=u[d];return m===void 0?h:m}default:{if(Array.isArray(d))return o(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const m=u[d];return m===void 0?h:m}}}function o(u,d,h){if(d.length===0)return h;let m=u;for(let g=0;g<d.length;g++){if(m==null||e.isUnsafeProperty(d[g]))return h;m=m[d[g]]}return m===void 0?h:m}t.get=a})(n_)),n_}var l_,vD;function coe(){return vD||(vD=1,l_=qS().get),l_}var uoe=coe();const Su=za(uoe);var Er=t=>t===0?0:t>0?1:-1,Li=t=>typeof t=="number"&&t!=+t,Mo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ge=t=>(typeof t=="number"||t instanceof Number)&&!Li(t),Ma=t=>Ge(t)||typeof t=="string",doe=0,ip=t=>{var e=++doe;return"".concat(t||"").concat(e)},ei=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(e)&&typeof e!="string")return r;var a;if(Mo(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Li(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},g9=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function mn(t,e,n){return Ge(t)&&Ge(e)?t+n*(e-t):e}function y9(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Su(r,e))===n)}var pn=t=>t===null||typeof t>"u",$p=t=>pn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),foe=["type","size","sizeType"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function goe(t,e){if(t==null)return{};var n,r,i=yoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v9={symbolCircle:BS,symbolCross:Ose,symbolDiamond:Dse,symbolSquare:Mse,symbolStar:Use,symbolTriangle:Bse,symbolWye:Fse},voe=Math.PI/180,xoe=t=>{var e="symbol".concat($p(t));return v9[e]||BS},boe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*voe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},woe=(t,e)=>{v9["symbol".concat($p(t))]=e},HS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=goe(t,foe),a=bD(bD({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var u=()=>{var y=xoe(o),b=qse().type(y).size(boe(n,r,o)),j=b();if(j!==null)return j},{className:d,cx:h,cy:m}=a,g=Kn(a);return h===+h&&m===+m&&n===+n?x.createElement("path",$E({},g,{className:pt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};HS.registerSymbol=woe;var KS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{LS(i)&&(r[i]=(a=>n[i](n,a)))}),r},_oe=(t,e,n)=>r=>(t(e,n,r),null),$u=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];LS(i)&&typeof a=="function"&&(r||(r={}),r[i]=_oe(a,e,n))}),r};function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function joe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){GS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GS(t,e,n){return(e=Eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aa=32;class WS extends x.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Aa/2,a=Aa/6,o=Aa/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Aa,y2:i,className:"recharts-legend-icon"});if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Aa,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Aa/8,"h").concat(Aa,"v").concat(Aa*3/4,"h").concat(-Aa,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var h=joe({},e);return delete h.legendIcon,x.cloneElement(e.legendIcon,h)}return x.createElement(HS,{fill:u,cx:i,cy:i,size:Aa,sizeType:"diameter",type:d})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,u={x:0,y:0,width:Aa,height:Aa},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,g)=>{var y=m.formatter||i,b=pt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var j=m.inactive?a:m.color,E=y?y(m.value,m,g):m.value;return x.createElement("li",FE({className:b,style:d,key:"legend-item-".concat(g)},$u(this.props,m,g)),x.createElement(VS,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},this.renderIcon(m,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},E))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}GS(WS,"displayName","Legend");GS(WS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var c_={},u_={},_D;function Noe(){return _D||(_D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}t.uniqBy=e})(u_)),u_}var d_={},jD;function z0(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(d_)),d_}var f_={},h_={},m_={},ED;function Soe(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(m_)),m_}var AD;function YS(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Soe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(h_)),h_}var p_={},ND;function Toe(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(p_)),p_}var SD;function koe(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YS(),n=Toe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(f_)),f_}var g_={},y_={},TD;function Coe(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(y_)),y_}var v_={},x_={},b_={},w_={},kD;function x9(){return kD||(kD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(w_)),w_}var __={},CD;function b9(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(__)),__}var j_={},PD;function w9(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(j_)),j_}var ID;function Poe(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x9(),n=b9(),r=w9();function i(m,g,y){return typeof y!="function"?i(m,g,()=>{}):a(m,g,function b(j,E,A,T,O,C){const U=y(j,E,A,T,O,C);return U!==void 0?!!U:a(j,E,b,C)},new Map)}function a(m,g,y,b){if(g===m)return!0;switch(typeof g){case"object":return o(m,g,y,b);case"function":return Object.keys(g).length>0?a(m,{...g},y,b):r.eq(m,g);default:return e.isObject(m)?typeof g=="string"?g==="":!0:r.eq(m,g)}}function o(m,g,y,b){if(g==null)return!0;if(Array.isArray(g))return d(m,g,y,b);if(g instanceof Map)return u(m,g,y,b);if(g instanceof Set)return h(m,g,y,b);const j=Object.keys(g);if(m==null)return j.length===0;if(j.length===0)return!0;if(b?.has(g))return b.get(g)===m;b?.set(g,m);try{for(let E=0;E<j.length;E++){const A=j[E];if(!n.isPrimitive(m)&&!(A in m)||g[A]===void 0&&m[A]!==void 0||g[A]===null&&m[A]!==null||!y(m[A],g[A],A,m,g,b))return!1}return!0}finally{b?.delete(g)}}function u(m,g,y,b){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[j,E]of g.entries()){const A=m.get(j);if(y(A,E,j,m,g,b)===!1)return!1}return!0}function d(m,g,y,b){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const j=new Set;for(let E=0;E<g.length;E++){const A=g[E];let T=!1;for(let O=0;O<m.length;O++){if(j.has(O))continue;const C=m[O];let U=!1;if(y(C,A,E,m,g,b)&&(U=!0),U){j.add(O),T=!0;break}}if(!T)return!1}return!0}function h(m,g,y,b){return g.size===0?!0:m instanceof Set?d([...m],[...g],y,b):!1}t.isMatchWith=i,t.isSetMatch=h})(b_)),b_}var OD;function _9(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Poe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(x_)),x_}var E_={},A_={},N_={},RD;function Ioe(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(N_)),N_}var S_={},DD;function j9(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(S_)),S_}var T_={},MD;function E9(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",j="[object Error]",E="[object DataView]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",U="[object BigUint64Array]",B="[object Int8Array]",$="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",I="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=j,t.float32ArrayTag=I,t.float64ArrayTag=L,t.functionTag=g,t.int16ArrayTag=$,t.int32ArrayTag=N,t.int8ArrayTag=B,t.mapTag=d,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=O,t.uint32ArrayTag=C,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=T})(T_)),T_}var k_={},LD;function Ooe(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(k_)),k_}var VD;function A9(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ioe(),n=j9(),r=E9(),i=b9(),a=Ooe();function o(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,b=new Map,j=void 0){const E=j?.(m,g,y,b);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const A=new Array(m.length);b.set(m,A);for(let T=0;T<m.length;T++)A[T]=u(m[T],T,y,b,j);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;b.set(m,A);for(const[T,O]of m)A.set(T,u(O,T,y,b,j));return A}if(m instanceof Set){const A=new Set;b.set(m,A);for(const T of m)A.add(u(T,void 0,y,b,j));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,A);for(let T=0;T<m.length;T++)A[T]=u(m[T],T,y,b,j);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,A),d(A,m,y,b,j),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return b.set(m,A),d(A,m,y,b,j),A}if(typeof Blob<"u"&&m instanceof Blob){const A=new Blob([m],{type:m.type});return b.set(m,A),d(A,m,y,b,j),A}if(m instanceof Error){const A=new m.constructor;return b.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,d(A,m,y,b,j),A}if(m instanceof Boolean){const A=new Boolean(m.valueOf());return b.set(m,A),d(A,m,y,b,j),A}if(m instanceof Number){const A=new Number(m.valueOf());return b.set(m,A),d(A,m,y,b,j),A}if(m instanceof String){const A=new String(m.valueOf());return b.set(m,A),d(A,m,y,b,j),A}if(typeof m=="object"&&h(m)){const A=Object.create(Object.getPrototypeOf(m));return b.set(m,A),d(A,m,y,b,j),A}return m}function d(m,g,y=m,b,j){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const T=E[A],O=Object.getOwnPropertyDescriptor(m,T);(O==null||O.writable)&&(m[T]=u(g[T],T,y,b,j))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=d})(A_)),A_}var zD;function Roe(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A9();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(E_)),E_}var UD;function Doe(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_9(),n=Roe();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(v_)),v_}var C_={},P_={},I_={},BD;function Moe(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A9(),n=E9();function r(i,a){return e.cloneDeepWith(i,(o,u,d,h)=>{const m=a?.(o,u,d,h);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(I_)),I_}var $D;function Loe(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Moe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(P_)),P_}var O_={},R_={},FD;function N9(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(R_)),R_}var D_={},qD;function Voe(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j9();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(D_)),D_}var HD;function zoe(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p9(),n=N9(),r=Voe(),i=FS();function a(o,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&o?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=o;for(let m=0;m<d.length;m++){const g=d[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=a})(O_)),O_}var KD;function Uoe(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_9(),n=$S(),r=Loe(),i=qS(),a=zoe();function o(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const m=i.get(h,u);return m===void 0?a.has(h,u):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=o})(C_)),C_}var GD;function QS(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z0(),n=Coe(),r=Doe(),i=Uoe();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(g_)),g_}var WD;function Boe(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Noe(),n=z0(),r=koe(),i=QS();function a(o,u=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(u)):[]}t.uniqBy=a})(c_)),c_}var M_,YD;function $oe(){return YD||(YD=1,M_=Boe().uniqBy),M_}var Foe=$oe();const QD=za(Foe);function S9(t,e,n){return e===!0?QD(t,n):typeof e=="function"?QD(t,e):t}var L_={exports:{}},V_={},z_={exports:{}},U_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function qoe(){if(XD)return U_;XD=1;var t=Tf();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(g,y){var b=y(),j=r({inst:{value:b,getSnapshot:y}}),E=j[0].inst,A=j[1];return a(function(){E.value=b,E.getSnapshot=y,d(E)&&A({inst:E})},[g,b,y]),i(function(){return d(E)&&A({inst:E}),g(function(){d(E)&&A({inst:E})})},[g]),o(b),b}function d(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return U_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,U_}var ZD;function Hoe(){return ZD||(ZD=1,z_.exports=qoe()),z_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD;function Koe(){if(JD)return V_;JD=1;var t=Tf(),e=Hoe();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,d=t.useDebugValue;return V_.useSyncExternalStoreWithSelector=function(h,m,g,y,b){var j=a(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=u(function(){function T($){if(!O){if(O=!0,C=$,$=y($),b!==void 0&&E.hasValue){var N=E.value;if(b(N,$))return U=N}return U=$}if(N=U,r(C,$))return N;var k=y($);return b!==void 0&&b(N,k)?(C=$,N):(C=$,U=k)}var O=!1,C,U,B=g===void 0?null:g;return[function(){return T(m())},B===null?void 0:function(){return T(B())}]},[m,g,y,b]);var A=i(h,j[0],j[1]);return o(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},V_}var eM;function Goe(){return eM||(eM=1,L_.exports=Koe()),L_.exports}var Woe=Goe(),XS=x.createContext(null),Yoe=t=>t,cn=()=>{var t=x.useContext(XS);return t?t.store.dispatch:Yoe},bv=()=>{},Qoe=()=>bv,Xoe=(t,e)=>t===e;function Me(t){var e=x.useContext(XS);return Woe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Qoe,e?e.store.getState:bv,e?e.store.getState:bv,e?t:bv,Xoe)}function Zoe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Joe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ele(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var tM=t=>Array.isArray(t)?t:[t];function tle(t){const e=Array.isArray(t[0])?t[0]:t;return ele(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nle(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var rle=class{constructor(t){this.value=t}deref(){return this.value}},ile=typeof WeakRef<"u"?WeakRef:rle,ale=0,nM=1;function zy(){return{s:ale,v:void 0,o:null,p:null}}function T9(t,e={}){let n=zy();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let u=n;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const E=j.get(b);E===void 0?(u=zy(),j.set(b,u)):u=E}else{let j=u.p;j===null&&(u.p=j=new Map);const E=j.get(b);E===void 0?(u=zy(),j.set(b,u)):u=E}}const h=u;let m;if(u.s===nM)m=u.v;else if(m=t.apply(null,arguments),a++,r){const g=i?.deref?.()??i;g!=null&&r(g,m)&&(m=g,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new ile(m):m}return h.s=nM,h.v=m,m}return o.clearCache=()=>{n=zy(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function sle(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),Zoe(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...d},{memoize:g,memoizeOptions:y=[],argsMemoize:b=T9,argsMemoizeOptions:j=[]}=m,E=tM(y),A=tM(j),T=tle(i),O=g(function(){return a++,h.apply(null,arguments)},...E),C=b(function(){o++;const B=nle(T,arguments);return u=O.apply(null,B),u},...A);return Object.assign(C,{resultFunc:h,memoizedResultFunc:O,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var re=sle(T9),ole=Object.assign((t,e=re)=>{Joe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,u,d)=>(o[n[d]]=u,o),{}))},{withTypes:()=>ole}),B_={},$_={},F_={},rM;function lle(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),u=e(i);if(o===u&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})(F_)),F_}var q_={},H_={},iM;function k9(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(H_)),H_}var aM;function cle(){return aM||(aM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(q_)),q_}var sM;function ule(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lle(),n=cle(),r=FS();function i(a,o,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,j)=>{let E=b;for(let A=0;A<j.length&&E!=null;++A)E=E[j[A]];return E},m=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:h(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?h(j,b):typeof j=="object"?j[b]:j,g=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(j=>m(j,b))})).slice().sort((b,j)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(b.criteria[E],j.criteria[E],u[E]);if(A!==0)return A}return 0}).map(b=>b.original)}t.orderBy=i})($_)),$_}var K_={},oM;function dle(){return oM||(oM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(u,d)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&d<a?o(m,d+1):i.push(m)}};return o(n,0),i}t.flatten=e})(K_)),K_}var G_={},lM;function C9(){return lM||(lM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N9(),n=YS(),r=x9(),i=w9();function a(o,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],o):!1}t.isIterateeCall=a})(G_)),G_}var cM;function fle(){return cM||(cM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ule(),n=dle(),r=C9();function i(a,...o){const u=o.length;return u>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(B_)),B_}var W_,uM;function hle(){return uM||(uM=1,W_=fle().sortBy),W_}var mle=hle();const U0=za(mle);var P9=t=>t.legend.settings,ple=t=>t.legend.size,gle=t=>t.legend.payload,yle=re([gle,P9],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?U0(r,n):r});function vle(){return Me(yle)}var Uy=1;function I9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Uy||Math.abs(o.left-e.left)>Uy||Math.abs(o.top-e.top)>Uy||Math.abs(o.width-e.width)>Uy)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xle=typeof Symbol=="function"&&Symbol.observable||"@@observable",dM=xle,Y_=()=>Math.random().toString(36).substring(7).split("").join("."),ble={INIT:`@@redux/INIT${Y_()}`,REPLACE:`@@redux/REPLACE${Y_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Y_()}`},fx=ble;function ZS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function O9(t,e,n){if(typeof t!="function")throw new Error(Vr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vr(1));return n(O9)(t,e)}let r=t,i=e,a=new Map,o=a,u=0,d=!1;function h(){o===a&&(o=new Map,a.forEach((A,T)=>{o.set(T,A)}))}function m(){if(d)throw new Error(Vr(3));return i}function g(A){if(typeof A!="function")throw new Error(Vr(4));if(d)throw new Error(Vr(5));let T=!0;h();const O=u++;return o.set(O,A),function(){if(T){if(d)throw new Error(Vr(6));T=!1,h(),o.delete(O),a=null}}}function y(A){if(!ZS(A))throw new Error(Vr(7));if(typeof A.type>"u")throw new Error(Vr(8));if(typeof A.type!="string")throw new Error(Vr(17));if(d)throw new Error(Vr(9));try{d=!0,i=r(i,A)}finally{d=!1}return(a=o).forEach(O=>{O()}),A}function b(A){if(typeof A!="function")throw new Error(Vr(10));r=A,y({type:fx.REPLACE})}function j(){const A=g;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Vr(11));function O(){const U=T;U.next&&U.next(m())}return O(),{unsubscribe:A(O)}},[dM](){return this}}}return y({type:fx.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:b,[dM]:j}}function wle(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fx.INIT})>"u")throw new Error(Vr(12));if(typeof n(void 0,{type:fx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vr(13))})}function R9(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{wle(n)}catch(a){i=a}return function(o={},u){if(i)throw i;let d=!1;const h={};for(let m=0;m<r.length;m++){const g=r[m],y=n[g],b=o[g],j=y(b,u);if(typeof j>"u")throw u&&u.type,new Error(Vr(14));h[g]=j,d=d||j!==b}return d=d||r.length!==Object.keys(o).length,d?h:o}}function hx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function _le(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Vr(15))};const o={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},u=t.map(d=>d(o));return a=hx(...u)(i.dispatch),{...i,dispatch:a}}}function D9(t){return ZS(t)&&"type"in t&&typeof t.type=="string"}var M9=Symbol.for("immer-nothing"),fM=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function ns(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ap=Object.getPrototypeOf;function Tu(t){return!!t&&!!t[ra]}function Lo(t){return t?L9(t)||Array.isArray(t)||!!t[fM]||!!t.constructor?.[fM]||Fp(t)||$0(t):!1}var jle=Object.prototype.constructor.toString(),hM=new WeakMap;function L9(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=hM.get(n);return r===void 0&&(r=Function.toString.call(n),hM.set(n,r)),r===jle}function mx(t,e,n=!0){B0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function B0(t){const e=t[ra];return e?e.type_:Array.isArray(t)?1:Fp(t)?2:$0(t)?3:0}function qE(t,e){return B0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V9(t,e,n){const r=B0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ele(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Fp(t){return t instanceof Map}function $0(t){return t instanceof Set}function eu(t){return t.copy_||t.base_}function HE(t,e){if(Fp(t))return new Map(t);if($0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=L9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ra];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(ap(t),r)}else{const r=ap(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function JS(t,e=!1){return F0(t)||Tu(t)||!Lo(t)||(B0(t)>1&&Object.defineProperties(t,{set:By,add:By,clear:By,delete:By}),Object.freeze(t),e&&Object.values(t).forEach(n=>JS(n,!0))),t}function Ale(){ns(2)}var By={value:Ale};function F0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Nle={};function ku(t){const e=Nle[t];return e||ns(0,t),e}var sp;function z9(){return sp}function Sle(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mM(t,e){e&&(ku("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KE(t){GE(t),t.drafts_.forEach(Tle),t.drafts_=null}function GE(t){t===sp&&(sp=t.parent_)}function pM(t){return sp=Sle(sp,t)}function Tle(t){const e=t[ra];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ra].modified_&&(KE(e),ns(4)),Lo(t)&&(t=px(e,t),e.parent_||gx(e,t)),e.patches_&&ku("Patches").generateReplacementPatches_(n[ra].base_,t,e.patches_,e.inversePatches_)):t=px(e,n,[]),KE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M9?t:void 0}function px(t,e,n){if(F0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ra];if(!i)return mx(e,(a,o)=>yM(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return gx(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,u=!1;i.type_===3&&(o=new Set(a),a.clear(),u=!0),mx(o,(d,h)=>yM(t,i,a,d,h,n,u),r),gx(t,a,!1),n&&t.patches_&&ku("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function yM(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const u=F0(i);if(!(u&&!o)){if(Tu(i)){const d=a&&e&&e.type_!==3&&!qE(e.assigned_,r)?a.concat(r):void 0,h=px(t,i,d);if(V9(n,r,h),Tu(h))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Lo(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;px(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Fp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gx(t,i)}}}function gx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&JS(e,n)}function kle(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:z9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=eT;n&&(i=[r],a=op);const{revoke:o,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=o,u}var eT={get(t,e){if(e===ra)return t;const n=eu(t);if(!qE(n,e))return Cle(t,n,e);const r=n[e];return t.finalized_||!Lo(r)?r:r===Q_(t.base_,e)?(X_(t),t.copy_[e]=YE(r,t)):r},has(t,e){return e in eu(t)},ownKeys(t){return Reflect.ownKeys(eu(t))},set(t,e,n){const r=U9(eu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Q_(eu(t),e),a=i?.[ra];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ele(n,i)&&(n!==void 0||qE(t.base_,e)))return!0;X_(t),WE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Q_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,X_(t),WE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=eu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ns(11)},getPrototypeOf(t){return ap(t.base_)},setPrototypeOf(){ns(12)}},op={};mx(eT,(t,e)=>{op[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});op.deleteProperty=function(t,e){return op.set.call(this,t,e,void 0)};op.set=function(t,e,n){return eT.set.call(this,t[0],e,n,t[0])};function Q_(t,e){const n=t[ra];return(n?eu(n):t)[e]}function Cle(t,e,n){const r=U9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function U9(t,e){if(!(e in t))return;let n=ap(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ap(n)}}function WE(t){t.modified_||(t.modified_=!0,t.parent_&&WE(t.parent_))}function X_(t){t.copy_||(t.copy_=HE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Ple=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(d=a,...h){return o.produce(d,m=>n.call(this,m,...h))}}typeof n!="function"&&ns(6),r!==void 0&&typeof r!="function"&&ns(7);let i;if(Lo(e)){const a=pM(this),o=YE(e,void 0);let u=!0;try{i=n(o),u=!1}finally{u?KE(a):GE(a)}return mM(a,r),gM(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===M9&&(i=void 0),this.autoFreeze_&&JS(i,!0),r){const a=[],o=[];ku("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else ns(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,d=>e(d,...u));let r,i;return[this.produce(e,n,(o,u)=>{r=o,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Lo(t)||ns(8),Tu(t)&&(t=So(t));const e=pM(this),n=YE(t,void 0);return n[ra].isManual_=!0,GE(e),n}finishDraft(t,e){const n=t&&t[ra];(!n||!n.isManual_)&&ns(9);const{scope_:r}=n;return mM(r,e),gM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ku("Patches").applyPatches_;return Tu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function YE(t,e){const n=Fp(t)?ku("MapSet").proxyMap_(t,e):$0(t)?ku("MapSet").proxySet_(t,e):kle(t,e);return(e?e.scope_:z9()).drafts_.push(n),n}function So(t){return Tu(t)||ns(10,t),B9(t)}function B9(t){if(!Lo(t)||F0(t))return t;const e=t[ra];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=HE(t,!0);return mx(n,(i,a)=>{V9(n,i,B9(a))},r),e&&(e.finalized_=!1),n}var Ile=new Ple,$9=Ile.produce;function F9(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Ole=F9(),Rle=F9,Dle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hx:hx.apply(null,arguments)};function La(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ea(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>D9(r)&&r.type===t,n}var q9=class jm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jm.prototype)}static get[Symbol.species](){return jm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jm(...e[0].concat(this)):new jm(...e.concat(this))}};function vM(t){return Lo(t)?$9(t,()=>{}):t}function $y(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Mle(t){return typeof t=="boolean"}var Lle=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new q9;return n&&(Mle(n)?o.push(Ole):o.push(Rle(n.extraArgument))),o},H9="RTK_autoBatch",oi=()=>t=>({payload:t,meta:{[H9]:!0}}),xM=t=>e=>{setTimeout(e,t)},K9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xM(10):t.type==="callback"?t.queueNotification:xM(t.timeout),h=()=>{o=!1,a&&(a=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),y=r.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return i=!m?.meta?.[H9],a=!i,a&&(o||(o=!0,d(h))),r.dispatch(m)}finally{i=!0}}})},Vle=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new q9(t);return r&&i.push(K9(typeof r=="object"?r:void 0)),i};function zle(t){const e=Lle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(ZS(n))u=R9(n);else throw new Error(ea(1));let d;typeof r=="function"?d=r(e):d=e();let h=hx;i&&(h=Dle({trace:!1,...typeof i=="object"&&i}));const m=_le(...d),g=Vle(m);let y=typeof o=="function"?o(g):g();const b=h(...y);return O9(u,a,b)}function G9(t){const e={},n=[];let r;const i={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ea(28));if(u in e)throw new Error(ea(29));return e[u]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Ule(t){return typeof t=="function"}function Ble(t,e){let[n,r,i]=G9(e),a;if(Ule(t))a=()=>vM(t());else{const u=vM(t);a=()=>u}function o(u=a(),d){let h=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,g)=>{if(g)if(Tu(m)){const b=g(m,d);return b===void 0?m:b}else{if(Lo(m))return $9(m,y=>g(y,d));{const y=g(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return o.getInitialState=a,o}var $le="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fle=(t=21)=>{let e="",n=t;for(;n--;)e+=$le[Math.random()*64|0];return e},qle=Symbol.for("rtk-slice-createasyncthunk");function Hle(t,e){return`${t}/${e}`}function Kle({creators:t}={}){const e=t?.asyncThunk?.[qle];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ea(11));const o=(typeof r.reducers=="function"?r.reducers(Wle()):r.reducers)||{},u=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,U){const B=typeof C=="string"?C:C.type;if(!B)throw new Error(ea(12));if(B in d.sliceCaseReducersByType)throw new Error(ea(13));return d.sliceCaseReducersByType[B]=U,h},addMatcher(C,U){return d.sliceMatchers.push({matcher:C,reducer:U}),h},exposeAction(C,U){return d.actionCreators[C]=U,h},exposeCaseReducer(C,U){return d.sliceCaseReducersByName[C]=U,h}};u.forEach(C=>{const U=o[C],B={reducerName:C,type:Hle(i,C),createNotation:typeof r.reducers=="function"};Qle(U)?Zle(B,U,h,e):Yle(B,U,h)});function m(){const[C={},U=[],B=void 0]=typeof r.extraReducers=="function"?G9(r.extraReducers):[r.extraReducers],$={...C,...d.sliceCaseReducersByType};return Ble(r.initialState,N=>{for(let k in $)N.addCase(k,$[k]);for(let k of d.sliceMatchers)N.addMatcher(k.matcher,k.reducer);for(let k of U)N.addMatcher(k.matcher,k.reducer);B&&N.addDefaultCase(B)})}const g=C=>C,y=new Map,b=new WeakMap;let j;function E(C,U){return j||(j=m()),j(C,U)}function A(){return j||(j=m()),j.getInitialState()}function T(C,U=!1){function B(N){let k=N[C];return typeof k>"u"&&U&&(k=$y(b,B,A)),k}function $(N=g){const k=$y(y,U,()=>new WeakMap);return $y(k,N,()=>{const I={};for(const[L,V]of Object.entries(r.selectors??{}))I[L]=Gle(V,N,()=>$y(b,N,A),U);return I})}return{reducerPath:C,getSelectors:$,get selectors(){return $(B)},selectSlice:B}}const O={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...T(a),injectInto(C,{reducerPath:U,...B}={}){const $=U??a;return C.inject({reducerPath:$,reducer:E},B),{...O,...T($,!0)}}};return O}}function Gle(t,e,n,r){function i(a,...o){let u=e(a);return typeof u>"u"&&r&&(u=n()),t(u,...o)}return i.unwrapped=t,i}var aa=Kle();function Wle(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Yle({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Xle(r))throw new Error(ea(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?La(t,o):La(t))}function Qle(t){return t._reducerDefinitionType==="asyncThunk"}function Xle(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Zle({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ea(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:d,settled:h,options:m}=n,g=i(t,a,m);r.exposeAction(e,g),o&&r.addCase(g.fulfilled,o),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:o||Fy,pending:u||Fy,rejected:d||Fy,settled:h||Fy})}function Fy(){}var Jle="task",W9="listener",Y9="completed",tT="cancelled",ece=`task-${tT}`,tce=`task-${Y9}`,QE=`${W9}-${tT}`,nce=`${W9}-${Y9}`,q0=class{constructor(t){this.code=t,this.message=`${Jle} ${tT} (reason: ${t})`}name="TaskAbortError";message},nT=(t,e)=>{if(typeof t!="function")throw new TypeError(ea(32))},yx=()=>{},Q9=(t,e=yx)=>(t.catch(e),t),X9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),hu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},mu=t=>{if(t.aborted){const{reason:e}=t;throw new q0(e)}};function Z9(t,e){let n=yx;return new Promise((r,i)=>{const a=()=>i(new q0(t.reason));if(t.aborted){a();return}n=X9(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=yx})}var rce=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof q0?"cancelled":"rejected",error:n}}finally{e?.()}},vx=t=>e=>Q9(Z9(t,e).then(n=>(mu(t),n))),J9=t=>{const e=vx(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Jd}=Object,bM={},H0="listenerMiddleware",ice=(t,e)=>{const n=r=>X9(t,()=>hu(r,t.reason));return(r,i)=>{nT(r);const a=new AbortController;n(a);const o=rce(async()=>{mu(t),mu(a.signal);const u=await r({pause:vx(a.signal),delay:J9(a.signal),signal:a.signal});return mu(a.signal),u},()=>hu(a,tce));return i?.autoJoin&&e.push(o.catch(yx)),{result:vx(t)(o),cancel(){hu(a,ece)}}}},ace=(t,e)=>{const n=async(r,i)=>{mu(e);let a=()=>{};const u=[new Promise((d,h)=>{let m=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),d([g,y.getState(),y.getOriginalState()])}});a=()=>{m(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await Z9(e,Promise.race(u));return mu(e),d}finally{a()}};return(r,i)=>Q9(n(r,i))},e8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=La(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ea(21));return nT(a),{predicate:i,type:e,effect:a}},t8=Jd(t=>{const{type:e,predicate:n,effect:r}=e8(t);return{id:Fle(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ea(22))}}},{withTypes:()=>t8}),wM=(t,e)=>{const{type:n,effect:r,predicate:i}=e8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},XE=t=>{t.pending.forEach(e=>{hu(e,QE)})},sce=(t,e)=>()=>{for(const n of e.keys())XE(n);t.clear()},_M=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},n8=Jd(La(`${H0}/add`),{withTypes:()=>n8}),oce=La(`${H0}/removeAll`),r8=Jd(La(`${H0}/remove`),{withTypes:()=>r8}),lce=(...t)=>{console.error(`${H0}/error`,...t)},qp=(t={})=>{const e=new Map,n=new Map,r=b=>{const j=n.get(b)??0;n.set(b,j+1)},i=b=>{const j=n.get(b)??1;j===1?n.delete(b):n.set(b,j-1)},{extra:a,onError:o=lce}=t;nT(o);const u=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),j=>{b.unsubscribe(),j?.cancelActive&&XE(b)}),d=b=>{const j=wM(e,b)??t8(b);return u(j)};Jd(d,{withTypes:()=>d});const h=b=>{const j=wM(e,b);return j&&(j.unsubscribe(),b.cancelActive&&XE(j)),!!j};Jd(h,{withTypes:()=>h});const m=async(b,j,E,A)=>{const T=new AbortController,O=ace(d,T.signal),C=[];try{b.pending.add(T),r(b),await Promise.resolve(b.effect(j,Jd({},E,{getOriginalState:A,condition:(U,B)=>O(U,B).then(Boolean),take:O,delay:J9(T.signal),pause:vx(T.signal),extra:a,signal:T.signal,fork:ice(T.signal,C),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((U,B,$)=>{U!==T&&(hu(U,QE),$.delete(U))})},cancel:()=>{hu(T,QE),b.pending.delete(T)},throwIfCancelled:()=>{mu(T.signal)}})))}catch(U){U instanceof q0||_M(o,U,{raisedBy:"effect"})}finally{await Promise.all(C),hu(T,nce),i(b),b.pending.delete(T)}},g=sce(e,n);return{middleware:b=>j=>E=>{if(!D9(E))return j(E);if(n8.match(E))return d(E.payload);if(oce.match(E)){g();return}if(r8.match(E))return h(E.payload);let A=b.getState();const T=()=>{if(A===bM)throw new Error(ea(23));return A};let O;try{if(O=j(E),e.size>0){const C=b.getState(),U=Array.from(e.values());for(const B of U){let $=!1;try{$=B.predicate(E,C,A)}catch(N){$=!1,_M(o,N,{raisedBy:"predicate"})}$&&m(B,E,b,T)}}}finally{A=bM}return O},startListening:d,stopListening:h,clearListeners:g}};function ea(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i8=aa({name:"chartLayout",initialState:cce,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:uce,setLayout:dce,setChartSize:fce,setScale:hce}=i8.actions,mce=i8.reducer;function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xx=Math.PI/180,bx=t=>t*Math.PI/180,vce=t=>t*180/Math.PI,zt=(t,e,n,r)=>({x:t+Math.cos(-xx*r)*n,y:e+Math.sin(-xx*r)*n}),a8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xce=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},bce=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=xce({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:o,angle:vce(d),angleInRadian:d}},wce=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},_ce=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},jce=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=bce({x:n,y:r},e),{innerRadius:o,outerRadius:u}=e;if(i<o||i>u||i===0)return null;var{startAngle:d,endAngle:h}=wce(e),m=a,g;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=d}return g?EM(EM({},e),{},{radius:i,angle:_ce(m,e)}):null},s8=t=>!x.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function o8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Nce(t,"string");return typeof e=="symbol"?e:e+""}function Nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rn(t,e,n){return pn(t)||pn(e)?n:Ma(e)?Su(t,e,n):typeof e=="function"?e(t):n}var Sce=(t,e,n,r,i)=>{var a,o=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?n[d-1].coordinate:n[u-1].coordinate,m=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(Er(m-h)!==Er(g-m)){var b=[];if(Er(g-m)===Er(i[1]-i[0])){y=g;var j=m+i[1]-i[0];b[0]=Math.min(j,(j+h)/2),b[1]=Math.max(j,(j+h)/2)}else{y=h;var E=g+i[1]-i[0];b[0]=Math.min(m,(E+m)/2),b[1]=Math.max(m,(E+m)/2)}var A=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>A[0]&&t<=A[1]||t>=b[0]&&t<=b[1]){({index:o}=n[d]);break}}else{var T=Math.min(h,g),O=Math.max(h,g);if(t>(T+m)/2&&t<=(O+m)/2){({index:o}=n[d]);break}}}else if(e){for(var C=0;C<u;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:o}=e[C]);break}}return o},Tce=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&Ge(t[a]))return ka(ka({},t),{},{[a]:t[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&Ge(t[o]))return ka(ka({},t),{},{[o]:t[o]+(i||0)})}return t},Go=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",l8=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,a,o=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||o.push(e),a||o.push(n),o},c8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:g,niceTicks:y,axisType:b}=t;if(!o)return null;var j=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/j:0;if(E=b==="angleAxis"&&a&&a.length>=2?Er(a[0]-a[1])*2*E:E,g||y){var A=(g||y||[]).map((T,O)=>{var C=r?r.indexOf(T):T;return{coordinate:o(C)+E,value:T,offset:E,index:O}});return A.filter(T=>!Li(T.coordinate))}return d&&h?h.map((T,O)=>({coordinate:o(T)+E,value:T,index:O,offset:E})):o.ticks&&m!=null?o.ticks(m).map((T,O)=>({coordinate:o(T)+E,value:T,offset:E,index:O})):o.domain().map((T,O)=>({coordinate:o(T)+E,value:r?r[T]:T,index:O,offset:E}))},NM=1e-4,kce=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-NM,a=Math.max(r[0],r[1])+NM,o=t(e[0]),u=t(e[n-1]);(o<i||o>a||u<i||u>a)&&t.domain([e[0],e[n-1]])}},Cce=(t,e)=>{if(!e||e.length!==2||!Ge(e[0])||!Ge(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(i[0]=n),(!Ge(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Pce=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var u=Li(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=i,t[o][n][1]=i+u,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1])}},Ice=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Li(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Oce={sign:Pce,expand:ioe,none:vf,silhouette:aoe,wiggle:soe,positive:Ice},Rce=(t,e,n)=>{var r=Oce[n],i=roe().keys(e).value((a,o)=>+rn(a,o,0)).order(BE).offset(r);return i(t)};function Dce(t){return t==null?void 0:String(t)}function SM(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!pn(i[e.dataKey])){var u=y9(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=rn(i,pn(o)?e.dataKey:o);return pn(d)?null:e.scale(d)}var TM=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var u=rn(a,e.dataKey,e.scale.domain()[o]);return pn(u)?null:e.scale(u)-i/2+r},Mce=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Lce=t=>{var e=t.flat(2).filter(Ge);return[Math.min(...e),Math.max(...e)]},Vce=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],zce=(t,e,n)=>{if(t!=null)return Vce(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,u=o.reduce((d,h)=>{var m=o8(h,e,n),g=Lce(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},kM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=U0(e,m=>m.coordinate),a=1/0,o=1,u=i.length;o<u;o++){var d=i[o],h=i[o-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function PM(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return ka(ka({},e),{},{dataKey:n,payload:r,value:i,name:a})}function yc(t,e){if(t)return String(t);if(typeof e=="string")return e}function Uce(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?jce({x:t,y:e},r):null}var Bce=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return ka(ka(ka({},r),zt(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var u=i.coordinate,{angle:d}=r;return ka(ka(ka({},r),zt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},$ce=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Wo=t=>t.layout.width,Yo=t=>t.layout.height,Fce=t=>t.layout.scale,u8=t=>t.layout.margin,K0=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),G0=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),d8="data-recharts-item-index",f8="data-recharts-item-data-key",Hp=60;function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Kce(t,"string");return typeof e=="symbol"?e:e+""}function Kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gce=t=>t.brush.height;function Wce(t){var e=G0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hp;return n+i}return n},0)}function Yce(t){var e=G0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hp;return n+i}return n},0)}function Qce(t){var e=K0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Xce(t){var e=K0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var dr=re([Wo,Yo,u8,Gce,Wce,Yce,Qce,Xce,P9,ple],(t,e,n,r,i,a,o,u,d,h)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+u},y=qy(qy({},g),m),b=y.bottom;y.bottom+=r,y=Tce(y,d,h);var j=t-y.left-y.right,E=e-y.top-y.bottom;return qy(qy({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(E,0)})}),Zce=re(dr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),rT=re(Wo,Yo,(t,e)=>({x:0,y:0,width:t,height:e})),Jce=x.createContext(null),Nr=()=>x.useContext(Jce)!=null,W0=t=>t.brush,Y0=re([W0,dr,u8],(t,e,n)=>({height:t.height,x:Ge(t.x)?t.x:e.left,y:Ge(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ge(t.width)?t.width:e.width})),Z_={},J_={},ej={},OM;function eue(){return OM||(OM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,u=null;const d=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),m=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},g=()=>{h&&m(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},j=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{j(),o=void 0,u=null},A=()=>{m()},T=function(...O){if(i?.aborted)return;o=this,u=O;const C=y==null;b(),d&&C&&m()};return T.schedule=b,T.cancel=E,T.flush=A,i?.addEventListener("abort",E,{once:!0}),T}t.debounce=e})(ej)),ej}var RM;function tue(){return RM||(RM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eue();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:d}=a,h=Array(2);o&&(h[0]="leading"),u&&(h[1]="trailing");let m,g=null;const y=e.debounce(function(...E){m=r.apply(this,E),g=null},i,{edges:h}),b=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=r.apply(this,E),g=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,E),m)},j=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=j,b}t.debounce=n})(J_)),J_}var DM;function nue(){return DM||(DM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tue();function n(r,i=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:u})}t.throttle=n})(Z_)),Z_}var tj,MM;function rue(){return MM||(MM=1,tj=nue().throttle),tj}var iue=rue();const aue=za(iue);var wx=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},h8=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,u=Mo(r)?t:Number(r),d=Mo(i)?e:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),o&&d>o&&(d=o)),{calculatedWidth:u,calculatedHeight:d}},sue={width:0,height:0,overflow:"visible"},oue={width:0,overflowX:"visible"},lue={height:0,overflowY:"visible"},cue={},uue=t=>{var{width:e,height:n}=t,r=Mo(e),i=Mo(n);return r&&i?sue:r?oue:i?lue:cue};function due(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function ni(t){return Number.isFinite(t)}function xf(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m8=x.createContext({width:-1,height:-1});function p8(t){var{children:e,width:n,height:r}=t,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:x.createElement(m8.Provider,{value:i},e)}var iT=()=>x.useContext(m8),pue=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:u,maxHeight:d,children:h,debounce:m=0,id:g,className:y,onResize:b,style:j={}}=t,E=x.useRef(null),A=x.useRef();A.current=b,x.useImperativeHandle(e,()=>E.current);var[T,O]=x.useState({containerWidth:r.width,containerHeight:r.height}),C=x.useCallback((k,I)=>{O(L=>{var V=Math.round(k),q=Math.round(I);return L.containerWidth===V&&L.containerHeight===q?L:{containerWidth:V,containerHeight:q}})},[]);x.useEffect(()=>{var k=q=>{var M,{width:ce,height:me}=q[0].contentRect;C(ce,me),(M=A.current)===null||M===void 0||M.call(A,ce,me)};m>0&&(k=aue(k,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:L,height:V}=E.current.getBoundingClientRect();return C(L,V),I.observe(E.current),()=>{I.disconnect()}},[C,m]);var{containerWidth:U,containerHeight:B}=T;wx(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:N}=h8(U,B,{width:i,height:a,aspect:n,maxHeight:d});return wx($>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,N,i,a,o,u,n),x.createElement("div",{id:g?"".concat(g):void 0,className:pt("recharts-responsive-container",y),style:VM(VM({},j),{},{width:i,height:a,minWidth:o,minHeight:u,maxHeight:d}),ref:E},x.createElement("div",{style:uue({width:i,height:a})},x.createElement(p8,{width:$,height:N},h)))}),Dd=x.forwardRef((t,e)=>{var n=iT();if(xf(n.width)&&xf(n.height))return t.children;var{width:r,height:i}=due({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=h8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ge(a)&&Ge(o)?x.createElement(p8,{width:a,height:o},t.children):x.createElement(pue,ZE({},t,{width:r,height:i,ref:e}))}),Kp=()=>{var t,e=Nr(),n=Me(Zce),r=Me(Y0),i=(t=Me(W0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},gue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},g8=()=>{var t;return(t=Me(dr))!==null&&t!==void 0?t:gue},aT=()=>Me(Wo),sT=()=>Me(Yo),yue=()=>Me(t=>t.layout.margin),xt=t=>t.layout.layoutType,Q0=()=>Me(xt),X0=t=>{var e=cn(),n=Nr(),{width:r,height:i}=t,a=iT(),o=r,u=i;return a&&(o=a.width>0?a.width:r,u=a.height>0?a.height:i),x.useEffect(()=>{!n&&xf(o)&&xf(u)&&e(fce({width:o,height:u}))},[e,n,o,u]),null},vue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},y8=aa({name:"legend",initialState:vue,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:oi()},removeLegendPayload:{reducer(t,e){var n=So(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:oi()}}}),{setLegendSize:zM,setLegendSettings:xue,addLegendPayload:v8,removeLegendPayload:x8}=y8.actions,bue=y8.reducer,wue=["contextPayload"];function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(null,arguments)}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oT(t,e,n){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eue(t,e){if(t==null)return{};var n,r,i=Aue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nue(t){return t.value}function Sue(t){var{contextPayload:e}=t,n=Eue(t,wue),r=S9(e,t.payloadUniqBy,Nue),i=bf(bf({},n),{},{payload:r});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(WS,i)}function Tue(t,e,n,r,i,a){var{layout:o,align:u,verticalAlign:d}=e,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&o==="vertical"?h={left:((r||0)-a.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?m={top:((i||0)-a.height)/2}:m=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),bf(bf({},h),m)}function kue(t){var e=cn();return x.useEffect(()=>{e(xue(t))},[e,t]),null}function Cue(t){var e=cn();return x.useEffect(()=>(e(zM(t)),()=>{e(zM({width:0,height:0}))}),[e,t]),null}function Pue(t){var e=vle(),n=Sse(),r=yue(),{width:i,height:a,wrapperStyle:o,portal:u}=t,[d,h]=I9([e]),m=aT(),g=sT();if(m==null||g==null)return null;var y=m-(r.left||0)-(r.right||0),b=su.getWidthOrHeight(t.layout,a,i,y),j=u?o:bf(bf({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},Tue(o,t,r,m,g,d)),o),E=u??n;if(E==null)return null;var A=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},x.createElement(kue,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(Cue,{width:d.width,height:d.height}),x.createElement(Sue,JE({},t,b,{margin:r,chartWidth:m,chartHeight:g,contextPayload:e})));return h6.createPortal(A,E)}class su extends x.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Ge(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return x.createElement(Pue,this.props)}}oT(su,"displayName","Legend");oT(su,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eA.apply(null,arguments)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Rue(t,"string");return typeof e=="symbol"?e:e+""}function Rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Due(t){return Array.isArray(t)&&Ma(t[0])&&Ma(t[1])?t.join(" ~ "):t}var Mue=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:u,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var B={padding:0,margin:0},$=(u?U0(a,u):a).map((N,k)=>{if(N.type==="none")return null;var I=N.formatter||o||Due,{value:L,name:V}=N,q=L,M=V;if(I){var ce=I(L,V,N,k,a);if(Array.isArray(ce))[q,M]=ce;else if(ce!=null)q=ce;else return null}var me=nj({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:me},Ma(M)?x.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Ma(M)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},q),x.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:B},$)}return null},j=nj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=nj({margin:0},i),A=!pn(m),T=A?m:"",O=pt("recharts-default-tooltip",d),C=pt("recharts-tooltip-label",h);A&&g&&a!==void 0&&a!==null&&(T=g(m,a));var U=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",eA({className:O,style:j},U),x.createElement("p",{className:C,style:E},x.isValidElement(T)?T:"".concat(T)),b())},im="recharts-tooltip-wrapper",Lue={visibility:"hidden"};function Vue(t){var{coordinate:e,translateX:n,translateY:r}=t;return pt(im,{["".concat(im,"-right")]:Ge(n)&&e&&Ge(e.x)&&n>=e.x,["".concat(im,"-left")]:Ge(n)&&e&&Ge(e.x)&&n<e.x,["".concat(im,"-bottom")]:Ge(r)&&e&&Ge(e.y)&&r>=e.y,["".concat(im,"-top")]:Ge(r)&&e&&Ge(e.y)&&r<e.y})}function $M(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(a&&Ge(a[r]))return a[r];var m=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return o[r]?m:g;var y=d[r];if(y==null)return 0;if(o[r]){var b=m,j=y;return b<j?Math.max(g,y):Math.max(m,y)}if(h==null)return 0;var E=g+u,A=y+h;return E>A?Math.max(m,y):Math.max(g,y)}function zue(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Uue(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:u,viewBox:d}=t,h,m,g;return o.height>0&&o.width>0&&n?(m=$M({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=$M({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),h=zue({translateX:m,translateY:g,useTranslate3d:u})):h=Lue,{cssProperties:h,cssClasses:Vue({translateX:m,translateY:g,coordinate:n})}}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){tA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tA(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}function $ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fue extends x.PureComponent{constructor(){super(...arguments),tA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:u,isAnimationActive:d,offset:h,position:m,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:j,lastBoundingBox:E,innerRef:A,hasPortalFromProps:T}=this.props,{cssClasses:O,cssProperties:C}=Uue({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),U=T?{}:Hy(Hy({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),B=Hy(Hy({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:B,ref:A},a)}}var que=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qo={devToolsEnabled:!1,isSsr:que()},b8=()=>Me(t=>t.rootProps.accessibilityLayer);function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(null,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hue(t,e,n){return(e=Kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KM={curveBasisClosed:Kse,curveBasisOpen:Gse,curveBasis:Hse,curveBumpX:Pse,curveBumpY:Ise,curveLinearClosed:Wse,curveLinear:L0,curveMonotoneX:Yse,curveMonotoneY:Qse,curveNatural:Xse,curveStep:Zse,curveStepAfter:eoe,curveStepBefore:Jse},Ky=t=>ni(t.x)&&ni(t.y),am=t=>t.x,sm=t=>t.y,Wue=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($p(t));return(n==="curveMonotone"||n==="curveBump")&&e?KM["".concat(n).concat(e==="vertical"?"Y":"X")]:KM[n]||L0},Yue=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=Wue(e,i),u=a?n.filter(Ky):n,d;if(Array.isArray(r)){var h=a?r.filter(g=>Ky(g)):r,m=u.map((g,y)=>HM(HM({},g),{},{base:h[y]}));return i==="vertical"?d=Vy().y(sm).x1(am).x0(g=>g.base.x):d=Vy().x(am).y1(sm).y0(g=>g.base.y),d.defined(Ky).curve(o),d(m)}return i==="vertical"&&Ge(r)?d=Vy().y(sm).x1(am).x0(r):Ge(r)?d=Vy().x(am).y1(sm).y0(r):d=i9().x(am).y(sm),d.defined(Ky).curve(o),d(u)},lT=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Yue(t):r;return x.createElement("path",nA({},Nn(t),KS(t),{className:pt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Que=["x","y","top","left","width","height","className"];function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(null,arguments)}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=Jue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=ede(t,"string");return typeof e=="symbol"?e:e+""}function ede(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tde(t,e){if(t==null)return{};var n,r,i=nde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rde=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),ide=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:u}=t,d=tde(t,Que),h=Xue({x:e,y:n,top:r,left:i,width:a,height:o},d);return!Ge(e)||!Ge(n)||!Ge(a)||!Ge(o)||!Ge(r)||!Ge(i)?null:x.createElement("path",rA({},Kn(h),{className:pt("recharts-cross",u),d:rde(e,n,a,o,r,i)}))};function ade(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return(e=lde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=cde(t,"string");return typeof e=="symbol"?e:e+""}function cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e){var n=sde({},t),r=e,i=Object.keys(e),a=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return a}function ude(){}function dde(t){return t!=null}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pde=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),w8=(t,e,n)=>t.map(r=>"".concat(pde(r)," ").concat(e,"ms ").concat(n)).join(","),gde=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),lp=(t,e)=>Object.keys(e).reduce((n,r)=>QM(QM({},n),{},{[r]:t(r,e[r])}),{});function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){yde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yde(t,e,n){return(e=vde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vde(t){var e=xde(t,"string");return typeof e=="symbol"?e:e+""}function xde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _x=(t,e,n)=>t+(e-t)*n,iA=t=>{var{from:e,to:n}=t;return e!==n},_8=(t,e,n)=>{var r=lp((i,a)=>{if(iA(a)){var[o,u]=t(a.from,a.to,a.velocity);return Br(Br({},a),{},{from:o,velocity:u})}return a},e);return n<1?lp((i,a)=>iA(a)?Br(Br({},a),{},{velocity:_x(a.velocity,r[i].velocity,n),from:_x(a.from,r[i].from,n)}):a,e):_8(t,r,n-1)};function bde(t,e,n,r,i,a){var o,u=r.reduce((y,b)=>Br(Br({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),d=()=>lp((y,b)=>b.from,u),h=()=>!Object.values(u).filter(iA).length,m=null,g=y=>{o||(o=y);var b=y-o,j=b/n.dt;u=_8(n,u,j),i(Br(Br(Br({},t),e),d())),o=y,h()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{m()})}function wde(t,e,n,r,i,a,o){var u=null,d=i.reduce((g,y)=>Br(Br({},g),{},{[y]:[t[y],e[y]]}),{}),h,m=g=>{h||(h=g);var y=(g-h)/r,b=lp((E,A)=>_x(...A,n(y)),d);if(a(Br(Br(Br({},t),e),b)),y<1)u=o.setTimeout(m);else{var j=lp((E,A)=>_x(...A,n(1)),d);a(Br(Br(Br({},t),e),j))}};return()=>(u=o.setTimeout(m),()=>{u()})}const _de=(t,e,n,r,i,a)=>{var o=gde(t,e);return n.isStepper===!0?bde(t,e,n,o,i,a):wde(t,e,n,r,o,i,a)};var jx=1e-4,j8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],E8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ZM=(t,e)=>n=>{var r=j8(t,e);return E8(r,n)},jde=(t,e)=>n=>{var r=j8(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return E8(i,n)},JM=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else o.length===4&&([e,r,n,i]=o);var h=ZM(e,n),m=ZM(r,i),g=jde(e,n),y=j=>j>1?1:j<0?0:j,b=j=>{for(var E=j>1?1:j,A=E,T=0;T<8;++T){var O=h(A)-E,C=g(A);if(Math.abs(O-E)<jx||C<jx)return m(A);A=y(A-O/C)}return m(A)};return b.isStepper=!1,b},Ede=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,u,d)=>{var h=-(o-u)*n,m=d*r,g=d+(h-m)*i/1e3,y=d*i/1e3+o;return Math.abs(y-u)<jx&&Math.abs(g)<jx?[u,0]:[y,g]};return a.isStepper=!0,a.dt=i,a},Ade=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JM(t);case"spring":return Ede();default:if(t.split("(")[0]==="cubic-bezier")return JM(t)}return typeof t=="function"?t:null};function Nde(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(a.bind(null,h),d);return}a(d),i=t.setTimeout(a.bind(null,h));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Sde{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Tde(){return Nde(new Sde)}var kde=x.createContext(Tde);function Cde(t,e){var n=x.useContext(kde);return x.useMemo(()=>e??n(t),[t,e,n])}var Pde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},e4={t:0},rj={t:1};function Ff(t){var e=Sr(t,Pde),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:d,children:h}=e,m=Cde(e.animationId,e.animationManager),[g,y]=x.useState(n?e4:rj),b=x.useRef(null);return x.useEffect(()=>{n||y(rj)},[n]),x.useEffect(()=>{if(!n||!r)return ude;var j=_de(e4,rj,Ade(a),i,y,m.getTimeoutController()),E=()=>{b.current=j()};return m.start([d,o,E,i,u]),()=>{m.stop(),b.current&&b.current(),u()}},[n,r,i,a,o,d,u,m]),h(g.t)}function qf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(ip(e)),r=x.useRef(t);return r.current!==t&&(n.current=ip(e),r.current=t),n.current}var Ide=["radius"],Ode=["radius"];function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){Rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e,n){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:e+""}function Mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(null,arguments)}function r4(t,e){if(t==null)return{};var n,r,i=Lde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i4=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=i[g]>a?a:i[g];h="M".concat(t,",").concat(e+o*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+u*m[0],",").concat(e)),h+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+o*m[1])),h+="L ".concat(t+n,",").concat(e+r-o*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),h+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-o*m[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+u*b,",").concat(e,`
            L `).concat(t+n-u*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+n,",").concat(e+o*b,`
            L `).concat(t+n,",").concat(e+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+n-u*b,",").concat(e+r,`
            L `).concat(t+u*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t,",").concat(e+r-o*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},Vde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A8=t=>{var e=Sr(t,Vde),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:u,height:d,radius:h,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:E}=e,A=x.useRef(u),T=x.useRef(d),O=x.useRef(a),C=x.useRef(o),U=x.useMemo(()=>({x:a,y:o,width:u,height:d,radius:h}),[a,o,u,d,h]),B=qf(U,"rectangle-");if(a!==+a||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var $=pt("recharts-rectangle",m);if(!E){var N=Kn(e),{radius:k}=N,I=r4(N,Ide);return x.createElement("path",Ex({},I,{radius:typeof h=="number"?h:void 0,className:$,d:i4(a,o,u,d,h)}))}var L=A.current,V=T.current,q=O.current,M=C.current,ce="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),G=w8(["strokeDasharray"],y,typeof g=="string"?g:void 0);return x.createElement(Ff,{animationId:B,key:B,canBegin:r>0,duration:y,easing:g,isActive:E,begin:b},X=>{var se=mn(L,u,X),be=mn(V,d,X),Y=mn(q,a,X),z=mn(M,o,X);n.current&&(A.current=se,T.current=be,O.current=Y,C.current=z);var Q;j?X>0?Q={transition:G,strokeDasharray:me}:Q={strokeDasharray:ce}:Q={strokeDasharray:me};var ue=Kn(e),{radius:ge}=ue,pe=r4(ue,Ode);return x.createElement("path",Ex({},pe,{radius:typeof h=="number"?h:void 0,className:$,d:i4(Y,z,se,be,h),ref:n,style:n4(n4({},Q),e.style)}))})};function N8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=zt(e,n,r,i),u=zt(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(null,arguments)}var zde=(t,e)=>{var n=Er(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Gy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:u,cornerIsExternal:d}=t,h=u*(o?1:-1)+r,m=Math.asin(u/h)/xx,g=d?i:i+a*m,y=zt(e,n,h,g),b=zt(e,n,r,g),j=d?i-a*m:i,E=zt(e,n,h*Math.cos(m*xx),j);return{center:y,circleTangency:b,lineTangency:E,theta:m}},S8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,u=zde(a,o),d=a+u,h=zt(e,n,i,a),m=zt(e,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=zt(e,n,r,a),b=zt(e,n,r,d);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},Ude=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:h}=t,m=Er(h-d),{circleTangency:g,lineTangency:y,theta:b}=Gy({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:u}),{circleTangency:j,lineTangency:E,theta:A}=Gy({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:u}),T=u?Math.abs(d-h):Math.abs(d-h)-b-A;if(T<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):S8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var O="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:U,theta:B}=Gy({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:$,lineTangency:N,theta:k}=Gy({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),I=u?Math.abs(d-h):Math.abs(d-h)-B-k;if(I<0&&a===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,"Z")}else O+="L".concat(e,",").concat(n,"Z");return O},Bde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T8=t=>{var e=Sr(t,Bde),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m,className:g}=e;if(a<i||h===m)return null;var y=pt("recharts-sector",g),b=a-i,j=ei(o,b,0,!0),E;return j>0&&Math.abs(h-m)<360?E=Ude({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(j,b/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):E=S8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:m}),x.createElement("path",aA({},Kn(e),{className:y,d:E}))};function $de(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:d,innerRadius:h,outerRadius:m,angle:g}=e,y=zt(u,d,h,g),b=zt(u,d,m,g);r=y.x,i=y.y,a=b.x,o=b.y}else return N8(e);return[{x:r,y:i},{x:a,y:o}]}var ij={},aj={},sj={},a4;function Fde(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k9();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(sj)),sj}var s4;function qde(){return s4||(s4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fde();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(aj)),aj}var o4;function Hde(){return o4||(o4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C9(),n=qde();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=o;return d}t.range=r})(ij)),ij}var oj,l4;function Kde(){return l4||(l4=1,oj=Hde().range),oj}var Gde=Kde();const k8=za(Gde);function Wl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wde(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cT(t){let e,n,r;t.length!==2?(e=Wl,n=(u,d)=>Wl(t(u),d),r=(u,d)=>t(u)-d):(e=t===Wl||t===Wde?t:Yde,n=t,r=t);function i(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const g=h+m>>>1;n(u[g],d)<0?h=g+1:m=g}while(h<m)}return h}function a(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const g=h+m>>>1;n(u[g],d)<=0?h=g+1:m=g}while(h<m)}return h}function o(u,d,h=0,m=u.length){const g=i(u,d,h,m-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:o,right:a}}function Yde(){return 0}function C8(t){return t===null?NaN:+t}function*Qde(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xde=cT(Wl),Gp=Xde.right;cT(C8).center;class c4 extends Map{constructor(e,n=efe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(u4(this,e))}has(e){return super.has(u4(this,e))}set(e,n){return super.set(Zde(this,e),n)}delete(e){return super.delete(Jde(this,e))}}function u4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zde({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jde({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function efe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tfe(t=Wl){if(t===Wl)return P8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function P8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nfe=Math.sqrt(50),rfe=Math.sqrt(10),ife=Math.sqrt(2);function Ax(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=nfe?10:a>=rfe?5:a>=ife?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/o,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*o,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?Ax(t,e,n*2):[u,d,h]}function sA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Ax(e,t,n):Ax(t,e,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(o<0)for(let h=0;h<u;++h)d[h]=(a-h)/-o;else for(let h=0;h<u;++h)d[h]=(a-h)*o;else if(o<0)for(let h=0;h<u;++h)d[h]=(i+h)/-o;else for(let h=0;h<u;++h)d[h]=(i+h)*o;return d}function oA(t,e,n){return e=+e,t=+t,n=+n,Ax(t,e,n)[2]}function lA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?oA(e,t,n):oA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function d4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function f4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function I8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?P8:tfe(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,m=Math.log(d),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(d-g)/d)*(h-d/2<0?-1:1),b=Math.max(n,Math.floor(e-h*g/d+y)),j=Math.min(r,Math.floor(e+(d-h)*g/d+y));I8(t,e,b,j,i)}const a=t[e];let o=n,u=r;for(om(t,n,e),i(t[r],a)>0&&om(t,n,r);o<u;){for(om(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?om(t,n,u):(++u,om(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function om(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function afe(t,e,n){if(t=Float64Array.from(Qde(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return f4(t);if(e>=1)return d4(t);var r,i=(r-1)*e,a=Math.floor(i),o=d4(I8(t,a).subarray(0,a+1)),u=f4(t.subarray(a+1));return o+(u-o)*(i-a)}}function sfe(t,e,n=C8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function ofe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ba(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cA=Symbol("implicit");function uT(){var t=new c4,e=[],n=[],r=cA;function i(a){let o=t.get(a);if(o===void 0){if(r!==cA)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new c4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uT(e,n).unknown(r)},Ba.apply(i,arguments),i}function dT(){var t=uT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,d=0,h=0,m=.5;delete t.unknown;function g(){var y=e().length,b=i<r,j=b?i:r,E=b?r:i;a=(E-j)/Math.max(1,y-d+h*2),u&&(a=Math.floor(a)),j+=(E-j-a*(y-d))*m,o=a*(1-d),u&&(j=Math.round(j),o=Math.round(o));var A=ofe(y).map(function(T){return j+a*T});return n(b?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),g()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},t.copy=function(){return dT(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(m)},Ba.apply(g(),arguments)}function O8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O8(e())},t}function lfe(){return O8(dT.apply(null,arguments).paddingInner(1))}function fT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function R8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wp(){}var cp=.7,Nx=1/cp,ef="\\s*([+-]?\\d+)\\s*",up="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cfe=/^#([0-9a-f]{3,8})$/,ufe=new RegExp(`^rgb\\(${ef},${ef},${ef}\\)$`),dfe=new RegExp(`^rgb\\(${zs},${zs},${zs}\\)$`),ffe=new RegExp(`^rgba\\(${ef},${ef},${ef},${up}\\)$`),hfe=new RegExp(`^rgba\\(${zs},${zs},${zs},${up}\\)$`),mfe=new RegExp(`^hsl\\(${up},${zs},${zs}\\)$`),pfe=new RegExp(`^hsla\\(${up},${zs},${zs},${up}\\)$`),h4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fT(Wp,dp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:m4,formatHex:m4,formatHex8:gfe,formatHsl:yfe,formatRgb:p4,toString:p4});function m4(){return this.rgb().formatHex()}function gfe(){return this.rgb().formatHex8()}function yfe(){return D8(this).formatHsl()}function p4(){return this.rgb().formatRgb()}function dp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?g4(e):n===3?new Ri(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ufe.exec(t))?new Ri(e[1],e[2],e[3],1):(e=dfe.exec(t))?new Ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ffe.exec(t))?Wy(e[1],e[2],e[3],e[4]):(e=hfe.exec(t))?Wy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mfe.exec(t))?x4(e[1],e[2]/100,e[3]/100,1):(e=pfe.exec(t))?x4(e[1],e[2]/100,e[3]/100,e[4]):h4.hasOwnProperty(t)?g4(h4[t]):t==="transparent"?new Ri(NaN,NaN,NaN,0):null}function g4(t){return new Ri(t>>16&255,t>>8&255,t&255,1)}function Wy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ri(t,e,n,r)}function vfe(t){return t instanceof Wp||(t=dp(t)),t?(t=t.rgb(),new Ri(t.r,t.g,t.b,t.opacity)):new Ri}function uA(t,e,n,r){return arguments.length===1?vfe(t):new Ri(t,e,n,r??1)}function Ri(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fT(Ri,uA,R8(Wp,{brighter(t){return t=t==null?Nx:Math.pow(Nx,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cp:Math.pow(cp,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ri(pu(this.r),pu(this.g),pu(this.b),Sx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y4,formatHex:y4,formatHex8:xfe,formatRgb:v4,toString:v4}));function y4(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}`}function xfe(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}${ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function v4(){const t=Sx(this.opacity);return`${t===1?"rgb(":"rgba("}${pu(this.r)}, ${pu(this.g)}, ${pu(this.b)}${t===1?")":`, ${t})`}`}function Sx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ou(t){return t=pu(t),(t<16?"0":"")+t.toString(16)}function x4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new rs(t,e,n,r)}function D8(t){if(t instanceof rs)return new rs(t.h,t.s,t.l,t.opacity);if(t instanceof Wp||(t=dp(t)),!t)return new rs;if(t instanceof rs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,d=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new rs(o,u,d,t.opacity)}function bfe(t,e,n,r){return arguments.length===1?D8(t):new rs(t,e,n,r??1)}function rs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fT(rs,bfe,R8(Wp,{brighter(t){return t=t==null?Nx:Math.pow(Nx,t),new rs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cp:Math.pow(cp,t),new rs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ri(lj(t>=240?t-240:t+120,i,r),lj(t,i,r),lj(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new rs(b4(this.h),Yy(this.s),Yy(this.l),Sx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sx(this.opacity);return`${t===1?"hsl(":"hsla("}${b4(this.h)}, ${Yy(this.s)*100}%, ${Yy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function b4(t){return t=(t||0)%360,t<0?t+360:t}function Yy(t){return Math.max(0,Math.min(1,t||0))}function lj(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hT=t=>()=>t;function wfe(t,e){return function(n){return t+n*e}}function _fe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jfe(t){return(t=+t)==1?M8:function(e,n){return n-e?_fe(e,n,t):hT(isNaN(e)?n:e)}}function M8(t,e){var n=e-t;return n?wfe(t,n):hT(isNaN(t)?e:t)}const w4=(function t(e){var n=jfe(e);function r(i,a){var o=n((i=uA(i)).r,(a=uA(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),h=M8(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=u(m),i.b=d(m),i.opacity=h(m),i+""}}return r.gamma=t,r})(1);function Efe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Afe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Hf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Sfe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var dA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cj=new RegExp(dA.source,"g");function kfe(t){return function(){return t}}function Cfe(t){return function(e){return t(e)+""}}function Pfe(t,e){var n=dA.lastIndex=cj.lastIndex=0,r,i,a,o=-1,u=[],d=[];for(t=t+"",e=e+"";(r=dA.exec(t))&&(i=cj.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:Tx(r,i)})),n=cj.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?Cfe(d[0].x):kfe(e):(e=d.length,function(h){for(var m=0,g;m<e;++m)u[(g=d[m]).i]=g.x(h);return u.join("")})}function Hf(t,e){var n=typeof e,r;return e==null||n==="boolean"?hT(e):(n==="number"?Tx:n==="string"?(r=dp(e))?(e=r,w4):Pfe:e instanceof dp?w4:e instanceof Date?Sfe:Afe(e)?Efe:Array.isArray(e)?Nfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tfe:Tx)(t,e)}function mT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ife(t,e){e===void 0&&(e=t,t=Hf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function Ofe(t){return function(){return t}}function kx(t){return+t}var _4=[0,1];function fi(t){return t}function fA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ofe(isNaN(e)?NaN:.5)}function Rfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dfe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=fA(i,r),a=n(o,a)):(r=fA(r,i),a=n(a,o)),function(u){return a(r(u))}}function Mfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=fA(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var d=Gp(t,u,1,r)-1;return a[d](i[d](u))}}function Yp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Z0(){var t=_4,e=_4,n=Hf,r,i,a,o=fi,u,d,h;function m(){var y=Math.min(t.length,e.length);return o!==fi&&(o=Rfe(t[0],t[y-1])),u=y>2?Mfe:Dfe,d=h=null,g}function g(y){return y==null||isNaN(y=+y)?a:(d||(d=u(t.map(r),e,n)))(r(o(y)))}return g.invert=function(y){return o(i((h||(h=u(e,t.map(r),Tx)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,kx),m()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=mT,m()},g.clamp=function(y){return arguments.length?(o=y?!0:fi,m()):o!==fi},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,b){return r=y,i=b,m()}}function pT(){return Z0()(fi,fi)}function Lfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wf(t){return t=Cx(Math.abs(t)),t?t[1]:NaN}function Vfe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function zfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ufe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fp(t){if(!(e=Ufe.exec(t)))throw new Error("invalid format: "+t);var e;return new gT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fp.prototype=gT.prototype;function gT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bfe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var L8;function $fe(t,e){var n=Cx(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(L8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cx(t,Math.max(0,e+a-1))[0]}function j4(t,e){var n=Cx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const E4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j4(t*100,e),r:j4,s:$fe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function A4(t){return t}var N4=Array.prototype.map,S4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ffe(t){var e=t.grouping===void 0||t.thousands===void 0?A4:Vfe(N4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?A4:zfe(N4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=fp(g);var y=g.fill,b=g.align,j=g.sign,E=g.symbol,A=g.zero,T=g.width,O=g.comma,C=g.precision,U=g.trim,B=g.type;B==="n"?(O=!0,B="g"):E4[B]||(C===void 0&&(C=12),U=!0,B="g"),(A||y==="0"&&b==="=")&&(A=!0,y="0",b="=");var $=E==="$"?n:E==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",N=E==="$"?r:/[%p]/.test(B)?o:"",k=E4[B],I=/[defgprs%]/.test(B);C=C===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function L(V){var q=$,M=N,ce,me,G;if(B==="c")M=k(V)+M,V="";else{V=+V;var X=V<0||1/V<0;if(V=isNaN(V)?d:k(Math.abs(V),C),U&&(V=Bfe(V)),X&&+V==0&&j!=="+"&&(X=!1),q=(X?j==="("?j:u:j==="-"||j==="("?"":j)+q,M=(B==="s"?S4[8+L8/3]:"")+M+(X&&j==="("?")":""),I){for(ce=-1,me=V.length;++ce<me;)if(G=V.charCodeAt(ce),48>G||G>57){M=(G===46?i+V.slice(ce+1):V.slice(ce))+M,V=V.slice(0,ce);break}}}O&&!A&&(V=e(V,1/0));var se=q.length+V.length+M.length,be=se<T?new Array(T-se+1).join(y):"";switch(O&&A&&(V=e(be+V,be.length?T-M.length:1/0),be=""),b){case"<":V=q+V+M+be;break;case"=":V=q+be+V+M;break;case"^":V=be.slice(0,se=be.length>>1)+q+V+M+be.slice(se);break;default:V=be+q+V+M;break}return a(V)}return L.toString=function(){return g+""},L}function m(g,y){var b=h((g=fp(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(wf(y)/3)))*3,E=Math.pow(10,-j),A=S4[8+j/3];return function(T){return b(E*T)+A}}return{format:h,formatPrefix:m}}var Qy,yT,V8;qfe({thousands:",",grouping:[3],currency:["$",""]});function qfe(t){return Qy=Ffe(t),yT=Qy.format,V8=Qy.formatPrefix,Qy}function Hfe(t){return Math.max(0,-wf(Math.abs(t)))}function Kfe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wf(e)/3)))*3-wf(Math.abs(t)))}function Gfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wf(e)-wf(t))+1}function z8(t,e,n,r){var i=lA(t,e,n),a;switch(r=fp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Kfe(i,o))&&(r.precision=a),V8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Gfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Hfe(i))&&(r.precision=a-(r.type==="%")*2);break}}return yT(r)}function vc(t){var e=t.domain;return t.ticks=function(n){var r=e();return sA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return z8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],d,h,m=10;for(u<o&&(h=o,o=u,u=h,h=i,i=a,a=h);m-- >0;){if(h=oA(o,u,n),h===d)return r[i]=o,r[a]=u,e(r);if(h>0)o=Math.floor(o/h)*h,u=Math.ceil(u/h)*h;else if(h<0)o=Math.ceil(o*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function U8(){var t=pT();return t.copy=function(){return Yp(t,U8())},Ba.apply(t,arguments),vc(t)}function B8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,kx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return B8(t).unknown(e)},t=arguments.length?Array.from(t,kx):[0,1],vc(n)}function $8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function T4(t){return Math.log(t)}function k4(t){return Math.exp(t)}function Wfe(t){return-Math.log(-t)}function Yfe(t){return-Math.exp(-t)}function Qfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xfe(t){return t===10?Qfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Zfe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C4(t){return(e,n)=>-t(-e,n)}function vT(t){const e=t(T4,k4),n=e.domain;let r=10,i,a;function o(){return i=Zfe(r),a=Xfe(r),n()[0]<0?(i=C4(i),a=C4(a),t(Wfe,Yfe)):t(T4,k4),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const d=n();let h=d[0],m=d[d.length-1];const g=m<h;g&&([h,m]=[m,h]);let y=i(h),b=i(m),j,E;const A=u==null?10:+u;let T=[];if(!(r%1)&&b-y<A){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(j=1;j<r;++j)if(E=y<0?j/a(-y):j*a(y),!(E<h)){if(E>m)break;T.push(E)}}else for(;y<=b;++y)for(j=r-1;j>=1;--j)if(E=y>0?j/a(-y):j*a(y),!(E<h)){if(E>m)break;T.push(E)}T.length*2<A&&(T=sA(h,m,A))}else T=sA(y,b,Math.min(b-y,A)).map(a);return g?T.reverse():T},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=fp(d)).precision==null&&(d.trim=!0),d=yT(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=h?d(m):""}},e.nice=()=>n($8(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function F8(){const t=vT(Z0()).domain([1,10]);return t.copy=()=>Yp(t,F8()).base(t.base()),Ba.apply(t,arguments),t}function P4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function I4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xT(t){var e=1,n=t(P4(e),I4(e));return n.constant=function(r){return arguments.length?t(P4(e=+r),I4(e)):e},vc(n)}function q8(){var t=xT(Z0());return t.copy=function(){return Yp(t,q8()).constant(t.constant())},Ba.apply(t,arguments)}function O4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ehe(t){return t<0?-t*t:t*t}function bT(t){var e=t(fi,fi),n=1;function r(){return n===1?t(fi,fi):n===.5?t(Jfe,ehe):t(O4(n),O4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},vc(e)}function wT(){var t=bT(Z0());return t.copy=function(){return Yp(t,wT()).exponent(t.exponent())},Ba.apply(t,arguments),t}function the(){return wT.apply(null,arguments).exponent(.5)}function R4(t){return Math.sign(t)*t*t}function nhe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function H8(){var t=pT(),e=[0,1],n=!1,r;function i(a){var o=nhe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(R4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,kx)).map(R4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return H8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ba.apply(i,arguments),vc(i)}function K8(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=sfe(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Gp(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Wl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return K8().domain(t).range(e).unknown(r)},Ba.apply(a,arguments)}function G8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[Gp(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return G8().domain([t,e]).range(i).unknown(a)},Ba.apply(vc(o),arguments)}function W8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Gp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return W8().domain(t).range(e).unknown(n)},Ba.apply(i,arguments)}const uj=new Date,dj=new Date;function fr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let h;do d.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<o);return d},i.filter=a=>fr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(uj.setTime(+a),dj.setTime(+o),t(uj),t(dj),Math.floor(n(uj,dj))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Px=fr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Px.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Px);Px.range;const Eo=1e3,Ca=Eo*60,Ao=Ca*60,Vo=Ao*24,_T=Vo*7,D4=Vo*30,fj=Vo*365,lu=fr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Eo)},(t,e)=>(e-t)/Eo,t=>t.getUTCSeconds());lu.range;const jT=fr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Eo)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getMinutes());jT.range;const ET=fr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCMinutes());ET.range;const AT=fr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Eo-t.getMinutes()*Ca)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getHours());AT.range;const NT=fr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCHours());NT.range;const Qp=fr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/Vo,t=>t.getDate()-1);Qp.range;const J0=fr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>t.getUTCDate()-1);J0.range;const Y8=fr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vo,t=>Math.floor(t/Vo));Y8.range;function Fu(t){return fr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/_T)}const eb=Fu(0),Ix=Fu(1),rhe=Fu(2),ihe=Fu(3),_f=Fu(4),ahe=Fu(5),she=Fu(6);eb.range;Ix.range;rhe.range;ihe.range;_f.range;ahe.range;she.range;function qu(t){return fr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_T)}const tb=qu(0),Ox=qu(1),ohe=qu(2),lhe=qu(3),jf=qu(4),che=qu(5),uhe=qu(6);tb.range;Ox.range;ohe.range;lhe.range;jf.range;che.range;uhe.range;const ST=fr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ST.range;const TT=fr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TT.range;const zo=fr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zo.range;const Uo=fr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Uo.range;function Q8(t,e,n,r,i,a){const o=[[lu,1,Eo],[lu,5,5*Eo],[lu,15,15*Eo],[lu,30,30*Eo],[a,1,Ca],[a,5,5*Ca],[a,15,15*Ca],[a,30,30*Ca],[i,1,Ao],[i,3,3*Ao],[i,6,6*Ao],[i,12,12*Ao],[r,1,Vo],[r,2,2*Vo],[n,1,_T],[e,1,D4],[e,3,3*D4],[t,1,fj]];function u(h,m,g){const y=m<h;y&&([h,m]=[m,h]);const b=g&&typeof g.range=="function"?g:d(h,m,g),j=b?b.range(h,+m+1):[];return y?j.reverse():j}function d(h,m,g){const y=Math.abs(m-h)/g,b=cT(([,,A])=>A).right(o,y);if(b===o.length)return t.every(lA(h/fj,m/fj,g));if(b===0)return Px.every(Math.max(lA(h,m,g),1));const[j,E]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return j.every(E)}return[u,d]}const[dhe,fhe]=Q8(Uo,TT,tb,Y8,NT,ET),[hhe,mhe]=Q8(zo,ST,eb,Qp,AT,jT);function hj(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mj(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function phe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,h=cm(i),m=um(i),g=cm(a),y=um(a),b=cm(o),j=um(o),E=cm(u),A=um(u),T=cm(d),O=um(d),C={a:X,A:se,b:be,B:Y,c:null,d:B4,e:B4,f:Vhe,g:Whe,G:Qhe,H:Dhe,I:Mhe,j:Lhe,L:X8,m:zhe,M:Uhe,p:z,q:Q,Q:q4,s:H4,S:Bhe,u:$he,U:Fhe,V:qhe,w:Hhe,W:Khe,x:null,X:null,y:Ghe,Y:Yhe,Z:Xhe,"%":F4},U={a:ue,A:ge,b:pe,B:Ne,c:null,d:$4,e:$4,f:tme,g:dme,G:hme,H:Zhe,I:Jhe,j:eme,L:J8,m:nme,M:rme,p:Ae,q:Le,Q:q4,s:H4,S:ime,u:ame,U:sme,V:ome,w:lme,W:cme,x:null,X:null,y:ume,Y:fme,Z:mme,"%":F4},B={a:L,A:V,b:q,B:M,c:ce,d:z4,e:z4,f:Phe,g:V4,G:L4,H:U4,I:U4,j:She,L:Che,m:Nhe,M:The,p:I,q:Ahe,Q:Ohe,s:Rhe,S:khe,u:bhe,U:whe,V:_he,w:xhe,W:jhe,x:me,X:G,y:V4,Y:L4,Z:Ehe,"%":Ihe};C.x=$(n,C),C.X=$(r,C),C.c=$(e,C),U.x=$(n,U),U.X=$(r,U),U.c=$(e,U);function $(ae,Re){return function(Ie){var K=[],ee=-1,ne=0,Ee=ae.length,Ue,Qe,bt;for(Ie instanceof Date||(Ie=new Date(+Ie));++ee<Ee;)ae.charCodeAt(ee)===37&&(K.push(ae.slice(ne,ee)),(Qe=M4[Ue=ae.charAt(++ee)])!=null?Ue=ae.charAt(++ee):Qe=Ue==="e"?" ":"0",(bt=Re[Ue])&&(Ue=bt(Ie,Qe)),K.push(Ue),ne=ee+1);return K.push(ae.slice(ne,ee)),K.join("")}}function N(ae,Re){return function(Ie){var K=lm(1900,void 0,1),ee=k(K,ae,Ie+="",0),ne,Ee;if(ee!=Ie.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(Re&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ne=mj(lm(K.y,0,1)),Ee=ne.getUTCDay(),ne=Ee>4||Ee===0?Ox.ceil(ne):Ox(ne),ne=J0.offset(ne,(K.V-1)*7),K.y=ne.getUTCFullYear(),K.m=ne.getUTCMonth(),K.d=ne.getUTCDate()+(K.w+6)%7):(ne=hj(lm(K.y,0,1)),Ee=ne.getDay(),ne=Ee>4||Ee===0?Ix.ceil(ne):Ix(ne),ne=Qp.offset(ne,(K.V-1)*7),K.y=ne.getFullYear(),K.m=ne.getMonth(),K.d=ne.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Ee="Z"in K?mj(lm(K.y,0,1)).getUTCDay():hj(lm(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Ee+5)%7:K.w+K.U*7-(Ee+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,mj(K)):hj(K)}}function k(ae,Re,Ie,K){for(var ee=0,ne=Re.length,Ee=Ie.length,Ue,Qe;ee<ne;){if(K>=Ee)return-1;if(Ue=Re.charCodeAt(ee++),Ue===37){if(Ue=Re.charAt(ee++),Qe=B[Ue in M4?Re.charAt(ee++):Ue],!Qe||(K=Qe(ae,Ie,K))<0)return-1}else if(Ue!=Ie.charCodeAt(K++))return-1}return K}function I(ae,Re,Ie){var K=h.exec(Re.slice(Ie));return K?(ae.p=m.get(K[0].toLowerCase()),Ie+K[0].length):-1}function L(ae,Re,Ie){var K=b.exec(Re.slice(Ie));return K?(ae.w=j.get(K[0].toLowerCase()),Ie+K[0].length):-1}function V(ae,Re,Ie){var K=g.exec(Re.slice(Ie));return K?(ae.w=y.get(K[0].toLowerCase()),Ie+K[0].length):-1}function q(ae,Re,Ie){var K=T.exec(Re.slice(Ie));return K?(ae.m=O.get(K[0].toLowerCase()),Ie+K[0].length):-1}function M(ae,Re,Ie){var K=E.exec(Re.slice(Ie));return K?(ae.m=A.get(K[0].toLowerCase()),Ie+K[0].length):-1}function ce(ae,Re,Ie){return k(ae,e,Re,Ie)}function me(ae,Re,Ie){return k(ae,n,Re,Ie)}function G(ae,Re,Ie){return k(ae,r,Re,Ie)}function X(ae){return o[ae.getDay()]}function se(ae){return a[ae.getDay()]}function be(ae){return d[ae.getMonth()]}function Y(ae){return u[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function Q(ae){return 1+~~(ae.getMonth()/3)}function ue(ae){return o[ae.getUTCDay()]}function ge(ae){return a[ae.getUTCDay()]}function pe(ae){return d[ae.getUTCMonth()]}function Ne(ae){return u[ae.getUTCMonth()]}function Ae(ae){return i[+(ae.getUTCHours()>=12)]}function Le(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Re=$(ae+="",C);return Re.toString=function(){return ae},Re},parse:function(ae){var Re=N(ae+="",!1);return Re.toString=function(){return ae},Re},utcFormat:function(ae){var Re=$(ae+="",U);return Re.toString=function(){return ae},Re},utcParse:function(ae){var Re=N(ae+="",!0);return Re.toString=function(){return ae},Re}}}var M4={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,ghe=/^%/,yhe=/[\\^$*+?|[\]().{}]/g;function Mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function vhe(t){return t.replace(yhe,"\\$&")}function cm(t){return new RegExp("^(?:"+t.map(vhe).join("|")+")","i")}function um(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xhe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bhe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function whe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _he(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jhe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function L4(t,e,n){var r=Tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function V4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ehe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ahe(t,e,n){var r=Tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nhe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function z4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function She(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function U4(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function The(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function khe(t,e,n){var r=Tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Che(t,e,n){var r=Tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Phe(t,e,n){var r=Tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ihe(t,e,n){var r=ghe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ohe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Rhe(t,e,n){var r=Tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function B4(t,e){return Mt(t.getDate(),e,2)}function Dhe(t,e){return Mt(t.getHours(),e,2)}function Mhe(t,e){return Mt(t.getHours()%12||12,e,2)}function Lhe(t,e){return Mt(1+Qp.count(zo(t),t),e,3)}function X8(t,e){return Mt(t.getMilliseconds(),e,3)}function Vhe(t,e){return X8(t,e)+"000"}function zhe(t,e){return Mt(t.getMonth()+1,e,2)}function Uhe(t,e){return Mt(t.getMinutes(),e,2)}function Bhe(t,e){return Mt(t.getSeconds(),e,2)}function $he(t){var e=t.getDay();return e===0?7:e}function Fhe(t,e){return Mt(eb.count(zo(t)-1,t),e,2)}function Z8(t){var e=t.getDay();return e>=4||e===0?_f(t):_f.ceil(t)}function qhe(t,e){return t=Z8(t),Mt(_f.count(zo(t),t)+(zo(t).getDay()===4),e,2)}function Hhe(t){return t.getDay()}function Khe(t,e){return Mt(Ix.count(zo(t)-1,t),e,2)}function Ghe(t,e){return Mt(t.getFullYear()%100,e,2)}function Whe(t,e){return t=Z8(t),Mt(t.getFullYear()%100,e,2)}function Yhe(t,e){return Mt(t.getFullYear()%1e4,e,4)}function Qhe(t,e){var n=t.getDay();return t=n>=4||n===0?_f(t):_f.ceil(t),Mt(t.getFullYear()%1e4,e,4)}function Xhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mt(e/60|0,"0",2)+Mt(e%60,"0",2)}function $4(t,e){return Mt(t.getUTCDate(),e,2)}function Zhe(t,e){return Mt(t.getUTCHours(),e,2)}function Jhe(t,e){return Mt(t.getUTCHours()%12||12,e,2)}function eme(t,e){return Mt(1+J0.count(Uo(t),t),e,3)}function J8(t,e){return Mt(t.getUTCMilliseconds(),e,3)}function tme(t,e){return J8(t,e)+"000"}function nme(t,e){return Mt(t.getUTCMonth()+1,e,2)}function rme(t,e){return Mt(t.getUTCMinutes(),e,2)}function ime(t,e){return Mt(t.getUTCSeconds(),e,2)}function ame(t){var e=t.getUTCDay();return e===0?7:e}function sme(t,e){return Mt(tb.count(Uo(t)-1,t),e,2)}function eB(t){var e=t.getUTCDay();return e>=4||e===0?jf(t):jf.ceil(t)}function ome(t,e){return t=eB(t),Mt(jf.count(Uo(t),t)+(Uo(t).getUTCDay()===4),e,2)}function lme(t){return t.getUTCDay()}function cme(t,e){return Mt(Ox.count(Uo(t)-1,t),e,2)}function ume(t,e){return Mt(t.getUTCFullYear()%100,e,2)}function dme(t,e){return t=eB(t),Mt(t.getUTCFullYear()%100,e,2)}function fme(t,e){return Mt(t.getUTCFullYear()%1e4,e,4)}function hme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jf(t):jf.ceil(t),Mt(t.getUTCFullYear()%1e4,e,4)}function mme(){return"+0000"}function F4(){return"%"}function q4(t){return+t}function H4(t){return Math.floor(+t/1e3)}var kd,tB,nB;pme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pme(t){return kd=phe(t),tB=kd.format,kd.parse,nB=kd.utcFormat,kd.utcParse,kd}function gme(t){return new Date(t)}function yme(t){return t instanceof Date?+t:+new Date(+t)}function kT(t,e,n,r,i,a,o,u,d,h){var m=pT(),g=m.invert,y=m.domain,b=h(".%L"),j=h(":%S"),E=h("%I:%M"),A=h("%I %p"),T=h("%a %d"),O=h("%b %d"),C=h("%B"),U=h("%Y");function B($){return(d($)<$?b:u($)<$?j:o($)<$?E:a($)<$?A:r($)<$?i($)<$?T:O:n($)<$?C:U)($)}return m.invert=function($){return new Date(g($))},m.domain=function($){return arguments.length?y(Array.from($,yme)):y().map(gme)},m.ticks=function($){var N=y();return t(N[0],N[N.length-1],$??10)},m.tickFormat=function($,N){return N==null?B:h(N)},m.nice=function($){var N=y();return(!$||typeof $.range!="function")&&($=e(N[0],N[N.length-1],$??10)),$?y($8(N,$)):m},m.copy=function(){return Yp(m,kT(t,e,n,r,i,a,o,u,d,h))},m}function vme(){return Ba.apply(kT(hhe,mhe,zo,ST,eb,Qp,AT,jT,lu,tB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xme(){return Ba.apply(kT(dhe,fhe,Uo,TT,tb,J0,NT,ET,lu,nB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nb(){var t=0,e=1,n,r,i,a,o=fi,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(o=g,h):o};function m(g){return function(y){var b,j;return arguments.length?([b,j]=y,o=g(b,j),h):[o(0),o(1)]}}return h.range=m(Hf),h.rangeRound=m(mT),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function xc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rB(){var t=vc(nb()(fi));return t.copy=function(){return xc(t,rB())},Xo.apply(t,arguments)}function iB(){var t=vT(nb()).domain([1,10]);return t.copy=function(){return xc(t,iB()).base(t.base())},Xo.apply(t,arguments)}function aB(){var t=xT(nb());return t.copy=function(){return xc(t,aB()).constant(t.constant())},Xo.apply(t,arguments)}function CT(){var t=bT(nb());return t.copy=function(){return xc(t,CT()).exponent(t.exponent())},Xo.apply(t,arguments)}function bme(){return CT.apply(null,arguments).exponent(.5)}function sB(){var t=[],e=fi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>afe(t,a/r))},n.copy=function(){return sB(e).domain(t)},Xo.apply(n,arguments)}function rb(){var t=0,e=.5,n=1,r=1,i,a,o,u,d,h=fi,m,g=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+m(E))-a)*(r*E<r*a?u:d),h(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),a=m(e=+e),o=m(n=+n),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(h=E,b):h};function j(E){return function(A){var T,O,C;return arguments.length?([T,O,C]=A,h=Ife(E,[T,O,C]),b):[h(0),h(.5),h(1)]}}return b.range=j(Hf),b.rangeRound=j(mT),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return m=E,i=E(t),a=E(e),o=E(n),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function oB(){var t=vc(rb()(fi));return t.copy=function(){return xc(t,oB())},Xo.apply(t,arguments)}function lB(){var t=vT(rb()).domain([.1,1,10]);return t.copy=function(){return xc(t,lB()).base(t.base())},Xo.apply(t,arguments)}function cB(){var t=xT(rb());return t.copy=function(){return xc(t,cB()).constant(t.constant())},Xo.apply(t,arguments)}function PT(){var t=bT(rb());return t.copy=function(){return xc(t,PT()).exponent(t.exponent())},Xo.apply(t,arguments)}function wme(){return PT.apply(null,arguments).exponent(.5)}const Em=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dT,scaleDiverging:oB,scaleDivergingLog:lB,scaleDivergingPow:PT,scaleDivergingSqrt:wme,scaleDivergingSymlog:cB,scaleIdentity:B8,scaleImplicit:cA,scaleLinear:U8,scaleLog:F8,scaleOrdinal:uT,scalePoint:lfe,scalePow:wT,scaleQuantile:K8,scaleQuantize:G8,scaleRadial:H8,scaleSequential:rB,scaleSequentialLog:iB,scaleSequentialPow:CT,scaleSequentialQuantile:sB,scaleSequentialSqrt:bme,scaleSequentialSymlog:aB,scaleSqrt:the,scaleSymlog:q8,scaleThreshold:W8,scaleTime:vme,scaleUtc:xme,tickFormat:z8},Symbol.toStringTag,{value:"Module"}));var bc=t=>t.chartData,ib=re([bc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ab=(t,e,n,r)=>r?ib(t):bc(t);function Pu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ni(e)&&ni(n))return!0}return!1}function K4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uB(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(ni(n))i=n;else if(typeof n=="function")return;if(ni(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Pu(o))return o}}function _me(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Pu(r))return K4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,u;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Ge(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&kM.test(i)){var d=kM.exec(i);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[0]-h}}else o=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(Ge(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&CM.test(a)){var m=CM.exec(a);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[1]+g}}else u=e?.[1];var y=[o,u];if(Pu(y))return e==null?y:K4(y,e,n)}}}var Kf=1e9,jme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OT,jn=!0,Va="[DecimalError] ",gu=Va+"Invalid argument: ",IT=Va+"Exponent out of range: ",Gf=Math.floor,tu=Math.pow,Eme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qi,wr=1e7,xn=7,dB=9007199254740991,Rx=Gf(dB/xn),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*xn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(t){return To(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,n=e.constructor;return on(To(e,new n(t),0,1),n.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return ar(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qi))throw Error(Va+"NaN");if(n.s<1)throw Error(Va+(n.s?"NaN":"-Infinity"));return n.eq(Qi)?new r(0):(jn=!1,e=To(hp(n,a),hp(t,a),a),jn=!0,on(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mB(e,t):fB(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Va+"NaN");return n.s?(jn=!1,e=To(n,t,0,1).times(t),jn=!0,n.minus(e)):on(new r(n),i)};ze.naturalExponential=ze.exp=function(){return hB(this)};ze.naturalLogarithm=ze.ln=function(){return hp(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fB(e,t):mB(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gu+t);if(e=ar(i)+1,r=i.d.length-1,n=r*xn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ze.squareRoot=ze.sqrt=function(){var t,e,n,r,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Va+"NaN")}for(t=ar(u),jn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ps(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(To(u,a,o+2)).times(.5),Ps(a.d).slice(0,o)===(e=Ps(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(on(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return jn=!0,on(r,n)};ze.times=ze.mul=function(t){var e,n,r,i,a,o,u,d,h,m=this,g=m.constructor,y=m.d,b=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,d=y.length,h=b.length,d<h&&(a=y,y=b,b=a,o=d,d=h,h=o),a=[],o=d+h,r=o;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=a[i]+b[r]*y[i-r-1]+e,a[i--]=u%wr|0,e=u/wr|0;a[i]=(a[i]+e)%wr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,jn?on(t,g.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(qs(t,0,Kf),e===void 0?e=r.rounding:qs(e,0,8),on(n,t+ar(n)+1,e))};ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Iu(r,!0):(qs(t,0,Kf),e===void 0?e=i.rounding:qs(e,0,8),r=on(new i(r),t+1,e),n=Iu(r,!0,t+1)),n};ze.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Iu(i):(qs(t,0,Kf),e===void 0?e=a.rounding:qs(e,0,8),r=on(new a(i),t+ar(i)+1,e),n=Iu(r.abs(),!1,t+ar(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return on(new e(t),ar(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,n,r,i,a,o,u=this,d=u.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(Qi);if(u=new d(u),!u.s){if(t.s<1)throw Error(Va+"Infinity");return u}if(u.eq(Qi))return u;if(r=d.precision,t.eq(Qi))return on(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=m<0?-m:m)<=dB){for(i=new d(Qi),e=Math.ceil(r/xn+4),jn=!1;n%2&&(i=i.times(u),W4(i.d,e)),n=Gf(n/2),n!==0;)u=u.times(u),W4(u.d,e);return jn=!0,t.s<0?new d(Qi).div(i):on(i,r)}}else if(a<0)throw Error(Va+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,jn=!1,i=t.times(hp(u,r+h)),jn=!0,i=hB(i),i.s=a,i};ze.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ar(i),r=Iu(i,n<=a.toExpNeg||n>=a.toExpPos)):(qs(t,1,Kf),e===void 0?e=a.rounding:qs(e,0,8),i=on(new a(i),t,e),n=ar(i),r=Iu(i,t<=n||n<=a.toExpNeg,t)),r};ze.toSignificantDigits=ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(qs(t,1,Kf),e===void 0?e=r.rounding:qs(e,0,8)),on(new r(n),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ar(t),n=t.constructor;return Iu(t,e<=n.toExpNeg||e>=n.toExpPos)};function fB(t,e){var n,r,i,a,o,u,d,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),jn?on(e,g):e;if(d=t.d,h=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,u=h.length):(r=h,i=o,u=d.length),o=Math.ceil(g/xn),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=h.length,u-a<0&&(a=u,r=h,h=d,d=r),n=0;a;)n=(d[--a]=d[a]+h[a]+n)/wr|0,d[a]%=wr;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,jn?on(e,g):e}function qs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gu+t)}function Ps(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=xn-r.length,n&&(a+=Ol(n)),a+=r;o=t[e],r=o+"",n=xn-r.length,n&&(a+=Ol(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var To=(function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%wr|0,o=a/wr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*wr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,d,h,m,g,y,b,j,E,A,T,O,C,U,B,$,N,k,I=r.constructor,L=r.s==i.s?1:-1,V=r.d,q=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Va+"Division by zero");for(d=r.e-i.e,N=q.length,B=V.length,b=new I(L),j=b.d=[],h=0;q[h]==(V[h]||0);)++h;if(q[h]>(V[h]||0)&&--d,a==null?O=a=I.precision:o?O=a+(ar(r)-ar(i))+1:O=a,O<0)return new I(0);if(O=O/xn+2|0,h=0,N==1)for(m=0,q=q[0],O++;(h<B||m)&&O--;h++)C=m*wr+(V[h]||0),j[h]=C/q|0,m=C%q|0;else{for(m=wr/(q[0]+1)|0,m>1&&(q=t(q,m),V=t(V,m),N=q.length,B=V.length),U=N,E=V.slice(0,N),A=E.length;A<N;)E[A++]=0;k=q.slice(),k.unshift(0),$=q[0],q[1]>=wr/2&&++$;do m=0,u=e(q,E,N,A),u<0?(T=E[0],N!=A&&(T=T*wr+(E[1]||0)),m=T/$|0,m>1?(m>=wr&&(m=wr-1),g=t(q,m),y=g.length,A=E.length,u=e(g,E,y,A),u==1&&(m--,n(g,N<y?k:q,y))):(m==0&&(u=m=1),g=q.slice()),y=g.length,y<A&&g.unshift(0),n(E,g,A),u==-1&&(A=E.length,u=e(q,E,N,A),u<1&&(m++,n(E,N<A?k:q,A))),A=E.length):u===0&&(m++,E=[0]),j[h++]=m,u&&E[0]?E[A++]=V[U]||0:(E=[V[U]],A=1);while((U++<B||E[0]!==void 0)&&O--)}return j[0]||j.shift(),b.e=d,on(b,o?a+ar(b)+1:a)}})();function hB(t,e){var n,r,i,a,o,u,d=0,h=0,m=t.constructor,g=m.precision;if(ar(t)>16)throw Error(IT+ar(t));if(!t.s)return new m(Qi);for(jn=!1,u=g,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(r=Math.log(tu(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new m(Qi),m.precision=u;;){if(i=on(i.times(t),u),n=n.times(++d),o=a.plus(To(i,n,u)),Ps(o.d).slice(0,u)===Ps(a.d).slice(0,u)){for(;h--;)a=on(a.times(a),u);return m.precision=g,e==null?(jn=!0,on(a,g)):a}a=o}}function ar(t){for(var e=t.e*xn,n=t.d[0];n>=10;n/=10)e++;return e}function pj(t,e,n){if(e>t.LN10.sd())throw jn=!0,n&&(t.precision=n),Error(Va+"LN10 precision limit exceeded");return on(new t(t.LN10),e)}function Ol(t){for(var e="";t--;)e+="0";return e}function hp(t,e){var n,r,i,a,o,u,d,h,m,g=1,y=10,b=t,j=b.d,E=b.constructor,A=E.precision;if(b.s<1)throw Error(Va+(b.s?"NaN":"-Infinity"));if(b.eq(Qi))return new E(0);if(e==null?(jn=!1,h=A):h=e,b.eq(10))return e==null&&(jn=!0),pj(E,h);if(h+=y,E.precision=h,n=Ps(j),r=n.charAt(0),a=ar(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=Ps(b.d),r=n.charAt(0),g++;a=ar(b),r>1?(b=new E("0."+n),a++):b=new E(r+"."+n.slice(1))}else return d=pj(E,h+2,A).times(a+""),b=hp(new E(r+"."+n.slice(1)),h-y).plus(d),E.precision=A,e==null?(jn=!0,on(b,A)):b;for(u=o=b=To(b.minus(Qi),b.plus(Qi),h),m=on(b.times(b),h),i=3;;){if(o=on(o.times(m),h),d=u.plus(To(o,new E(i),h)),Ps(d.d).slice(0,h)===Ps(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(pj(E,h+2,A).times(a+""))),u=To(u,new E(g),h),E.precision=A,e==null?(jn=!0,on(u,A)):u;u=d,i+=2}}function G4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Gf(n/xn),t.d=[],r=(n+1)%xn,n<0&&(r+=xn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=xn;r<i;)t.d.push(+e.slice(r,r+=xn));e=e.slice(r),r=xn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jn&&(t.e>Rx||t.e<-Rx))throw Error(IT+n)}else t.s=0,t.e=0,t.d=[0];return t}function on(t,e,n){var r,i,a,o,u,d,h,m,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=xn,i=e,h=g[m=0];else{if(m=Math.ceil((r+1)/xn),a=g.length,m>=a)return t;for(h=a=g[m],o=1;a>=10;a/=10)o++;r%=xn,i=r-xn+o}if(n!==void 0&&(a=tu(10,o-i-1),u=h/a%10|0,d=e<0||g[m+1]!==void 0||h%a,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/tu(10,o-i):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(a=ar(t),g.length=1,e=e-a-1,g[0]=tu(10,(xn-e%xn)%xn),t.e=Gf(-e/xn)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,a=1,m--):(g.length=m+1,a=tu(10,xn-r),g[m]=i>0?(h/tu(10,o-i)%tu(10,i)|0)*a:0),d)for(;;)if(m==0){(g[0]+=a)==wr&&(g[0]=1,++t.e);break}else{if(g[m]+=a,g[m]!=wr)break;g[m--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(jn&&(t.e>Rx||t.e<-Rx))throw Error(IT+ar(t));return t}function mB(t,e){var n,r,i,a,o,u,d,h,m,g,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),jn?on(e,b):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),o=h-r,o){for(m=o<0,m?(n=d,o=-o,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(b/xn),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){m=d[i]<g[i];break}o=0}for(m&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=wr-1;--d[a],d[i]+=wr}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,jn?on(e,b):e):new y(0)}function Iu(t,e,n){var r,i=ar(t),a=Ps(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ol(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ol(-i-1)+a,n&&(r=n-o)>0&&(a+=Ol(r))):i>=o?(a+=Ol(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ol(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ol(r))),t.s<0?"-"+a:a}function W4(t,e){if(t.length>e)return t.length=e,!0}function pB(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return G4(o,a.toString())}else if(typeof a!="string")throw Error(gu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Eme.test(a))G4(o,a);else throw Error(gu+a)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pB,i.config=i.set=Ame,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ame(t){if(!t||typeof t!="object")throw Error(Va+"Object expected");var e,n,r,i=["precision",1,Kf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Gf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gu+n+": "+r);return this}var OT=pB(jme);Qi=new OT(1);const Wt=OT;var Nme=t=>t,gB={},yB=t=>t===gB,Y4=t=>function e(){return arguments.length===0||arguments.length===1&&yB(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},vB=(t,e)=>t===1?e:Y4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==gB).length;return a>=t?e(...r):vB(t-a,Y4(function(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];var h=r.map(m=>yB(m)?u.shift():m);return e(...h,...u)}))}),sb=t=>vB(t.length,t),hA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Sme=sb((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Tme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Nme;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((u,d)=>d(u),a(...arguments))}},mA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),xB=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,u)=>{var d;return o===((d=e)===null||d===void 0?void 0:d[u])})||(e=i,n=t(...i)),n}};function bB(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function wB(t,e,n){for(var r=new Wt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}sb((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});sb((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});sb((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var _B=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},jB=(t,e,n)=>{if(t.lte(0))return new Wt(0);var r=bB(t.toNumber()),i=new Wt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new Wt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=u.mul(i);return e?new Wt(d.toNumber()):new Wt(Math.ceil(d.toNumber()))},kme=(t,e,n)=>{var r=new Wt(1),i=new Wt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Wt(10).pow(bB(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));var o=Math.floor((e-1)/2),u=Tme(Sme(d=>i.add(new Wt(d-o).mul(r)).toNumber()),hA);return u(0,e)},EB=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var o=jB(new Wt(n).sub(e).div(r-1),i,a),u;e<=0&&n>=0?u=new Wt(0):(u=new Wt(e).add(n).div(2),u=u.sub(new Wt(u).mod(o)));var d=Math.ceil(u.sub(e).div(o).toNumber()),h=Math.ceil(new Wt(n).sub(u).div(o).toNumber()),m=d+h+1;return m>r?EB(e,n,r,i,a+1):(m<r&&(h=n>0?h+(r-m):h,d=n>0?d:d+(r-m)),{step:o,tickMin:u.sub(new Wt(d).mul(o)),tickMax:u.add(new Wt(h).mul(o))})};function Cme(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,u]=_B([e,n]);if(o===-1/0||u===1/0){var d=u===1/0?[o,...hA(0,r-1).map(()=>1/0)]:[...hA(0,r-1).map(()=>-1/0),u];return e>n?mA(d):d}if(o===u)return kme(o,r,i);var{step:h,tickMin:m,tickMax:g}=EB(o,u,a,i,0),y=wB(m,g.add(new Wt(.1).mul(h)),h);return e>n?mA(y):y}function Pme(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=_B([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var u=Math.max(e,2),d=jB(new Wt(o).sub(a).div(u-1),i,0),h=[...wB(new Wt(a),new Wt(o),d),o];return i===!1&&(h=h.map(m=>Math.round(m))),n>r?mA(h):h}var Ime=xB(Cme),Ome=xB(Pme),AB=t=>t.rootProps.maxBarSize,Rme=t=>t.rootProps.barGap,NB=t=>t.rootProps.barCategoryGap,Dme=t=>t.rootProps.barSize,Xp=t=>t.rootProps.stackOffset,RT=t=>t.options.chartName,DT=t=>t.rootProps.syncId,SB=t=>t.rootProps.syncMethod,MT=t=>t.options.eventEmitter,ks={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},ki={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},ob=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Mme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:ks.reversed,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:ks.type,unit:void 0},Lme={allowDataOverflow:ki.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ki.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ki.scale,tick:ki.tick,tickCount:ki.tickCount,ticks:void 0,type:ki.type,unit:void 0},Vme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zme={allowDataOverflow:ki.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ki.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ki.scale,tick:ki.tick,tickCount:ki.tickCount,ticks:void 0,type:"category",unit:void 0},Wf=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Vme:Mme,Zp=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?zme:Lme,lb=t=>t.polarOptions,LT=re([Wo,Yo,dr],a8),TB=re([lb,LT],(t,e)=>{if(t!=null)return ei(t.innerRadius,e,0)}),kB=re([lb,LT],(t,e)=>{if(t!=null)return ei(t.outerRadius,e,e*.8)}),Ume=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},CB=re([lb],Ume),Bme=re([Wf,CB],ob),PB=re([LT,TB,kB],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),$me=re([Zp,PB],ob),Yf=re([xt,lb,TB,kB,Wo,Yo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:u,startAngle:d,endAngle:h}=e;return{cx:ei(o,i,i/2),cy:ei(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),un=(t,e)=>e,Jp=(t,e,n)=>n;function VT(t){return t?.id}var hr=t=>{var e=xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Qf=t=>t.tooltip.settings.axisId,mr=t=>{var e=hr(t),n=Qf(t);return Xf(t,e,n)},IB=re([mr],t=>t?.dataKey);function OB(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var m=VT(u);h.forEach((g,y)=>{var b=a==null||i?y:String(rn(g,a,null)),j=rn(g,u.dataKey,0),E;o.has(b)?E=o.get(b):E={},Object.assign(E,{[m]:j}),o.set(b,E)})}}),Array.from(o.values())}function cb(t){return t.stackId!=null&&t.dataKey!=null}var ub=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function db(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){Fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fme(t,e,n){return(e=qme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qme(t){var e=Hme(t,"string");return typeof e=="symbol"?e:e+""}function Hme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pA=[0,"auto"],Ki={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RB=(t,e)=>t.cartesianAxis.xAxis[e],Ws=(t,e)=>{var n=RB(t,e);return n??Ki},Gi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hp},DB=(t,e)=>t.cartesianAxis.yAxis[e],Ys=(t,e)=>{var n=DB(t,e);return n??Gi},Kme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zT=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Kme},On=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"zAxis":return zT(t,n);case"angleAxis":return Wf(t,n);case"radiusAxis":return Zp(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Gme=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xf=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Ys(t,n);case"angleAxis":return Wf(t,n);case"radiusAxis":return Zp(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},MB=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function UT(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var fb=t=>t.graphicalItems.cartesianItems,Wme=re([un,Jp],UT),BT=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),eg=re([fb,On,Wme],BT,{memoizeOptions:{resultEqualityCheck:db}}),LB=re([eg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(cb)),VB=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Yme=re([eg],VB),$T=t=>t.map(e=>e.data).filter(Boolean).flat(1),Qme=re([eg],$T,{memoizeOptions:{resultEqualityCheck:db}}),FT=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},qT=re([Qme,ab],FT),HT=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:rn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:rn(i,r)}))):t.map(r=>({value:r})),hb=re([qT,On,eg],HT);function zB(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function wv(t){if(Ma(t)||t instanceof Date){var e=Number(t);if(ni(e))return e}}function X4(t){if(Array.isArray(t)){var e=[wv(t[0]),wv(t[1])];return Pu(e)?e:void 0}var n=wv(t);if(n!=null)return[n,n]}function Zf(t){return t.map(wv).filter(dde)}function Xme(t,e,n){return!n||typeof e!="number"||Li(e)?[]:n.length?Zf(n.flatMap(r=>{var i=rn(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ni(a)||!ni(o)))return[e-a,e+o]})):[]}var Zme=re([LB,ab,mr],OB),UB=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,u]=a,d=u.map(VT);return[o,{stackedData:Rce(t,d,n),graphicalItems:u}]}))},gA=re([Zme,LB,Xp],UB),BB=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=zce(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Jme=re([On],t=>t.allowDataOverflow),KT=t=>{var e;if(t==null||!("domain"in t))return pA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Zf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:pA},GT=re([On],KT),WT=re([GT,Jme],uB),epe=re([gA,bc,un,WT],BB,{memoizeOptions:{resultEqualityCheck:ub}}),mb=t=>t.errorBars,tpe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>zB(n,r)),Mx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},YT=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var h,m,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(T=>zB(i,T)),y=rn(u,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),b=Xme(u,y,g);if(b.length>=2){var j=Math.min(...b),E=Math.max(...b);(a==null||j<a)&&(a=j),(o==null||E>o)&&(o=E)}var A=X4(y);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),o=o==null?A[1]:Math.max(o,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=X4(rn(u,e.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),ni(a)&&ni(o))return[a,o]},npe=re([qT,On,Yme,mb,un],YT,{memoizeOptions:{resultEqualityCheck:ub}});function rpe(t){var{value:e}=t;if(Ma(e)||e instanceof Date)return e}var ipe=(t,e,n)=>{var r=t.map(rpe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&g9(r))?k8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},$B=t=>t.referenceElements.dots,Jf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ape=re([$B,un,Jp],Jf),FB=t=>t.referenceElements.areas,spe=re([FB,un,Jp],Jf),qB=t=>t.referenceElements.lines,ope=re([qB,un,Jp],Jf),HB=(t,e)=>{var n=Zf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lpe=re(ape,un,HB),KB=(t,e)=>{var n=Zf(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cpe=re([spe,un],KB),GB=(t,e)=>{var n=Zf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},upe=re(ope,un,GB),dpe=re(lpe,upe,cpe,(t,e,n)=>Mx(t,n,e)),QT=(t,e,n,r,i,a,o,u)=>{if(n!=null)return n;var d=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",h=d?Mx(r,a,i):Mx(a,i);return _me(e,h,t.allowDataOverflow)},fpe=re([On,GT,WT,epe,npe,dpe,xt,un],QT,{memoizeOptions:{resultEqualityCheck:ub}}),hpe=[0,1],XT=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:d}=t,h=Go(e,a);return h&&u==null?k8(0,n.length):d==="category"?ipe(r,t,h):i==="expand"?hpe:o}},ZT=re([On,xt,qT,hb,Xp,un,fpe],XT),WB=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat($p(a));return u in Em?u:"point"}}},wc=re([On,xt,MB,RT,un],WB);function mpe(t){if(t!=null){if(t in Em)return Em[t]();var e="scale".concat($p(t));if(e in Em)return Em[e]()}}function pb(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=mpe(e);if(i!=null){var a=i.domain(n).range(r);return kce(a),a}}}var JT=(t,e,n)=>{var r=KT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Pu(t))return Ime(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Pu(t))return Ome(t,e.tickCount,e.allowDecimals)}},ek=re([ZT,Xf,wc],JT),tk=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Pu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],u=n[n.length-1];return[Math.min(i,a),Math.max(o,u)]}return e},ppe=re([On,ZT,ek,un],tk),gpe=re(hb,On,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Zf(t.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),YB=re(gpe,xt,NB,dr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ni(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=ei(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),ype=(t,e)=>{var n=Ws(t,e);return n==null||typeof n.padding!="string"?0:YB(t,"xAxis",e,n.padding)},vpe=(t,e)=>{var n=Ys(t,e);return n==null||typeof n.padding!="string"?0:YB(t,"yAxis",e,n.padding)},xpe=re(Ws,ype,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),bpe=re(Ys,vpe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),wpe=re([dr,xpe,Y0,W0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),_pe=re([dr,xt,bpe,Y0,W0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),tg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return wpe(t,n,r);case"yAxis":return _pe(t,n,r);case"zAxis":return(i=zT(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return CB(t);case"radiusAxis":return PB(t,n);default:return}},QB=re([On,tg],ob),rc=re([On,wc,ppe,QB],pb);re([eg,mb,un],tpe);function XB(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var gb=(t,e)=>e,yb=(t,e,n)=>n,jpe=re(K0,gb,yb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(XB)),Epe=re(G0,gb,yb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(XB)),ZB=(t,e)=>({width:t.width,height:e.height}),Ape=(t,e)=>{var n=typeof e.width=="number"?e.width:Hp;return{width:n,height:t.height}},JB=re(dr,Ws,ZB),Npe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Spe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Tpe=re(Yo,dr,jpe,gb,yb,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var d=ZB(e,u);o==null&&(o=Npe(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=o-Number(h)*d.height,o+=(h?-1:1)*d.height}),a}),kpe=re(Wo,dr,Epe,gb,yb,(t,e,n,r,i)=>{var a={},o;return n.forEach(u=>{var d=Ape(e,u);o==null&&(o=Spe(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=o-Number(h)*d.width,o+=(h?-1:1)*d.width}),a}),Cpe=(t,e)=>{var n=Ws(t,e);if(n!=null)return Tpe(t,n.orientation,n.mirror)},Ppe=re([dr,Ws,Cpe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ipe=(t,e)=>{var n=Ys(t,e);if(n!=null)return kpe(t,n.orientation,n.mirror)},Ope=re([dr,Ys,Ipe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),e$=re(dr,Ys,(t,e)=>{var n=typeof e.width=="number"?e.width:Hp;return{width:n,height:t.height}}),Z4=(t,e,n)=>{switch(e){case"xAxis":return JB(t,n).width;case"yAxis":return e$(t,n).height;default:return}},t$=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,u=Go(t,r),d=e.map(h=>h.value);if(o&&u&&a==="category"&&i&&g9(d))return d}},ng=re([xt,hb,On,un],t$),nk=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Go(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(u=>u.value)}},rk=re([xt,hb,Xf,un],nk),J4=re([xt,Gme,wc,rc,ng,rk,tg,ek,un],(t,e,n,r,i,a,o,u,d)=>{if(e==null)return null;var h=Go(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:o,realScaleType:n,scale:r}}),n$=(t,e,n,r,i,a,o,u,d)=>{if(!(e==null||r==null)){var h=Go(t,d),{type:m,ticks:g,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=m==="category"&&r.bandwidth?r.bandwidth()/b:0;j=d==="angleAxis"&&a!=null&&a.length>=2?Er(a[0]-a[1])*2*j:j;var E=g||i;if(E){var A=E.map((T,O)=>{var C=o?o.indexOf(T):T;return{index:O,coordinate:r(C)+j,value:T,offset:j}});return A.filter(T=>!Li(T.coordinate))}return h&&u?u.map((T,O)=>({coordinate:r(T)+j,value:T,index:O,offset:j})):r.ticks?r.ticks(y).map(T=>({coordinate:r(T)+j,value:T,offset:j})):r.domain().map((T,O)=>({coordinate:r(T)+j,value:o?o[T]:T,index:O,offset:j}))}},r$=re([xt,Xf,wc,rc,ek,tg,ng,rk,un],n$),i$=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Go(t,o),{tickCount:d}=e,h=0;return h=o==="angleAxis"&&r?.length>=2?Er(r[0]-r[1])*2*h:h,u&&a?a.map((m,g)=>({coordinate:n(m)+h,value:m,index:g,offset:h})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,g)=>({coordinate:n(m)+h,value:i?i[m]:m,index:g,offset:h}))}},ic=re([xt,Xf,rc,tg,ng,rk,un],i$),ac=re(On,rc,(t,e)=>{if(!(t==null||e==null))return Dx(Dx({},t),{},{scale:e})}),Rpe=re([On,wc,ZT,QB],pb);re((t,e,n)=>zT(t,n),Rpe,(t,e)=>{if(!(t==null||e==null))return Dx(Dx({},t),{},{scale:e})});var Dpe=re([xt,K0,G0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),a$=t=>t.options.defaultTooltipEventType,s$=t=>t.options.validateTooltipEventTypes;function o$(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ik(t,e){var n=a$(t),r=s$(t);return o$(e,n,r)}function Mpe(t){return Me(e=>ik(e,t))}var l$=(t,e)=>{var n,r=Number(e);if(!(Li(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Lpe=t=>t.tooltip.settings,Vl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Vpe={itemInteraction:{click:Vl,hover:Vl},axisInteraction:{click:Vl,hover:Vl},keyboardInteraction:Vl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},c$=aa({name:"tooltip",initialState:Vpe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:oi()},removeTooltipEntrySettings:{reducer(t,e){var n=So(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:oi()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:zpe,removeTooltipEntrySettings:Upe,setTooltipSettingsState:Bpe,setActiveMouseOverItemIndex:u$,mouseLeaveItem:$pe,mouseLeaveChart:d$,setActiveClickItemIndex:Fpe,setMouseOverAxisIndex:f$,setMouseClickAxisIndex:qpe,setSyncInteraction:yA,setKeyboardInteraction:vA}=c$.actions,Hpe=c$.reducer;function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){Kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kpe(t,e,n){return(e=Gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gpe(t){var e=Wpe(t,"string");return typeof e=="symbol"?e:e+""}function Wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ype(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Qpe(t){return t.index!=null}var h$=(t,e,n,r)=>{if(e==null)return Vl;var i=Ype(t,e,n);if(i==null)return Vl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Qpe(i)){if(a)return Xy(Xy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Xy(Xy({},Vl),{},{coordinate:i.coordinate})},ak=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ni(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},m$=(t,e,n,r,i,a,o,u)=>{if(!(a==null||u==null)){var d=o[0],h=d==null?void 0:u(d.positions,a);if(h!=null)return h;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},p$=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},rg=t=>t.options.tooltipPayloadSearcher,eh=t=>t.tooltip;function t3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(r){Xpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e,n){return(e=Zpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=Jpe(t,"string");return typeof e=="symbol"?e:e+""}function Jpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ege(t,e){return t??e}var g$=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:m}=n,g=[];return t.reduce((y,b)=>{var j,{dataDefinedOnItem:E,settings:A}=b,T=ege(E,u),O=Array.isArray(T)?o8(T,h,m):T,C=(j=A?.dataKey)!==null&&j!==void 0?j:r,U=A?.nameKey,B;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?B=y9(O,r,i):B=a(O,e,d,U),Array.isArray(B))B.forEach(N=>{var k=n3(n3({},A),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});y.push(PM({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:rn(N.payload,N.dataKey),name:N.name}))});else{var $;y.push(PM({tooltipEntrySettings:A,dataKey:C,payload:B,value:rn(B,C),name:($=rn(B,U))!==null&&$!==void 0?$:A?.name}))}return y},g)}},sk=re([mr,xt,MB,RT,hr],WB),tge=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),nge=re([hr,Qf],UT),ig=re([tge,mr,nge],BT,{memoizeOptions:{resultEqualityCheck:db}}),rge=re([ig],t=>t.filter(cb)),ige=re([ig],$T,{memoizeOptions:{resultEqualityCheck:db}}),th=re([ige,bc],FT),age=re([rge,bc,mr],OB),ok=re([th,mr,ig],HT),y$=re([mr],KT),sge=re([mr],t=>t.allowDataOverflow),v$=re([y$,sge],uB),oge=re([ig],t=>t.filter(cb)),lge=re([age,oge,Xp],UB),cge=re([lge,bc,hr,v$],BB),uge=re([ig],VB),dge=re([th,mr,uge,mb,hr],YT,{memoizeOptions:{resultEqualityCheck:ub}}),fge=re([$B,hr,Qf],Jf),hge=re([fge,hr],HB),mge=re([FB,hr,Qf],Jf),pge=re([mge,hr],KB),gge=re([qB,hr,Qf],Jf),yge=re([gge,hr],GB),vge=re([hge,yge,pge],Mx),xge=re([mr,y$,v$,cge,dge,vge,xt,hr],QT),x$=re([mr,xt,th,ok,Xp,hr,xge],XT),bge=re([x$,mr,sk],JT),wge=re([mr,x$,bge,hr],tk),b$=t=>{var e=hr(t),n=Qf(t),r=!1;return tg(t,e,n,r)},w$=re([mr,b$],ob),_$=re([mr,sk,wge,w$],pb),_ge=re([xt,ok,mr,hr],t$),jge=re([xt,ok,mr,hr],nk),Ege=(t,e,n,r,i,a,o,u)=>{if(e){var{type:d}=e,h=Go(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Er(i[0]-i[1])*2*g:g,h&&o?o.map((y,b)=>({coordinate:r(y)+g,value:y,index:b,offset:g})):r.domain().map((y,b)=>({coordinate:r(y)+g,value:a?a[y]:y,index:b,offset:g}))}}},Zo=re([xt,mr,sk,_$,b$,_ge,jge,hr],Ege),lk=re([a$,s$,Lpe],(t,e,n)=>o$(n.shared,t,e)),j$=t=>t.tooltip.settings.trigger,ck=t=>t.tooltip.settings.defaultIndex,vb=re([eh,lk,j$,ck],h$),sc=re([vb,th],ak),E$=re([Zo,sc],l$),A$=re([vb],t=>{if(t)return t.dataKey}),N$=re([eh,lk,j$,ck],p$),Age=re([Wo,Yo,xt,dr,Zo,ck,N$,rg],m$),Nge=re([vb,Age],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Sge=re([vb],t=>t.active),Tge=re([N$,sc,bc,IB,E$,rg,lk],g$),kge=re([Tge],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){Cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e,n){return(e=Pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oge=()=>Me(mr),Rge=()=>{var t=Oge(),e=Me(Zo),n=Me(_$);return Cu(i3(i3({},t),{},{scale:n}),e)},Dge=()=>Me(RT),uk=(t,e)=>e,S$=(t,e,n)=>n,dk=(t,e,n,r)=>r,Mge=re(Zo,t=>U0(t,e=>e.coordinate)),fk=re([eh,uk,S$,dk],h$),T$=re([fk,th],ak),Lge=(t,e,n)=>{if(e!=null){var r=eh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},k$=re([eh,uk,S$,dk],p$),Lx=re([Wo,Yo,xt,dr,Zo,dk,k$,rg],m$),Vge=re([fk,Lx],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),C$=re(Zo,T$,l$),zge=re([k$,T$,bc,IB,C$,rg,uk],g$),Uge=re([fk],t=>({isActive:t.active,activeIndex:t.index})),Bge=(t,e,n,r,i,a,o,u)=>{if(!(!t||!e||!r||!i||!a)){var d=Uce(t.chartX,t.chartY,e,n,u);if(d){var h=$ce(d,e),m=Sce(h,o,a,r,i),g=Bce(e,a,m,d);return{activeIndex:String(m),activeCoordinate:g}}}};function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(null,arguments)}function a3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(r){$ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ge(t,e,n){return(e=Fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hge(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:u,tooltipEventType:d,chartName:h}=t,m=e,g=n,y=r;if(!u||!m||h!=="ScatterChart"&&d!=="axis")return null;var b,j;if(h==="ScatterChart")b=m,j=ide;else if(h==="BarChart")b=ade(o,m,i,a),j=A8;else if(o==="radial"){var{cx:E,cy:A,radius:T,startAngle:O,endAngle:C}=N8(m);b={cx:E,cy:A,startAngle:O,endAngle:C,innerRadius:T,outerRadius:T},j=T8}else b={points:$de(o,m,i)},j=lT;var U=typeof u=="object"&&"className"in u?u.className:void 0,B=Zy(Zy(Zy(Zy({stroke:"#ccc",pointerEvents:"none"},i),b),Do(u)),{},{payload:g,payloadIndex:y,className:pt("recharts-tooltip-cursor",U)});return x.isValidElement(u)?x.cloneElement(u,B):x.createElement(j,B)}function Kge(t){var e=Rge(),n=g8(),r=Q0(),i=Dge();return x.createElement(Hge,xA({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var P$=x.createContext(null),Gge=()=>x.useContext(P$),gj={exports:{}},s3;function Wge(){return s3||(s3=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function a(d,h,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,g||d,y),j=n?n+h:h;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],b]:d._events[j].push(b):(d._events[j]=b,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)e.call(m,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=n?n+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,j=new Array(b);y<b;y++)j[y]=g[y].fn;return j},u.prototype.listenerCount=function(h){var m=n?n+h:h,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,m,g,y,b,j){var E=n?n+h:h;if(!this._events[E])return!1;var A=this._events[E],T=arguments.length,O,C;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),T){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,g),!0;case 4:return A.fn.call(A.context,m,g,y),!0;case 5:return A.fn.call(A.context,m,g,y,b),!0;case 6:return A.fn.call(A.context,m,g,y,b,j),!0}for(C=1,O=new Array(T-1);C<T;C++)O[C-1]=arguments[C];A.fn.apply(A.context,O)}else{var U=A.length,B;for(C=0;C<U;C++)switch(A[C].once&&this.removeListener(h,A[C].fn,void 0,!0),T){case 1:A[C].fn.call(A[C].context);break;case 2:A[C].fn.call(A[C].context,m);break;case 3:A[C].fn.call(A[C].context,m,g);break;case 4:A[C].fn.call(A[C].context,m,g,y);break;default:if(!O)for(B=1,O=new Array(T-1);B<T;B++)O[B-1]=arguments[B];A[C].fn.apply(A[C].context,O)}}return!0},u.prototype.on=function(h,m,g){return a(this,h,m,g,!1)},u.prototype.once=function(h,m,g){return a(this,h,m,g,!0)},u.prototype.removeListener=function(h,m,g,y){var b=n?n+h:h;if(!this._events[b])return this;if(!m)return o(this,b),this;var j=this._events[b];if(j.fn)j.fn===m&&(!y||j.once)&&(!g||j.context===g)&&o(this,b);else{for(var E=0,A=[],T=j.length;E<T;E++)(j[E].fn!==m||y&&!j[E].once||g&&j[E].context!==g)&&A.push(j[E]);A.length?this._events[b]=A.length===1?A[0]:A:o(this,b)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(gj)),gj.exports}var Yge=Wge();const Qge=za(Yge);var mp=new Qge,bA="recharts.syncEvent.tooltip",o3="recharts.syncEvent.brush";function xb(t,e){if(e){var n=Number.parseInt(e,10);if(!Li(n))return t?.[n]}}var Xge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},I$=aa({name:"options",initialState:Xge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zge=I$.reducer,{createEventEmitter:Jge}=I$.actions;function eye(t){return t.tooltip.syncInteraction}var tye={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},O$=aa({name:"chartData",initialState:tye,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:l3,setDataStartEndIndexes:nye,setComputedData:kke}=O$.actions,rye=O$.reducer,iye=["x","y"];function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aye(t,e,n){return(e=sye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sye(t){var e=oye(t,"string");return typeof e=="symbol"?e:e+""}function oye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lye(t,e){if(t==null)return{};var n,r,i=cye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R$=()=>{};function uye(){var t=Me(DT),e=Me(MT),n=cn(),r=Me(SB),i=Me(Zo),a=Q0(),o=Kp(),u=Me(d=>d.rootProps.className);x.useEffect(()=>{if(t==null)return R$;var d=(h,m,g)=>{if(e!==g&&t===h){if(r==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:j,y:E}=b,A=lye(b,iye),{x:T,y:O,width:C,height:U}=m.payload.sourceViewBox,B=Cd(Cd({},A),{},{x:o.x+(C?(j-T)/C:0)*o.width,y:o.y+(U?(E-O)/U:0)*o.height});n(Cd(Cd({},m),{},{payload:Cd(Cd({},m.payload),{},{coordinate:B})}))}else n(m);return}if(i!=null){var $;if(typeof r=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},k=r(i,N);$=i[k]}else r==="value"&&($=i.find(G=>String(G.value)===m.payload.label));var{coordinate:I}=m.payload;if($==null||m.payload.active===!1||I==null||o==null){n(yA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:L,y:V}=I,q=Math.min(L,o.x+o.width),M=Math.min(V,o.y+o.height),ce={x:a==="horizontal"?$.coordinate:q,y:a==="horizontal"?M:$.coordinate},me=yA({active:m.payload.active,coordinate:ce,dataKey:m.payload.dataKey,index:String($.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(me)}}};return mp.on(bA,d),()=>{mp.off(bA,d)}},[u,n,e,t,r,i,a,o])}function dye(){var t=Me(DT),e=Me(MT),n=cn();x.useEffect(()=>{if(t==null)return R$;var r=(i,a,o)=>{e!==o&&t===i&&n(nye(a))};return mp.on(o3,r),()=>{mp.off(o3,r)}},[n,e,t])}function fye(){var t=cn();x.useEffect(()=>{t(Jge())},[t]),uye(),dye()}function hye(t,e,n,r,i,a){var o=Me(b=>Lge(b,t,e)),u=Me(MT),d=Me(DT),h=Me(SB),m=Me(eye),g=m?.active,y=Kp();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var b=yA({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});mp.emit(bA,d,b,u)}},[g,n,o,i,r,u,d,h,a,y])}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){mye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mye(t,e,n){return(e=pye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pye(t){var e=gye(t,"string");return typeof e=="symbol"?e:e+""}function gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yye(t){return t.dataKey}function vye(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(Mue,e)}var f3=[],xye={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Qo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function dm(t){var e=Sr(t,xye),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:m,position:g,reverseDirection:y,useTranslate3d:b,wrapperStyle:j,cursor:E,shared:A,trigger:T,defaultIndex:O,portal:C,axisId:U}=e,B=cn(),$=typeof O=="number"?String(O):O;x.useEffect(()=>{B(Bpe({shared:A,trigger:T,axisId:U,active:n,defaultIndex:$}))},[B,A,T,U,n,$]);var N=Kp(),k=b8(),I=Mpe(A),{activeIndex:L,isActive:V}=Me(pe=>Uge(pe,I,T,$)),q=Me(pe=>zge(pe,I,T,$)),M=Me(pe=>C$(pe,I,T,$)),ce=Me(pe=>Vge(pe,I,T,$)),me=q,G=Gge(),X=n??V,[se,be]=I9([me,X]),Y=I==="axis"?M:void 0;hye(I,T,ce,Y,L,X);var z=C??G;if(z==null)return null;var Q=me??f3;X||(Q=f3),u&&Q.length&&(Q=S9(me.filter(pe=>pe.value!=null&&(pe.hide!==!0||e.includeHidden)),m,yye));var ue=Q.length>0,ge=x.createElement(Fue,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:X,coordinate:ce,hasPayload:ue,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:N,wrapperStyle:j,lastBoundingBox:se,innerRef:be,hasPortalFromProps:!!C},vye(o,d3(d3({},e),{},{payload:Q,label:Y,active:X,coordinate:ce,accessibilityLayer:k})));return x.createElement(x.Fragment,null,h6.createPortal(ge,z),X&&x.createElement(Kge,{cursor:E,tooltipEventType:I,coordinate:ce,payload:me,index:L}))}var ag=t=>null;ag.displayName="Cell";function bye(t,e,n){return(e=wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wye(t){var e=_ye(t,"string");return typeof e=="symbol"?e:e+""}function _ye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jye{constructor(e){bye(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function h3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(n),!0).forEach(function(r){Aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e,n){return(e=Nye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Sye(t,"string");return typeof e=="symbol"?e:e+""}function Sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tye={cacheSize:2e3,enableCache:!0},D$=Eye({},Tye),m3=new jye(D$.cacheSize),kye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},p3="recharts_measurement_span";function Cye(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(u)}var g3=(t,e)=>{try{var n=document.getElementById(p3);n||(n=document.createElement("span"),n.setAttribute("id",p3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,kye,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qo.isSsr)return{width:0,height:0};if(!D$.enableCache)return g3(e,n);var r=Cye(e,n),i=m3.get(r);if(i)return i;var a=g3(e,n);return m3.set(r,a),a},y3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Iye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,M$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oye=Object.keys(M$),Ud="NaN";function Rye(t,e){return t*M$[e]}class Si{static parse(e){var n,[,r,i]=(n=Iye.exec(e))!==null&&n!==void 0?n:[];return new Si(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Li(e)&&(this.unit=""),n!==""&&!Pye.test(n)&&(this.num=NaN,this.unit=""),Oye.includes(n)&&(this.num=Rye(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Si(NaN,""):new Si(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Si(NaN,""):new Si(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Si(NaN,""):new Si(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Si(NaN,""):new Si(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Li(this.num)}}function L$(t){if(t.includes(Ud))return Ud;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=y3.exec(e))!==null&&n!==void 0?n:[],o=Si.parse(r??""),u=Si.parse(a??""),d=i==="*"?o.multiply(u):o.divide(u);if(d.isNaN())return Ud;e=e.replace(y3,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,g,y]=(h=v3.exec(e))!==null&&h!==void 0?h:[],b=Si.parse(m??""),j=Si.parse(y??""),E=g==="+"?b.add(j):b.subtract(j);if(E.isNaN())return Ud;e=e.replace(v3,E.toString())}return e}var x3=/\(([^()]*)\)/;function Dye(t){for(var e=t,n;(n=x3.exec(e))!=null;){var[,r]=n;e=e.replace(x3,L$(r))}return e}function Mye(t){var e=t.replace(/\s+/g,"");return e=Dye(e),e=L$(e),e}function Lye(t){try{return Mye(t)}catch{return Ud}}function yj(t){var e=Lye(t.slice(5,-1));return e===Ud?"":e}var Vye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zye=["dx","dy","angle","className","breakAll"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wA.apply(null,arguments)}function b3(t,e){if(t==null)return{};var n,r,i=Uye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V$=/[ \f\n\r\t\v\u2028\u2029]+/,z$=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];pn(e)||(n?i=e.toString().split(""):i=e.toString().split(V$));var a=i.map(u=>({word:u,width:Lm(u,r).width})),o=n?0:Lm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Bye=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:u,breakAll:d}=t,h=Ge(a),m=o,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((q,M)=>{var{word:ce,width:me}=M,G=q[q.length-1];if(G&&(r==null||i||G.width+me+n<Number(r)))G.words.push(ce),G.width+=me+n;else{var X={words:[ce],width:me};q.push(X)}return q},[])},y=g(e),b=L=>L.reduce((V,q)=>V.width>q.width?V:q);if(!h||i)return y;var j=y.length>a||b(y).width>Number(r);if(!j)return y;for(var E="",A=L=>{var V=m.slice(0,L),q=z$({breakAll:d,style:u,children:V+E}).wordsWithComputedWidth,M=g(q),ce=M.length>a||b(M).width>Number(r);return[ce,M]},T=0,O=m.length-1,C=0,U;T<=O&&C<=m.length-1;){var B=Math.floor((T+O)/2),$=B-1,[N,k]=A($),[I]=A(B);if(!N&&!I&&(T=B+1),N&&I&&(O=B-1),!N&&I){U=k;break}C++}return U||y},w3=t=>{var e=pn(t)?[]:t.toString().split(V$);return[{words:e}]},$ye=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!Qo.isSsr){var u,d,h=z$({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;u=m,d=g}else return w3(r);return Bye({breakAll:a,children:r,maxLines:o,style:i},u,d,e,n)}return w3(r)},_3="#808080",nh=x.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:d="end",fill:h=_3}=t,m=b3(t,Vye),g=x.useMemo(()=>$ye({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:y,dy:b,angle:j,className:E,breakAll:A}=m,T=b3(m,zye);if(!Ma(n)||!Ma(r)||g.length===0)return null;var O=n+(Ge(y)?y:0),C=r+(Ge(b)?b:0),U;switch(d){case"start":U=yj("calc(".concat(a,")"));break;case"middle":U=yj("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:U=yj("calc(".concat(g.length-1," * -").concat(i,")"));break}var B=[];if(o){var $=g[0].width,{width:N}=m;B.push("scale(".concat(Ge(N)?N/$:1,")"))}return j&&B.push("rotate(".concat(j,", ").concat(O,", ").concat(C,")")),B.length&&(T.transform=B.join(" ")),x.createElement("text",wA({},Kn(T),{ref:e,x:O,y:C,className:pt("recharts-text",E),textAnchor:u,fill:h.includes("url")?_3:h}),g.map((k,I)=>{var L=k.words.join(A?"":" ");return x.createElement("tspan",{x:O,dy:I===0?U:i,key:"".concat(L,"-").concat(I)},L)}))});nh.displayName="Text";var Fye=["labelRef"];function qye(t,e){if(t==null)return{};var n,r,i=Hye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){Kye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kye(t,e,n){return(e=Gye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gye(t){var e=Wye(t,"string");return typeof e=="symbol"?e:e+""}function Wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vo.apply(null,arguments)}var U$=x.createContext(null),B$=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=x.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return x.createElement(U$.Provider,{value:o},a)},$$=()=>{var t=x.useContext(U$),e=Kp();return t||e},F$=x.createContext(null),Yye=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:u,children:d}=t,h=x.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:u}),[e,n,r,i,a,o,u]);return x.createElement(F$.Provider,{value:h},d)},q$=()=>{var t=x.useContext(F$),e=Me(Yf);return t||e},Qye=t=>{var{value:e,formatter:n}=t,r=pn(t.children)?e:t.children;return typeof n=="function"?n(r):r},hk=t=>t!=null&&typeof t=="function",Xye=(t,e)=>{var n=Er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Zye=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:g,endAngle:y,clockWise:b}=i,j=(h+m)/2,E=Xye(g,y),A=E>=0?1:-1,T,O;switch(e){case"insideStart":T=g+A*a,O=b;break;case"insideEnd":T=y-A*a,O=!b;break;case"end":T=y+A*a,O=b;break;default:throw new Error("Unsupported position ".concat(e))}O=E<=0?O:!O;var C=zt(u,d,j,T),U=zt(u,d,j,T+(O?1:-1)*359),B="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(O?0:1,`,
    `).concat(U.x,",").concat(U.y),$=pn(t.id)?ip("recharts-radial-line-"):t.id;return x.createElement("text",vo({},r,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:$,d:B})),x.createElement("textPath",{xlinkHref:"#".concat($)},n))},Jye=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:m,y:g}=zt(r,i,o+e,h);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:j}=zt(r,i,y,h);return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},H$=t=>"cx"in t&&Ge(t.cx),eve=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!H$(n)&&(a=n);var{x:o,y:u,width:d,height:h}=e,m=h>=0?1:-1,g=m*r,y=m>0?"end":"start",b=m>0?"start":"end",j=d>=0?1:-1,E=j*r,A=j>0?"end":"start",T=j>0?"start":"end";if(i==="top"){var O={x:o+d/2,y:u-m*r,textAnchor:"middle",verticalAnchor:y};return Fn(Fn({},O),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var C={x:o+d/2,y:u+h+g,textAnchor:"middle",verticalAnchor:b};return Fn(Fn({},C),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var U={x:o-E,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return Fn(Fn({},U),a?{width:Math.max(U.x-a.x,0),height:h}:{})}if(i==="right"){var B={x:o+d+E,y:u+h/2,textAnchor:T,verticalAnchor:"middle"};return Fn(Fn({},B),a?{width:Math.max(a.x+a.width-B.x,0),height:h}:{})}var $=a?{width:d,height:h}:{};return i==="insideLeft"?Fn({x:o+E,y:u+h/2,textAnchor:T,verticalAnchor:"middle"},$):i==="insideRight"?Fn({x:o+d-E,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},$):i==="insideTop"?Fn({x:o+d/2,y:u+g,textAnchor:"middle",verticalAnchor:b},$):i==="insideBottom"?Fn({x:o+d/2,y:u+h-g,textAnchor:"middle",verticalAnchor:y},$):i==="insideTopLeft"?Fn({x:o+E,y:u+g,textAnchor:T,verticalAnchor:b},$):i==="insideTopRight"?Fn({x:o+d-E,y:u+g,textAnchor:A,verticalAnchor:b},$):i==="insideBottomLeft"?Fn({x:o+E,y:u+h-g,textAnchor:T,verticalAnchor:y},$):i==="insideBottomRight"?Fn({x:o+d-E,y:u+h-g,textAnchor:A,verticalAnchor:y},$):i&&typeof i=="object"&&(Ge(i.x)||Mo(i.x))&&(Ge(i.y)||Mo(i.y))?Fn({x:o+ei(i.x,d),y:u+ei(i.y,h),textAnchor:"end",verticalAnchor:"end"},$):Fn({x:o+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},$)},tve={offset:5};function Rl(t){var e=Sr(t,tve),{viewBox:n,position:r,value:i,children:a,content:o,className:u="",textBreakAll:d,labelRef:h}=e,m=q$(),g=$$(),y=r==="center"?g:m??g,b=n||y;if(!b||pn(i)&&pn(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var j=Fn(Fn({},e),{},{viewBox:b});if(x.isValidElement(o)){var{labelRef:E}=j,A=qye(j,Fye);return x.cloneElement(o,A)}var T;if(typeof o=="function"){if(T=x.createElement(o,j),x.isValidElement(T))return T}else T=Qye(e);var O=H$(b),C=Kn(e);if(O&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Zye(e,r,T,C,b);var U=O?Jye(b,e.offset,e.position):eve(e,b);return x.createElement(nh,vo({ref:h,className:pt("recharts-label",u)},C,U,{breakAll:d}),T)}Rl.displayName="Label";var K$=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Rl,vo({key:"label-implicit"},r)):Ma(t)?x.createElement(Rl,vo({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Rl?x.cloneElement(t,Fn({key:"label-implicit"},r)):x.createElement(Rl,vo({key:"label-implicit",content:t},r)):hk(t)?x.createElement(Rl,vo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Rl,vo({},t,{key:"label-implicit"},r)):null};function G$(t){var{label:e,labelRef:n}=t,r=$$();return K$(e,r,n)||null}function nve(t){var{label:e}=t,n=q$();return K$(e,n)||null}var vj={},xj={},E3;function rve(){return E3||(E3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(xj)),xj}var bj={},A3;function ive(){return A3||(A3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(bj)),bj}var N3;function ave(){return N3||(N3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rve(),n=ive(),r=YS();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(vj)),vj}var wj,S3;function sve(){return S3||(S3=1,wj=ave().last),wj}var ove=sve();const W$=za(ove);var lve=["valueAccessor"],cve=["dataKey","clockWise","id","textBreakAll"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(null,arguments)}function T3(t,e){if(t==null)return{};var n,r,i=uve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dve=t=>Array.isArray(t.value)?W$(t.value):t.value,Y$=x.createContext(void 0),mk=Y$.Provider,Q$=x.createContext(void 0),fve=Q$.Provider;function hve(){return x.useContext(Y$)}function mve(){return x.useContext(Q$)}function _v(t){var{valueAccessor:e=dve}=t,n=T3(t,lve),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,u=T3(n,cve),d=hve(),h=mve(),m=d||h;return!m||!m.length?null:x.createElement(ln,{className:"recharts-label-list"},m.map((g,y)=>{var b,j=pn(r)?e(g,y):rn(g&&g.payload,r),E=pn(a)?{}:{id:"".concat(a,"-").concat(y)};return x.createElement(Rl,Vx({key:"label-".concat(y)},Kn(g),u,E,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:j,textBreakAll:o,viewBox:g.viewBox,index:y}))}))}_v.displayName="LabelList";function bb(t){var{label:e}=t;return e?e===!0?x.createElement(_v,{key:"labelList-implicit"}):x.isValidElement(e)||hk(e)?x.createElement(_v,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(_v,Vx({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var pve=["points","className","baseLinePoints","connectNulls"];function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(null,arguments)}function gve(t,e){if(t==null)return{};var n,r,i=yve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k3=t=>t&&t.x===+t.x&&t.y===+t.y,vve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{k3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),k3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Vm=(t,e)=>{var n=vve(t);e&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,u)=>"".concat(a).concat(u===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},xve=(t,e,n)=>{var r=Vm(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Vm(Array.from(e).reverse(),n).slice(1))},X$=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,a=gve(t,pve);if(!e||!e.length)return null;var o=pt("recharts-polygon",n);if(r&&r.length){var u=a.stroke&&a.stroke!=="none",d=xve(e,r,i);return x.createElement("g",{className:o},x.createElement("path",Bd({},Kn(a),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),u?x.createElement("path",Bd({},Kn(a),{fill:"none",d:Vm(e,i)})):null,u?x.createElement("path",Bd({},Kn(a),{fill:"none",d:Vm(r,i)})):null)}var h=Vm(e,i);return x.createElement("path",Bd({},Kn(a),{fill:h.slice(-1)==="Z"?a.fill:"none",className:o,d:h}))};function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(null,arguments)}var wb=t=>{var{cx:e,cy:n,r,className:i}=t,a=pt("recharts-dot",i);return e===+e&&n===+n&&r===+r?x.createElement("circle",_A({},Nn(t),KS(t),{className:a,cx:e,cy:n,r})):null},pk=t=>t.graphicalItems.polarItems,bve=re([un,Jp],UT),_b=re([pk,On,bve],BT),wve=re([_b],$T),jb=re([wve,ib],FT),Z$=re([jb,On,_b],HT);re([jb,On,_b],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,o=rn(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:rn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var C3=()=>{},_ve=re([jb,On,_b,mb,un],YT),jve=re([On,GT,WT,C3,_ve,C3,xt,un],QT),J$=re([On,xt,jb,Z$,Xp,un,jve],XT),eF=re([J$,On,wc],JT),Eve=re([On,J$,eF,un],tk),gk=(t,e,n)=>{switch(e){case"angleAxis":return Wf(t,n);case"radiusAxis":return Zp(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yk=(t,e,n)=>{switch(e){case"angleAxis":return Bme(t,n);case"radiusAxis":return $me(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rh=re([gk,wc,Eve,yk],pb),tF=re([xt,Z$,Xf,un],nk),ih=re([xt,gk,wc,rh,eF,yk,ng,tF,un],n$);re([xt,gk,rh,yk,ng,tF,un],i$);var Ave=(t,e)=>ih(t,"angleAxis",e,!1),Nve=re([Ave],t=>{if(t)return t.map(e=>e.coordinate)}),Sve=(t,e)=>ih(t,"radiusAxis",e,!1),Tve=re([Sve],t=>{if(t)return t.map(e=>e.coordinate)}),kve=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function Cve(t,e){if(t==null)return{};var n,r,i=Pve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){Ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ive(t,e,n){return(e=Ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ove(t){var e=Rve(t,"string");return typeof e=="symbol"?e:e+""}function Rve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dve=(t,e,n,r)=>{var i="";return r.forEach((a,o)=>{var u=zt(e,n,t,a);o?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},Mve=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var u=Eb({stroke:"#ccc"},Nn(t));return x.createElement("g",{className:"recharts-polar-grid-angle"},a.map(d=>{var h=zt(e,n,r,d),m=zt(e,n,i,d);return x.createElement("line",ss({key:"line-".concat(d)},u,{x1:h.x,y1:h.y,x2:m.x,y2:m.y}))}))},I3=t=>{var{cx:e,cy:n,radius:r}=t,i=Eb({stroke:"#ccc",fill:"none"},Nn(t));return x.createElement("circle",ss({},i,{className:pt("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},O3=t=>{var{radius:e}=t,n=Eb({stroke:"#ccc",fill:"none"},Nn(t));return x.createElement("path",ss({},n,{className:pt("recharts-polar-grid-concentric-polygon",t.className),d:Dve(e,t.cx,t.cy,t.polarAngles)}))},Lve=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(I3,ss({},t,{radius:r})),i&&n!=="circle"&&x.createElement(O3,ss({},t,{radius:r})),e.map((a,o)=>{var u=o;return n==="circle"?x.createElement(I3,ss({key:u},t,{fill:"none",radius:a})):x.createElement(O3,ss({key:u},t,{fill:"none",radius:a}))}))},nF=t=>{var e,n,r,i,a,o,u,d,{gridType:h="polygon",radialLines:m=!0,angleAxisId:g=0,radiusAxisId:y=0,cx:b,cy:j,innerRadius:E,outerRadius:A}=t,T=Cve(t,kve),O=Me(Yf),C=Eb({cx:(e=(n=O?.cx)!==null&&n!==void 0?n:b)!==null&&e!==void 0?e:0,cy:(r=(i=O?.cy)!==null&&i!==void 0?i:j)!==null&&r!==void 0?r:0,innerRadius:(a=(o=O?.innerRadius)!==null&&o!==void 0?o:E)!==null&&a!==void 0?a:0,outerRadius:(u=(d=O?.outerRadius)!==null&&d!==void 0?d:A)!==null&&u!==void 0?u:0},T),{polarAngles:U,polarRadius:B,outerRadius:$}=C,N=Me(V=>Nve(V,g)),k=Me(V=>Tve(V,y)),I=Array.isArray(U)?U:N,L=Array.isArray(B)?B:k;return $<=0||I==null||L==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(Lve,ss({gridType:h,radialLines:m},C,{polarAngles:I,polarRadius:L})),x.createElement(Mve,ss({gridType:h,radialLines:m},C,{polarAngles:I,polarRadius:L})))};nF.displayName="PolarGrid";var _j={},jj={},R3;function Vve(){return R3||(R3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const u=n[o],d=r(u);d>a&&(a=d,i=u)}return i}t.maxBy=e})(jj)),jj}var D3;function zve(){return D3||(D3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vve(),n=z0(),r=QS();function i(a,o){if(a!=null)return e.maxBy(Array.from(a),r.iteratee(o??n.identity))}t.maxBy=i})(_j)),_j}var Ej,M3;function Uve(){return M3||(M3=1,Ej=zve().maxBy),Ej}var Bve=Uve();const $ve=za(Bve);var Aj={},Nj={},L3;function Fve(){return L3||(L3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const u=n[o],d=r(u);d<a&&(a=d,i=u)}return i}t.minBy=e})(Nj)),Nj}var V3;function qve(){return V3||(V3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fve(),n=z0(),r=QS();function i(a,o){if(a!=null)return e.minBy(Array.from(a),r.iteratee(o??n.identity))}t.minBy=i})(Aj)),Aj}var Sj,z3;function Hve(){return z3||(z3=1,Sj=qve().minBy),Sj}var Kve=Hve();const Gve=za(Kve);var Wve={radiusAxis:{},angleAxis:{}},rF=aa({name:"polarAxis",initialState:Wve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Yve,removeRadiusAxis:Qve,addAngleAxis:Xve,removeAngleAxis:Zve}=rF.actions,Jve=rF.reducer,exe=["cx","cy","angle","axisLine"],txe=["angle","tickFormatter","stroke","tick"];function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(null,arguments)}function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){Ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ab(t,e,n){return(e=nxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nxe(t){var e=rxe(t,"string");return typeof e=="symbol"?e:e+""}function rxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iF(t,e){if(t==null)return{};var n,r,i=ixe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ixe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aF="radiusAxis";function axe(t){var e=cn();return x.useEffect(()=>(e(Yve(t)),()=>{e(Qve(t))})),null}var sxe=(t,e,n,r)=>{var{coordinate:i}=t;return zt(n,r,i,e)},oxe=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},lxe=(t,e,n,r)=>{var i=$ve(r,o=>o.coordinate||0),a=Gve(r,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},cxe=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:a}=t,o=iF(t,exe),u=e.reduce((g,y)=>[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)],[1/0,-1/0]),d=zt(n,r,u[0],i),h=zt(n,r,u[1],i),m=Is(Is(Is({},Nn(o)),{},{fill:"none"},Nn(a)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return x.createElement("line",pp({className:"recharts-polar-radius-axis-line"},m))},uxe=(t,e,n)=>{var r;return x.isValidElement(t)?r=x.cloneElement(t,e):typeof t=="function"?r=t(e):r=x.createElement(nh,pp({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},dxe=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=t,o=iF(t,txe),u=oxe(t.orientation),d=Nn(o),h=Do(a),m=e.map((g,y)=>{var b=sxe(g,t.angle,t.cx,t.cy),j=Is(Is(Is(Is({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(b.x,", ").concat(b.y,")")},d),{},{stroke:"none",fill:i},h),{},{index:y},b),{},{payload:g});return x.createElement(ln,pp({className:pt("recharts-polar-radius-axis-tick",s8(a)),key:"tick-".concat(g.coordinate)},$u(t,g,y)),uxe(a,j,r?r(g.value,y):g.value))});return x.createElement(ln,{className:"recharts-polar-radius-axis-ticks"},m)},fxe=t=>{var{radiusAxisId:e}=t,n=Me(Yf),r=Me(d=>rh(d,"radiusAxis",e)),i=Me(d=>ih(d,"radiusAxis",e,!1));if(n==null||!i||!i.length)return null;var a=Is(Is(Is({},t),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:u}=a;return x.createElement(ln,{className:pt("recharts-polar-radius-axis",aF,a.className)},u&&cxe(a,i),o&&dxe(a,i),x.createElement(Yye,lxe(a.angle,a.cx,a.cy,i),x.createElement(nve,{label:a.label}),a.children))};class Nb extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(axe,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(fxe,this.props))}}Ab(Nb,"displayName","PolarRadiusAxis");Ab(Nb,"axisType",aF);Ab(Nb,"defaultProps",ki);var hxe=["children"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(null,arguments)}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){Sb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sb(t,e,n){return(e=mxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mxe(t){var e=pxe(t,"string");return typeof e=="symbol"?e:e+""}function pxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gxe(t,e){if(t==null)return{};var n,r,i=yxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $3=1e-5,vxe=Math.cos(bx(45)),sF="angleAxis";function xxe(t){var e=cn(),n=x.useMemo(()=>{var{children:a}=t,o=gxe(t,hxe);return o},[t]),r=Me(a=>Wf(a,n.id)),i=n===r;return x.useEffect(()=>(e(Xve(n)),()=>{e(Zve(n))}),[e,n]),i?t.children:null}var bxe=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=e,u=o||8,d=zt(n,r,i,t.coordinate),h=zt(n,r,i+(a==="inner"?-1:1)*u,t.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}},wxe=(t,e)=>{var n=Math.cos(bx(-t.coordinate));return n>$3?e==="outer"?"start":"end":n<-$3?e==="outer"?"end":"start":"middle"},_xe=t=>{var e=Math.cos(bx(-t.coordinate)),n=Math.sin(bx(-t.coordinate));return Math.abs(e)<=vxe?n>0?"start":"end":"middle"},jxe=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var u=Cs(Cs({},Nn(t)),{},{fill:"none"},Nn(a));if(i==="circle")return x.createElement(wb,Bo({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var d=o.map(h=>zt(e,n,r,h.coordinate));return x.createElement(X$,Bo({className:"recharts-polar-angle-axis-line"},u,{points:d}))},Exe=t=>{var{tick:e,tickProps:n,value:r}=t;return e?x.isValidElement(e)?x.cloneElement(e,n):typeof e=="function"?e(n):x.createElement(nh,Bo({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Axe=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=t,o=Nn(t),u=Do(e),d=Cs(Cs({},o),{},{fill:"none"},Nn(n)),h=a.map((m,g)=>{var y=bxe(m,t),b=wxe(m,t.orientation),j=_xe(m),E=Cs(Cs(Cs({},o),{},{textAnchor:b,verticalAnchor:j,stroke:"none",fill:i},u),{},{index:g,payload:m,x:y.x2,y:y.y2});return x.createElement(ln,Bo({className:pt("recharts-polar-angle-axis-tick",s8(e)),key:"tick-".concat(m.coordinate)},$u(t,m,g)),n&&x.createElement("line",Bo({className:"recharts-polar-angle-axis-tick-line"},d,y)),x.createElement(Exe,{tick:e,tickProps:E,value:r?r(m.value,g):m.value}))});return x.createElement(ln,{className:"recharts-polar-angle-axis-ticks"},h)},Nxe=t=>{var{angleAxisId:e}=t,n=Me(Yf),r=Me(u=>rh(u,"angleAxis",e)),i=Nr(),a=Me(u=>ih(u,"angleAxis",e,i));if(n==null||!a||!a.length)return null;var o=Cs(Cs(Cs({},t),{},{scale:r},n),{},{radius:n.outerRadius});return x.createElement(ln,{className:pt("recharts-polar-angle-axis",sF,o.className)},x.createElement(jxe,Bo({},o,{ticks:a})),x.createElement(Axe,Bo({},o,{ticks:a})))};class Tb extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(xxe,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(Nxe,this.props))}}Sb(Tb,"displayName","PolarAngleAxis");Sb(Tb,"axisType",sF);Sb(Tb,"defaultProps",ks);function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Sxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sxe(t,e,n){return(e=Txe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Txe(t){var e=kxe(t,"string");return typeof e=="symbol"?e:e+""}function kxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cxe=(t,e)=>e,vk=re([pk,Cxe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Pxe=[],xk=(t,e,n)=>n?.length===0?Pxe:n,oF=re([ib,vk,xk],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>q3(q3({},e.presentationProps),a.props))),i!=null)return i}}),Ixe=re([oF,vk,xk],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,o=rn(r,e.nameKey,e.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:yc(o,e.dataKey),color:u,payload:r,type:e.legendType}})}),Oxe=re([oF,vk,xk,dr],(t,e,n,r)=>{if(!(e==null||t==null))return P0e({offset:r,pieSettings:e,displayedData:t,cells:n})}),Tj={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function Rxe(){if(H3)return en;H3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case d:case h:case y:return E;default:switch(E=E&&E.$$typeof,E){case o:case u:case g:case m:return E;case a:return E;default:return A}}case e:return A}}}return en.ContextConsumer=a,en.ContextProvider=o,en.Element=t,en.ForwardRef=u,en.Fragment=n,en.Lazy=g,en.Memo=m,en.Portal=e,en.Profiler=i,en.StrictMode=r,en.Suspense=d,en.SuspenseList=h,en.isContextConsumer=function(E){return j(E)===a},en.isContextProvider=function(E){return j(E)===o},en.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},en.isForwardRef=function(E){return j(E)===u},en.isFragment=function(E){return j(E)===n},en.isLazy=function(E){return j(E)===g},en.isMemo=function(E){return j(E)===m},en.isPortal=function(E){return j(E)===e},en.isProfiler=function(E){return j(E)===i},en.isStrictMode=function(E){return j(E)===r},en.isSuspense=function(E){return j(E)===d},en.isSuspenseList=function(E){return j(E)===h},en.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===o||E.$$typeof===a||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},en.typeOf=j,en}var K3;function Dxe(){return K3||(K3=1,Tj.exports=Rxe()),Tj.exports}var Mxe=Dxe(),G3=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",W3=null,kj=null,lF=t=>{if(t===W3&&Array.isArray(kj))return kj;var e=[];return x.Children.forEach(t,n=>{pn(n)||(Mxe.isFragment(n)?e=e.concat(lF(n.props.children)):e.push(n))}),kj=e,W3=t,e};function bk(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>G3(i)):r=[G3(e)],lF(t).forEach(i=>{var a=Su(i,"type.displayName")||Su(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var cF=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Cj={},Y3;function Lxe(){return Y3||(Y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Cj)),Cj}var Pj,Q3;function Vxe(){return Q3||(Q3=1,Pj=Lxe().isPlainObject),Pj}var zxe=Vxe();const Uxe=za(zxe);function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){Bxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bxe(t,e,n){return(e=$xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $xe(t){var e=Fxe(t,"string");return typeof e=="symbol"?e:e+""}function Fxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(null,arguments)}var J3=(t,e,n,r,i)=>{var a=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},qxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hxe=t=>{var e=Sr(t,qxe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=e,y=x.useRef(null),[b,j]=x.useState(-1),E=x.useRef(i),A=x.useRef(a),T=x.useRef(o),O=x.useRef(n),C=x.useRef(r),U=qf(t,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ce=y.current.getTotalLength();ce&&j(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var B=pt("recharts-trapezoid",u);if(!g)return x.createElement("g",null,x.createElement("path",zx({},Kn(e),{className:B,d:J3(n,r,i,a,o)})));var $=E.current,N=A.current,k=T.current,I=O.current,L=C.current,V="0px ".concat(b===-1?1:b,"px"),q="".concat(b,"px 0px"),M=w8(["strokeDasharray"],h,d);return x.createElement(Ff,{animationId:U,key:U,canBegin:b>0,duration:h,easing:d,isActive:g,begin:m},ce=>{var me=mn($,i,ce),G=mn(N,a,ce),X=mn(k,o,ce),se=mn(I,n,ce),be=mn(L,r,ce);y.current&&(E.current=me,A.current=G,T.current=X,O.current=se,C.current=be);var Y=ce>0?{transition:M,strokeDasharray:q}:{strokeDasharray:V};return x.createElement("path",zx({},Kn(e),{className:B,d:J3(se,be,me,G,X),ref:y,style:Z3(Z3({},Y),e.style)}))})},Kxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Gxe(t,e){if(t==null)return{};var n,r,i=Wxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ux(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){Yxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yxe(t,e,n){return(e=Qxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qxe(t){var e=Xxe(t,"string");return typeof e=="symbol"?e:e+""}function Xxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zxe(t,e){return Ux(Ux({},e),t)}function Jxe(t,e){return t==="symbols"}function t5(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(A8,n);case"trapezoid":return x.createElement(Hxe,n);case"sector":return x.createElement(T8,n);case"symbols":if(Jxe(e))return x.createElement(HS,n);break;default:return null}}function e0e(t){return x.isValidElement(t)?t.props:t}function uF(t){var{option:e,shapeType:n,propTransformer:r=Zxe,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Gxe(t,Kxe),u;if(x.isValidElement(e))u=x.cloneElement(e,Ux(Ux({},o),e0e(e)));else if(typeof e=="function")u=e(o);else if(Uxe(e)&&typeof e!="boolean"){var d=r(e,o);u=x.createElement(t5,{shapeType:n,elementProps:d})}else{var h=o;u=x.createElement(t5,{shapeType:n,elementProps:h})}return a?x.createElement(ln,{className:i},u):u}var wk=(t,e)=>{var n=cn();return(r,i)=>a=>{t?.(r,i,a),n(u$({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},_k=t=>{var e=cn();return(n,r)=>i=>{t?.(n,r,i),e($pe())}},jk=(t,e)=>{var n=cn();return(r,i)=>a=>{t?.(r,i,a),n(Fpe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function kb(t){var{fn:e,args:n}=t,r=cn(),i=Nr();return x.useLayoutEffect(()=>{if(!i){var a=e(n);return r(zpe(a)),()=>{r(Upe(a))}}},[e,n,r,i]),null}var dF=()=>{};function fF(t){var{legendPayload:e}=t,n=cn(),r=Nr();return x.useLayoutEffect(()=>r?dF:(n(v8(e)),()=>{n(x8(e))}),[n,r,e]),null}function hF(t){var{legendPayload:e}=t,n=cn(),r=Me(xt);return x.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?dF:(n(v8(e)),()=>{n(x8(e))}),[n,r,e]),null}var Ij,t0e=()=>{var[t]=x.useState(()=>ip("uid-"));return t},n0e=(Ij=wK.useId)!==null&&Ij!==void 0?Ij:t0e;function r0e(t,e){var n=n0e();return e||(t?"".concat(t,"-").concat(n):n)}var i0e=x.createContext(void 0),Cb=t=>{var{id:e,type:n,children:r}=t,i=r0e("recharts-".concat(n),e);return x.createElement(i0e.Provider,{value:i},r(i))},a0e={cartesianItems:[],polarItems:[]},mF=aa({name:"graphicalItems",initialState:a0e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:oi()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=So(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:oi()},removeCartesianGraphicalItem:{reducer(t,e){var n=So(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:oi()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:oi()},removePolarGraphicalItem:{reducer(t,e){var n=So(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:oi()}}}),{addCartesianGraphicalItem:s0e,replaceCartesianGraphicalItem:o0e,removeCartesianGraphicalItem:l0e,addPolarGraphicalItem:c0e,removePolarGraphicalItem:u0e}=mF.actions,d0e=mF.reducer;function pF(t){var e=cn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(s0e(t)):n.current!==t&&e(o0e({prev:n.current,next:t})),n.current=t},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(e(l0e(n.current)),n.current=null)},[e]),null}function gF(t){var e=cn();return x.useLayoutEffect(()=>(e(c0e(t)),()=>{e(u0e(t))}),[e,t]),null}var f0e=["onMouseEnter","onClick","onMouseLeave"],h0e=["id"],m0e=["id"];function Ek(t,e){if(t==null)return{};var n,r,i=p0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){g0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0e(t,e,n){return(e=y0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0e(t){var e=v0e(t,"string");return typeof e=="symbol"?e:e+""}function v0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(null,arguments)}function x0e(t){var e=x.useMemo(()=>bk(t.children,ag),[t.children]),n=Me(r=>Ixe(r,t.id,e));return n==null?null:x.createElement(hF,{legendPayload:n})}function b0e(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:u,hide:d,tooltipType:h}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:yc(u,e),hide:d,type:h,color:o,unit:""}}}var w0e=(t,e)=>t>e?"start":t<e?"end":"middle",_0e=(t,e,n)=>ei(typeof e=="function"?e(t):e,n,n*.8),j0e=(t,e,n)=>{var{top:r,left:i,width:a,height:o}=e,u=a8(a,o),d=i+ei(t.cx,a,a/2),h=r+ei(t.cy,o,o/2),m=ei(t.innerRadius,u,0),g=_0e(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:h,innerRadius:m,outerRadius:g,maxRadius:y}},E0e=(t,e)=>{var n=Er(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function A0e(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var N0e=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var n=pt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(lT,oc({},e,{type:"linear",className:n}))},S0e=(t,e,n)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),x.isValidElement(r)))return r;var i=pt("recharts-pie-label-text",A0e(t));return x.createElement(nh,oc({},e,{alignmentBaseline:"middle",className:i}),r)};function T0e(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!e)return null;var u=Nn(n),d=Do(i),h=Do(a),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((y,b)=>{var j=(y.startAngle+y.endAngle)/2,E=zt(y.cx,y.cy,y.outerRadius+m,j),A=_n(_n(_n(_n({},u),y),{},{stroke:"none"},d),{},{index:b,textAnchor:w0e(E.x,y.cx)},E),T=_n(_n(_n(_n({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[zt(y.cx,y.cy,y.outerRadius,j),E],key:"line"});return x.createElement(ln,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},a&&N0e(a,T),S0e(i,A,rn(y,o)))});return x.createElement(ln,{className:"recharts-pie-labels"},g)}function k0e(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(bb,{label:i}):x.createElement(T0e,{sectors:e,props:n,showLabels:r})}function C0e(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,a=Me(sc),{onMouseEnter:o,onClick:u,onMouseLeave:d}=i,h=Ek(i,f0e),m=wk(o,i.dataKey),g=_k(d),y=jk(u,i.dataKey);return e==null||e.length===0?null:x.createElement(x.Fragment,null,e.map((b,j)=>{if(b?.startAngle===0&&b?.endAngle===0&&e.length!==1)return null;var E=n&&String(j)===a,A=a?r:null,T=E?n:A,O=_n(_n({},b),{},{stroke:b.stroke,tabIndex:-1,[d8]:j,[f8]:i.dataKey});return x.createElement(ln,oc({key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},$u(h,b,j),{onMouseEnter:m(b,j),onMouseLeave:g(b,j),onClick:y(b,j)}),x.createElement(uF,oc({option:T,isActive:E,shapeType:"sector"},O)))}))}function P0e(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:o,startAngle:u,endAngle:d,dataKey:h,nameKey:m,tooltipType:g}=n,y=Math.abs(n.minAngle),b=E0e(u,d),j=Math.abs(b),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter($=>rn($,h,0)!==0).length,T=(j>=360?A:A-1)*E,O=j-A*y-T,C=r.reduce(($,N)=>{var k=rn(N,h,0);return $+(Ge(k)?k:0)},0),U;if(C>0){var B;U=r.map(($,N)=>{var k=rn($,h,0),I=rn($,m,N),L=j0e(n,a,$),V=(Ge(k)?k:0)/C,q,M=_n(_n({},$),i&&i[N]&&i[N].props);N?q=B.endAngle+Er(b)*E*(k!==0?1:0):q=u;var ce=q+Er(b)*((k!==0?y:0)+V*O),me=(q+ce)/2,G=(L.innerRadius+L.outerRadius)/2,X=[{name:I,value:k,payload:M,dataKey:h,type:g}],se=zt(L.cx,L.cy,G,me);return B=_n(_n(_n(_n({},n.presentationProps),{},{percent:V,cornerRadius:o,name:I,tooltipPayload:X,midAngle:me,middleRadius:G,tooltipPosition:se},M),L),{},{value:k,startAngle:q,endAngle:ce,payload:M,paddingAngle:Er(b)*E}),B})}return U}function I0e(t){var{showLabels:e,sectors:n,children:r}=t,i=x.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return x.createElement(fve,{value:e?i:void 0},r)}function O0e(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:u,activeShape:d,inactiveShape:h,onAnimationStart:m,onAnimationEnd:g}=e,y=qf(e,"recharts-pie-"),b=n.current,[j,E]=x.useState(!1),A=x.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),T=x.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return x.createElement(I0e,{showLabels:!j,sectors:r},x.createElement(Ff,{animationId:y,begin:a,duration:o,isActive:i,easing:u,onAnimationStart:T,onAnimationEnd:A,key:y},O=>{var C=[],U=r&&r[0],B=U?.startAngle;return r?.forEach(($,N)=>{var k=b&&b[N],I=N>0?Su($,"paddingAngle",0):0;if(k){var L=mn(k.endAngle-k.startAngle,$.endAngle-$.startAngle,O),V=_n(_n({},$),{},{startAngle:B+I,endAngle:B+L+I});C.push(V),B=V.endAngle}else{var{endAngle:q,startAngle:M}=$,ce=mn(0,q-M,O),me=_n(_n({},$),{},{startAngle:B+I,endAngle:B+ce+I});C.push(me),B=me.endAngle}}),n.current=C,x.createElement(ln,null,x.createElement(C0e,{sectors:C,activeShape:d,inactiveShape:h,allOtherPieProps:e}))}),x.createElement(k0e,{showLabels:!j,sectors:r,props:e}),e.children)}var R0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Qo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function D0e(t){var{id:e}=t,n=Ek(t,h0e),{hide:r,className:i,rootTabIndex:a}=t,o=x.useMemo(()=>bk(t.children,ag),[t.children]),u=Me(m=>Oxe(m,e,o)),d=x.useRef(null),h=pt("recharts-pie",i);return r||u==null?(d.current=null,x.createElement(ln,{tabIndex:a,className:h})):x.createElement(x.Fragment,null,x.createElement(kb,{fn:b0e,args:_n(_n({},t),{},{sectors:u})}),x.createElement(ln,{tabIndex:a,className:h},x.createElement(O0e,{props:_n(_n({},n),{},{sectors:u}),previousSectorsRef:d})))}function yF(t){var e=Sr(t,R0e),{id:n}=e,r=Ek(e,m0e),i=Nn(r);return x.createElement(Cb,{id:n,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(gF,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),x.createElement(x0e,oc({},r,{id:a})),x.createElement(D0e,oc({},r,{id:a}))))}yF.displayName="Pie";function r5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(n),!0).forEach(function(r){M0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M0e(t,e,n){return(e=L0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0e(t){var e=V0e(t,"string");return typeof e=="symbol"?e:e+""}function V0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0e={xAxis:{},yAxis:{},zAxis:{}},vF=aa({name:"cartesianAxis",initialState:z0e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:oi()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:oi()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:oi()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:oi()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:oi()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:oi()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=i5(i5({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:U0e,removeXAxis:B0e,addYAxis:$0e,removeYAxis:F0e,addZAxis:Cke,removeZAxis:Pke,updateYAxisWidth:q0e}=vF.actions,H0e=vF.reducer,K0e=re([dr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),G0e=re([K0e,Wo,Yo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Ak=()=>Me(G0e),W0e=()=>Me(kge);function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){Y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0e(t,e,n){return(e=Q0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q0e(t){var e=X0e(t,"string");return typeof e=="symbol"?e:e+""}function X0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z0e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=s5(s5({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Do(i)),KS(i)),u;return x.isValidElement(i)?u=x.cloneElement(i,o):typeof i=="function"?u=i(o):u=x.createElement(wb,o),x.createElement(ln,{className:"recharts-active-dot"},u)};function xF(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=Me(sc),o=W0e();if(e==null||o==null)return null;var u=e.find(d=>o.includes(d.payload));return pn(u)?null:Z0e({point:u,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(r){J0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J0e(t,e,n){return(e=ebe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ebe(t){var e=tbe(t,"string");return typeof e=="symbol"?e:e+""}function tbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bF=(t,e)=>rh(t,"radiusAxis",e),nbe=re([bF],t=>{if(t!=null)return{scale:t}}),rbe=re([Zp,bF],(t,e)=>{if(!(t==null||e==null))return Bx(Bx({},t),{},{scale:e})}),ibe=(t,e,n,r)=>ih(t,"radiusAxis",e,r),wF=(t,e,n)=>Wf(t,n),_F=(t,e,n)=>rh(t,"angleAxis",n),abe=re([wF,_F],(t,e)=>{if(!(t==null||e==null))return Bx(Bx({},t),{},{scale:e})}),sbe=(t,e,n,r)=>ih(t,"angleAxis",n,r),obe=re([wF,_F,Yf],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),lbe=(t,e,n,r,i)=>i,cbe=re([xt,rbe,ibe,abe,sbe],(t,e,n,r,i)=>Go(t,"radiusAxis")?Cu(e,n,!1):Cu(r,i,!1)),ube=re([pk,lbe],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n?.dataKey}}),dbe=re([nbe,obe,ib,ube,cbe],(t,e,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:u}=n;if(!(t==null||e==null||a==null||i==null||r==null)){var d=a.slice(o,u+1);return bbe({radiusAxis:t,angleAxis:e,displayedData:d,dataKey:r,bandSize:i})}}),fbe=["id"];function hbe(t,e){if(t==null)return{};var n,r,i=mbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function l5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(n),!0).forEach(function(r){Nk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nk(t,e,n){return(e=pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t){var e=gbe(t,"string");return typeof e=="symbol"?e:e+""}function gbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(null,arguments)}function Sk(t,e){return t&&t!=="none"?t:e}var ybe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:Sk(r,i),value:yc(n,e),payload:t}]};function vbe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:yc(a,e),hide:o,type:u,color:Sk(n,i),unit:""}}}function xbe(t,e){var n;return x.isValidElement(t)?n=x.cloneElement(t,e):typeof t=="function"?n=t(e):n=x.createElement(wb,Ef({},e,{className:pt("recharts-radar-dot",typeof t!="boolean"?t.className:"")})),n}function bbe(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=t,{cx:o,cy:u}=n,d=!1,h=[],m=n.type!=="number"?a??0:0;r.forEach((y,b)=>{var j=rn(y,n.dataKey,b),E=rn(y,i),A=n.scale(j)+m,T=Array.isArray(E)?W$(E):E,O=pn(T)?void 0:e.scale(T);Array.isArray(E)&&E.length>=2&&(d=!0),h.push(Fr(Fr({},zt(o,u,O,A)),{},{name:j,value:E,cx:o,cy:u,radius:O,angle:A,payload:y}))});var g=[];return d&&h.forEach(y=>{if(Array.isArray(y.value)){var b=y.value[0],j=pn(b)?void 0:e.scale(b);g.push(Fr(Fr({},y),{},{radius:j},zt(o,u,j,y.angle)))}else g.push(y)}),{points:h,isRange:d,baseLinePoints:g}}function wbe(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n;if(!r)return null;var{id:a}=n,o=hbe(n,fbe),u=Nn(o),d=XU(r),h=e.map((m,g)=>{var y=Fr(Fr(Fr({key:"dot-".concat(g),r:3},u),d),{},{dataKey:i,cx:m.x,cy:m.y,index:g,payload:m});return xbe(r,y)});return x.createElement(ln,{className:"recharts-radar-dots"},h)}function _be(t){var{showLabels:e,points:n,children:r}=t,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Fr(Fr({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(mk,{value:e?i:null},r)}function jbe(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,u=m=>{var{onMouseEnter:g}=r;g&&g(r,m)},d=m=>{var{onMouseLeave:g}=r;g&&g(r,m)},h;return x.isValidElement(i)?h=x.cloneElement(i,Fr(Fr({},r),{},{points:e})):typeof i=="function"?h=i(Fr(Fr({},r),{},{points:e})):h=x.createElement(X$,Ef({},Kn(r),{onMouseEnter:u,onMouseLeave:d,points:e,baseLinePoints:a?n:void 0,connectNulls:o})),x.createElement(ln,{className:"recharts-radar-polygon"},h,x.createElement(wbe,{props:r,points:e}))}var c5=(t,e,n)=>(r,i)=>{var a=t&&t[Math.floor(i*e)];return a?Fr(Fr({},r),{},{x:mn(a.x,r.x,n),y:mn(a.y,r.y,n)}):Fr(Fr({},r),{},{x:mn(r.cx,r.x,n),y:mn(r.cy,r.y,n)})};function Ebe(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationEnd:m,onAnimationStart:g}=e,y=n.current,b=r.current,j=y&&y.length/i.length,E=b&&b.length/a.length,A=qf(e,"recharts-radar-"),[T,O]=x.useState(!1),C=!T,U=x.useCallback(()=>{typeof m=="function"&&m(),O(!1)},[m]),B=x.useCallback(()=>{typeof g=="function"&&g(),O(!0)},[g]);return x.createElement(_be,{showLabels:C,points:i},x.createElement(Ff,{animationId:A,begin:u,duration:d,isActive:o,easing:h,key:"radar-".concat(A),onAnimationEnd:U,onAnimationStart:B},$=>{var N=$===1?i:i.map(c5(y,j,$)),k=$===1?a:a?.map(c5(b,E,$));return $>0&&(n.current=N,r.current=k),x.createElement(jbe,{points:N,baseLinePoints:k,props:e})}),x.createElement(bb,{label:e.label}),e.children)}function Abe(t){var e=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(Ebe,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var Nbe={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Qo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Sbe extends x.PureComponent{render(){var{hide:e,className:n,points:r}=this.props;if(e||r==null)return null;var i=pt("recharts-radar",n);return x.createElement(x.Fragment,null,x.createElement(ln,{className:i},x.createElement(Abe,this.props)),x.createElement(xF,{points:r,mainColor:Sk(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Tbe(t){var e=Nr(),n=Me(r=>dbe(r,t.radiusAxisId,t.angleAxisId,e,t.id));return x.createElement(Sbe,Ef({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}class $x extends x.PureComponent{render(){return x.createElement(Cb,{id:this.props.id,type:"radar"},e=>x.createElement(x.Fragment,null,x.createElement(gF,{type:"radar",id:e,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(hF,{legendPayload:ybe(this.props)}),x.createElement(kb,{fn:vbe,args:this.props}),x.createElement(Tbe,Ef({},this.props,{id:e}))))}}Nk($x,"displayName","Radar");Nk($x,"defaultProps",Nbe);var kbe="Invariant failed";function Cbe(t,e){throw new Error(kbe)}var Pbe=["x","y"];function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(null,arguments)}function u5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(n),!0).forEach(function(r){Ibe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ibe(t,e,n){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Obe(t){var e=Rbe(t,"string");return typeof e=="symbol"?e:e+""}function Rbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dbe(t,e){if(t==null)return{};var n,r,i=Mbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lbe(t,e){var{x:n,y:r}=t,i=Dbe(t,Pbe),a="".concat(n),o=parseInt(a,10),u="".concat(r),d=parseInt(u,10),h="".concat(e.height||i.height),m=parseInt(h,10),g="".concat(e.width||i.width),y=parseInt(g,10);return fm(fm(fm(fm(fm({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function Tk(t){return x.createElement(uF,jA({shapeType:"rectangle",propTransformer:Lbe,activeClassName:"recharts-active-bar"},t))}var Vbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ge(e))return e;var a=Ge(r)||pn(r);return a?e(r,i):(a||Cbe(),n)}},zbe={},jF=aa({name:"errorBars",initialState:zbe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ike,replaceErrorBar:Oke,removeErrorBar:Rke}=jF.actions,Ube=jF.reducer,Bbe=["children"];function $be(t,e){if(t==null)return{};var n,r,i=Fbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qbe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hbe=x.createContext(qbe);function EF(t){var{children:e}=t,n=$be(t,Bbe);return x.createElement(Hbe.Provider,{value:n},e)}function kk(t,e){var n,r,i=Me(h=>Ws(h,t)),a=Me(h=>Ys(h,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ki.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Gi.allowDataOverflow,d=o||u;return{needClip:d,needClipX:o,needClipY:u}}function AF(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Ak(),{needClipX:a,needClipY:o,needClip:u}=kk(e,n);if(!u)return null;var{x:d,y:h,width:m,height:g}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?d:d-m/2,y:o?h:h-g/2,width:a?m:m*2,height:o?g:g*2}))}var Kbe=["onMouseEnter","onMouseLeave","onClick"],Gbe=["value","background","tooltipPosition"],Wbe=["id"],Ybe=["onMouseEnter","onClick","onMouseLeave"];function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){Qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qbe(t,e,n){return(e=Xbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xbe(t){var e=Zbe(t,"string");return typeof e=="symbol"?e:e+""}function Zbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fx(t,e){if(t==null)return{};var n,r,i=Jbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ewe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:yc(n,e),payload:t}]};function twe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:yc(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:u}}}function nwe(t){var e=Me(sc),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:u,onClick:d}=a,h=Fx(a,Kbe),m=wk(o,r),g=_k(u),y=jk(d,r);if(!i||n==null)return null;var b=Do(i);return x.createElement(x.Fragment,null,n.map((j,E)=>{var{value:A,background:T,tooltipPosition:O}=j,C=Fx(j,Gbe);if(!T)return null;var U=m(j,E),B=g(j,E),$=y(j,E),N=li(li(li(li(li({option:i,isActive:String(E)===e},C),{},{fill:"#eee"},T),b),$u(h,j,E)),{},{onMouseEnter:U,onMouseLeave:B,onClick:$,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return x.createElement(Tk,lc({key:"background-bar-".concat(E)},N))}))}function rwe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return li(li({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(mk,{value:e?i:void 0},n)}function iwe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=t,u=Me(sc),d=Me(A$),h=n&&String(a)===u&&(d==null||o===d),m=h?n:e;return x.createElement(Tk,lc({},r,{name:String(r.name)},i,{isActive:h,option:m,index:a,dataKey:o}))}function awe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return x.createElement(Tk,lc({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function swe(t){var{data:e,props:n}=t,r=Nn(n),{id:i}=r,a=Fx(r,Wbe),{shape:o,dataKey:u,activeBar:d}=n,{onMouseEnter:h,onClick:m,onMouseLeave:g}=n,y=Fx(n,Ybe),b=wk(h,u),j=_k(g),E=jk(m,u);return e?x.createElement(x.Fragment,null,e.map((A,T)=>x.createElement(ln,lc({key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(T),className:"recharts-bar-rectangle"},$u(y,A,T),{onMouseEnter:b(A,T),onMouseLeave:j(A,T),onClick:E(A,T)}),d?x.createElement(iwe,{shape:o,activeBar:d,baseProps:a,entry:A,index:T,dataKey:u}):x.createElement(awe,{shape:o,baseProps:a,entry:A,index:T,dataKey:u})))):null}function owe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:m}=e,g=n.current,y=qf(e,"recharts-bar-"),[b,j]=x.useState(!1),E=!b,A=x.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),T=x.useCallback(()=>{typeof m=="function"&&m(),j(!0)},[m]);return x.createElement(rwe,{showLabels:E,rects:r},x.createElement(Ff,{animationId:y,begin:o,duration:u,isActive:a,easing:d,onAnimationEnd:A,onAnimationStart:T,key:y},O=>{var C=O===1?r:r?.map((U,B)=>{var $=g&&g[B];if($)return li(li({},U),{},{x:mn($.x,U.x,O),y:mn($.y,U.y,O),width:mn($.width,U.width,O),height:mn($.height,U.height,O)});if(i==="horizontal"){var N=mn(0,U.height,O);return li(li({},U),{},{y:U.y+U.height-N,height:N})}var k=mn(0,U.width,O);return li(li({},U),{},{width:k})});return O>0&&(n.current=C??null),C==null?null:x.createElement(ln,null,x.createElement(swe,{props:e,data:C}))}),x.createElement(bb,{label:e.label}),e.children)}function lwe(t){var e=x.useRef(null);return x.createElement(owe,{previousRectanglesRef:e,props:t})}var NF=0,cwe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:rn(t,e)}};class uwe extends x.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var m=pt("recharts-bar",i),g=h;return x.createElement(ln,{className:m,id:h},u&&x.createElement("defs",null,x.createElement(AF,{clipPathId:g,xAxisId:a,yAxisId:o})),x.createElement(ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(nwe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),x.createElement(lwe,this.props)))}}var dwe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Qo.isSsr,legendType:"rect",minPointSize:NF,xAxisId:0,yAxisId:0};function fwe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:m}=t,{needClip:g}=kk(e,n),y=Q0(),b=Nr(),j=bk(t.children,ag),E=Me(O=>Uwe(O,e,n,b,t.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var A,T=E?.[0];return T==null||T.height==null||T.width==null?A=0:A=y==="vertical"?T.height/2:T.width/2,x.createElement(EF,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:cwe,errorBarOffset:A},x.createElement(uwe,lc({},t,{layout:y,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:m})))}function hwe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:m,displayedData:g,offset:y,cells:b,parentViewBox:j}=t,E=e==="horizontal"?u:o,A=m?E.scale.domain():null,T=Mce({numericAxis:E});return g.map((O,C)=>{var U,B,$,N,k,I;m?U=Cce(m[C],A):(U=rn(O,n),Array.isArray(U)||(U=[T,U]));var L=Vbe(r,NF)(U[1],C);if(e==="horizontal"){var V,[q,M]=[u.scale(U[0]),u.scale(U[1])];B=TM({axis:o,ticks:d,bandSize:a,offset:i.offset,entry:O,index:C}),$=(V=M??q)!==null&&V!==void 0?V:void 0,N=i.size;var ce=q-M;if(k=Li(ce)?0:ce,I={x:B,y:y.top,width:N,height:y.height},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var me=Er(k||L)*(Math.abs(L)-Math.abs(k));$-=me,k+=me}}else{var[G,X]=[o.scale(U[0]),o.scale(U[1])];if(B=G,$=TM({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:O,index:C}),N=X-G,k=i.size,I={x:y.left,y:$,width:y.width,height:k},Math.abs(L)>0&&Math.abs(N)<Math.abs(L)){var se=Er(N||L)*(Math.abs(L)-Math.abs(N));N+=se}}if(B==null||$==null||N==null||k==null)return null;var be=li(li({},O),{},{x:B,y:$,width:N,height:k,value:m?U:U[1],payload:O,background:I,tooltipPosition:{x:B+N/2,y:$+k/2},parentViewBox:j},b&&b[C]&&b[C].props);return be}).filter(Boolean)}function mwe(t){var e=Sr(t,dwe),n=Nr();return x.createElement(Cb,{id:e.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(fF,{legendPayload:ewe(e)}),x.createElement(kb,{fn:twe,args:e}),x.createElement(pF,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Dce(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),x.createElement(fwe,lc({},e,{id:r}))))}var Am=x.memo(mwe);Am.displayName="Bar";function f5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(n),!0).forEach(function(r){pwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pwe(t,e,n){return(e=gwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gwe(t){var e=ywe(t,"string");return typeof e=="symbol"?e:e+""}function ywe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vwe=(t,e)=>e,xwe=(t,e,n)=>n,bwe=(t,e,n,r)=>r,wwe=(t,e,n,r,i)=>i,sg=re([fb,wwe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),_we=re([sg],t=>t?.maxBarSize),jwe=(t,e,n,r,i,a)=>a,h5=(t,e,n)=>{var r=n??t;if(!pn(r))return ei(r,e,0)},Ewe=re([xt,fb,vwe,xwe,bwe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Awe=(t,e,n,r)=>{var i=xt(t);return i==="horizontal"?gA(t,"yAxis",n,r):gA(t,"xAxis",e,r)},Nwe=(t,e,n)=>{var r=xt(t);return r==="horizontal"?Z4(t,"xAxis",e):Z4(t,"yAxis",n)},Swe=(t,e,n)=>{var r={},i=t.filter(cb),a=t.filter(h=>h.stackId==null),o=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),u=Object.entries(o).map(h=>{var[m,g]=h,y=g.map(j=>j.dataKey),b=h5(e,n,g[0].barSize);return{stackId:m,dataKeys:y,barSize:b}}),d=a.map(h=>{var m=[h.dataKey].filter(y=>y!=null),g=h5(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...d]},Twe=re([Ewe,Dme,Nwe],Swe),kwe=(t,e,n,r,i)=>{var a,o,u=sg(t,e,n,r,i);if(u!=null){var d=xt(t),h=AB(t),{maxBarSize:m}=u,g=pn(m)?h:m,y,b;return d==="horizontal"?(y=ac(t,"xAxis",e,r),b=ic(t,"xAxis",e,r)):(y=ac(t,"yAxis",n,r),b=ic(t,"yAxis",n,r)),(a=(o=Cu(y,b,!0))!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0}},SF=(t,e,n,r)=>{var i=xt(t),a,o;return i==="horizontal"?(a=ac(t,"xAxis",e,r),o=ic(t,"xAxis",e,r)):(a=ac(t,"yAxis",n,r),o=ic(t,"yAxis",n,r)),Cu(a,o)};function Cwe(t,e,n,r,i){var a=r.length;if(!(a<1)){var o=ei(t,n,0,!0),u,d=[];if(ni(r[0].barSize)){var h=!1,m=n/a,g=r.reduce((T,O)=>T+(O.barSize||0),0);g+=(a-1)*o,g>=n&&(g-=(a-1)*o,o=0),g>=n&&m>0&&(h=!0,m*=.9,g=a*m);var y=(n-g)/2>>0,b={offset:y-o,size:0};u=r.reduce((T,O)=>{var C,U={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:b.offset+b.size+o,size:h?m:(C=O.barSize)!==null&&C!==void 0?C:0}},B=[...T,U];return b=B[B.length-1].position,B},d)}else{var j=ei(e,n,0,!0);n-2*j-(a-1)*o<=0&&(o=0);var E=(n-2*j-(a-1)*o)/a;E>1&&(E>>=0);var A=ni(i)?Math.min(E,i):E;u=r.reduce((T,O,C)=>[...T,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:j+(E+o)*C+(E-A)/2,size:A}}],d)}return u}}var Pwe=(t,e,n,r,i,a,o)=>{var u=pn(o)?e:o,d=Cwe(n,r,i!==a?i:a,t,u);return i!==a&&d!=null&&(d=d.map(h=>Jy(Jy({},h),{},{position:Jy(Jy({},h.position),{},{offset:h.position.offset-i/2})}))),d},Iwe=re([Twe,AB,Rme,NB,kwe,SF,_we],Pwe),Owe=(t,e,n,r)=>ac(t,"xAxis",e,r),Rwe=(t,e,n,r)=>ac(t,"yAxis",n,r),Dwe=(t,e,n,r)=>ic(t,"xAxis",e,r),Mwe=(t,e,n,r)=>ic(t,"yAxis",n,r),Lwe=re([Iwe,sg],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Vwe=(t,e)=>{var n=VT(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},zwe=re([Awe,sg],Vwe),Uwe=re([dr,rT,Owe,Rwe,Dwe,Mwe,Lwe,xt,ab,SF,zwe,sg,jwe],(t,e,n,r,i,a,o,u,d,h,m,g,y)=>{var{chartData:b,dataStartIndex:j,dataEndIndex:E}=d;if(!(g==null||o==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||h==null)){var{data:A}=g,T;if(A!=null&&A.length>0?T=A:T=b?.slice(j,E+1),T!=null)return hwe({layout:u,barSettings:g,pos:o,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:T,offset:t,cells:y})}}),TF=t=>{var{chartData:e}=t,n=cn(),r=Nr();return x.useEffect(()=>r?()=>{}:(n(l3(e)),()=>{n(l3(void 0))}),[e,n,r]),null},m5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kF=aa({name:"brush",initialState:m5,reducers:{setBrushSettings(t,e){return e.payload==null?m5:e.payload}}}),{setBrushSettings:Dke}=kF.actions,Bwe=kF.reducer;function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(r){CF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CF(t,e,n){return(e=$we(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $we(t){var e=Fwe(t,"string");return typeof e=="symbol"?e:e+""}function Fwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qwe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},Hwe=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return qwe({x:e,y:n},{x:r,y:i})};class Pb{static create(e){return new Pb(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}CF(Pb,"EPS",1e-4);var Kwe=t=>{var e=Object.keys(t).reduce((n,r)=>ev(ev({},n),{},{[r]:Pb.create(t[r])}),{});return ev(ev({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[o,u]=a;return[o,e[o].apply(u,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function Gwe(t){return(t%180+180)%180}var Wwe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gwe(i),o=a*Math.PI/180,u=Math.atan(r/n),d=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},Ywe={dots:[],areas:[],lines:[]},PF=aa({name:"referenceElements",initialState:Ywe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=So(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=So(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=So(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Mke,removeDot:Lke,addArea:Vke,removeArea:zke,addLine:Qwe,removeLine:Xwe}=PF.actions,Zwe=PF.reducer,IF=x.createContext(void 0),Jwe=t=>{var{children:e}=t,[n]=x.useState("".concat(ip("recharts"),"-clip")),r=Ak();if(r==null)return null;var{x:i,y:a,width:o,height:u}=r;return x.createElement(IF.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:u,width:o}))),e)},e1e=()=>x.useContext(IF);function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){Ck(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ck(t,e,n){return(e=t1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t1e(t){var e=n1e(t,"string");return typeof e=="symbol"?e:e+""}function n1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(null,arguments)}var r1e=(t,e)=>{var n;return x.isValidElement(t)?n=x.cloneElement(t,e):typeof t=="function"?n=t(e):n=x.createElement("line",EA({},e,{className:"recharts-reference-line-line"})),n},i1e=(t,e,n,r,i,a,o,u,d)=>{var{x:h,y:m,width:g,height:y}=i;if(n){var{y:b}=d,j=t.y.apply(b,{position:a});if(Li(j)||d.ifOverflow==="discard"&&!t.y.isInRange(j))return null;var E=[{x:h+g,y:j},{x:h,y:j}];return u==="left"?E.reverse():E}if(e){var{x:A}=d,T=t.x.apply(A,{position:a});if(Li(T)||d.ifOverflow==="discard"&&!t.x.isInRange(T))return null;var O=[{x:T,y:m+y},{x:T,y:m}];return o==="top"?O.reverse():O}if(r){var{segment:C}=d,U=C.map(B=>t.apply(B,{position:a}));return d.ifOverflow==="discard"&&U.some(B=>!t.isInRange(B))?null:U}return null};function a1e(t){var e=cn();return x.useEffect(()=>(e(Qwe(t)),()=>{e(Xwe(t))})),null}function s1e(t){var{x:e,y:n,segment:r,xAxisId:i,yAxisId:a,shape:o,className:u,ifOverflow:d}=t,h=Nr(),m=e1e(),g=Me(V=>Ws(V,i)),y=Me(V=>Ys(V,a)),b=Me(V=>rc(V,"xAxis",i,h)),j=Me(V=>rc(V,"yAxis",a,h)),E=Kp(),A=Ma(e),T=Ma(n);if(!m||!E||g==null||y==null||b==null||j==null)return null;var O=Kwe({x:b,y:j}),C=r&&r.length===2,U=i1e(O,A,T,C,E,t.position,g.orientation,y.orientation,t);if(!U)return null;var[{x:B,y:$},{x:N,y:k}]=U,I=d==="hidden"?"url(#".concat(m,")"):void 0,L=y5(y5({clipPath:I},Kn(t)),{},{x1:B,y1:$,x2:N,y2:k});return x.createElement(ln,{className:pt("recharts-reference-line",u)},r1e(o,L),x.createElement(B$,Hwe({x1:B,y1:$,x2:N,y2:k}),x.createElement(G$,{label:t.label}),t.children))}function o1e(t){return x.createElement(x.Fragment,null,x.createElement(a1e,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y}),x.createElement(s1e,t))}class Pk extends x.Component{render(){return x.createElement(o1e,this.props)}}Ck(Pk,"displayName","ReferenceLine");Ck(Pk,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Af(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function OF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function l1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Wwe(r,n)}function c1e(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:u}=t;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function qx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function u1e(t,e){return OF(t,e+1)}function d1e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:u}=e,d=0,h=1,m=o,g=function(){var j=r?.[d];if(j===void 0)return{v:OF(r,h)};var E=d,A,T=()=>(A===void 0&&(A=n(j,E)),A),O=j.coordinate,C=d===0||qx(t,O,T,m,u);C||(d=0,m=o,h+=1),C&&(m=O+t*(T()/2+i),d+=h)},y;h<=a.length;)if(y=g(),y)return y.v;return[]}function v5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(n),!0).forEach(function(r){f1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f1e(t,e,n){return(e=h1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h1e(t){var e=m1e(t,"string");return typeof e=="symbol"?e:e+""}function m1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:u}=e,{end:d}=e,h=function(y){var b=a[y],j,E=()=>(j===void 0&&(j=n(b,y)),j);if(y===o-1){var A=t*(b.coordinate+t*E()/2-d);a[y]=b=Wr(Wr({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else a[y]=b=Wr(Wr({},b),{},{tickCoord:b.coordinate});var T=qx(t,b.tickCoord,E,u,d);T&&(d=b.tickCoord-t*(E()/2+i),a[y]=Wr(Wr({},b),{},{isShow:!0}))},m=o-1;m>=0;m--)h(m);return a}function g1e(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,{start:d,end:h}=e;if(a){var m=r[u-1],g=n(m,u-1),y=t*(m.coordinate+t*g/2-h);o[u-1]=m=Wr(Wr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var b=qx(t,m.tickCoord,()=>g,d,h);b&&(h=m.tickCoord-t*(g/2+i),o[u-1]=Wr(Wr({},m),{},{isShow:!0}))}for(var j=a?u-1:u,E=function(O){var C=o[O],U,B=()=>(U===void 0&&(U=n(C,O)),U);if(O===0){var $=t*(C.coordinate-t*B()/2-d);o[O]=C=Wr(Wr({},C),{},{tickCoord:$<0?C.coordinate-$*t:C.coordinate})}else o[O]=C=Wr(Wr({},C),{},{tickCoord:C.coordinate});var N=qx(t,C.tickCoord,B,d,h);N&&(d=C.tickCoord+t*(B()/2+i),o[O]=Wr(Wr({},C),{},{isShow:!0}))},A=0;A<j;A++)E(A);return o}function Ik(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:u,interval:d,tickFormatter:h,unit:m,angle:g}=t;if(!i||!i.length||!r)return[];if(Ge(d)||Qo.isSsr){var y;return(y=u1e(i,Ge(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],j=u==="top"||u==="bottom"?"width":"height",E=m&&j==="width"?Lm(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(C,U)=>{var B=typeof h=="function"?h(C.value,U):C.value;return j==="width"?l1e(Lm(B,{fontSize:e,letterSpacing:n}),E,g):Lm(B,{fontSize:e,letterSpacing:n})[j]},T=i.length>=2?Er(i[1].coordinate-i[0].coordinate):1,O=c1e(a,T,j);return d==="equidistantPreserveStart"?d1e(T,O,A,i,o):(d==="preserveStart"||d==="preserveStartEnd"?b=g1e(T,O,A,i,o,d==="preserveStartEnd"):b=p1e(T,O,A,i,o),b.filter(C=>C.isShow))}var y1e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>o&&(o=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,h=o+d+u+(n?r:0);return Math.round(h)}return 0},v1e=["axisLine","width","height","className","hide","ticks"],x1e=["viewBox"],b1e=["viewBox"];function AA(t,e){if(t==null)return{};var n,r,i=w1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(null,arguments)}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){_1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1e(t,e,n){return(e=j1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j1e(t){var e=E1e(t,"string");return typeof e=="symbol"?e:e+""}function E1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ok={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function A1e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=cr(cr(cr({},d),Nn(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);h=cr(cr({},h),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var g=+(a==="left"&&!o||a==="right"&&o);h=cr(cr({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return x.createElement("line",Ou({},h,{className:pt("recharts-cartesian-axis-line",Su(u,"className"))}))}function N1e(t,e,n,r,i,a,o,u,d){var h,m,g,y,b,j,E=u?-1:1,A=t.tickSize||o,T=Ge(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=m=t.coordinate,y=n+ +!u*i,g=y-E*A,j=g-E*d,b=T;break;case"left":g=y=t.coordinate,m=e+ +!u*r,h=m-E*A,b=h-E*d,j=T;break;case"right":g=y=t.coordinate,m=e+ +u*r,h=m+E*A,b=h+E*d,j=T;break;default:h=m=t.coordinate,y=n+ +u*i,g=y+E*A,j=g+E*d,b=T;break}return{line:{x1:h,y1:g,x2:m,y2:y},tick:{x:b,y:j}}}function S1e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function T1e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function k1e(t){var{option:e,tickProps:n,value:r}=t,i,a=pt(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,cr(cr({},n),{},{className:a}));else if(typeof e=="function")i=e(cr(cr({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=pt(o,e?.className)),i=x.createElement(nh,Ou({},n,{className:o}),r)}return i}function C1e(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:u,tickTextProps:d,orientation:h,mirror:m,x:g,y,width:b,height:j,tickSize:E,tickMargin:A,fontSize:T,letterSpacing:O,getTicksConfig:C,events:U}=t,B=Ik(cr(cr({},C),{},{ticks:e}),T,O),$=S1e(h,m),N=T1e(h,m),k=Nn(C),I=Do(n),L={};typeof r=="object"&&(L=r);var V=cr(cr({},k),{},{fill:"none"},L),q=B.map((M,ce)=>{var{line:me,tick:G}=N1e(M,g,y,b,j,h,E,m,A),X=cr(cr(cr(cr({textAnchor:$,verticalAnchor:N},k),{},{stroke:"none",fill:i},I),G),{},{index:ce,payload:M,visibleTicksCount:B.length,tickFormatter:a,padding:u},d);return x.createElement(ln,Ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},$u(U,M,ce)),r&&x.createElement("line",Ou({},V,me,{className:pt("recharts-cartesian-axis-tick-line",Su(r,"className"))})),n&&x.createElement(k1e,{option:n,tickProps:X,value:"".concat(typeof a=="function"?a(M.value,ce):M.value).concat(o||"")}))});return q.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},q):null}var P1e=x.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:u}=t,d=AA(t,v1e),[h,m]=x.useState(""),[g,y]=x.useState(""),b=x.useRef(null);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return y1e({ticks:b.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=x.useCallback(E=>{if(E){var A=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=A;var T=A[0];if(T){var O=window.getComputedStyle(T),C=O.fontSize,U=O.letterSpacing;(C!==h||U!==g)&&(m(C),y(U))}}},[h,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(ln,{className:pt("recharts-cartesian-axis",a),ref:j},x.createElement(A1e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Nn(t)}),x.createElement(C1e,{ticks:u,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:t,events:d}),x.createElement(B$,{x:t.x,y:t.y,width:t.width,height:t.height},x.createElement(G$,{label:t.label,labelRef:t.labelRef}),t.children))}),I1e=x.memo(P1e,(t,e)=>{var{viewBox:n}=t,r=AA(t,x1e),{viewBox:i}=e,a=AA(e,b1e);return Af(n,i)&&Af(r,a)}),Rk=x.forwardRef((t,e)=>{var n=Sr(t,Ok);return x.createElement(I1e,Ou({},n,{ref:e}))});Rk.displayName="CartesianAxis";var O1e=["x1","y1","x2","y2","key"],R1e=["offset"],D1e=["xAxisId","yAxisId"],M1e=["xAxisId","yAxisId"];function b5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(n),!0).forEach(function(r){L1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1e(t,e,n){return(e=V1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V1e(t){var e=z1e(t,"string");return typeof e=="symbol"?e:e+""}function z1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(null,arguments)}function Hx(t,e){if(t==null)return{};var n,r,i=U1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function U1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var B1e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:u}=t;return x.createElement("rect",{x:r,y:i,ry:u,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RF(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:u}=e,d=Hx(e,O1e),h=Nn(d),{offset:m}=h,g=Hx(h,R1e);n=x.createElement("line",cu({},g,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function $1e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=Hx(t,D1e),d=i.map((h,m)=>{var g=Qr(Qr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return RF(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function F1e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,u=Hx(t,M1e),d=i.map((h,m)=>{var g=Qr(Qr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return RF(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function q1e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var m=h.map((g,y)=>{var b=!h[y+1],j=b?i+o-g:h[y+1]-g;if(j<=0)return null;var E=y%e.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:j,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function H1e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var m=h.map((g,y)=>{var b=!h[y+1],j=b?i+o-g:h[y+1]-g;if(j<=0)return null;var E=y%n.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:a,width:j,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var K1e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return l8(Ik(Qr(Qr(Qr({},Ok),n),{},{ticks:c8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},G1e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return l8(Ik(Qr(Qr(Qr({},Ok),n),{},{ticks:c8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},W1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Nm(t){var e=aT(),n=sT(),r=g8(),i=Qr(Qr({},Sr(t,W1e)),{},{x:Ge(t.x)?t.x:r.left,y:Ge(t.y)?t.y:r.top,width:Ge(t.width)?t.width:r.width,height:Ge(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:u,y:d,width:h,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:b}=i,j=Nr(),E=Me(I=>J4(I,"xAxis",a,j)),A=Me(I=>J4(I,"yAxis",o,j));if(!Ge(h)||h<=0||!Ge(m)||m<=0||!Ge(u)||u!==+u||!Ge(d)||d!==+d)return null;var T=i.verticalCoordinatesGenerator||K1e,O=i.horizontalCoordinatesGenerator||G1e,{horizontalPoints:C,verticalPoints:U}=i;if((!C||!C.length)&&typeof O=="function"){var B=y&&y.length,$=O({yAxis:A?Qr(Qr({},A),{},{ticks:B?y:A.ticks}):void 0,width:e,height:n,offset:r},B?!0:g);wx(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(C=$)}if((!U||!U.length)&&typeof T=="function"){var N=b&&b.length,k=T({xAxis:E?Qr(Qr({},E),{},{ticks:N?b:E.ticks}):void 0,width:e,height:n,offset:r},N?!0:g);wx(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(U=k)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(B1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(q1e,cu({},i,{horizontalPoints:C})),x.createElement(H1e,cu({},i,{verticalPoints:U})),x.createElement($1e,cu({},i,{offset:r,horizontalPoints:C,xAxis:E,yAxis:A})),x.createElement(F1e,cu({},i,{offset:r,verticalPoints:U,xAxis:E,yAxis:A})))}Nm.displayName="CartesianGrid";var DF=(t,e,n,r)=>ac(t,"xAxis",e,r),MF=(t,e,n,r)=>ic(t,"xAxis",e,r),LF=(t,e,n,r)=>ac(t,"yAxis",n,r),VF=(t,e,n,r)=>ic(t,"yAxis",n,r),Y1e=re([xt,DF,LF,MF,VF],(t,e,n,r,i)=>Go(t,"xAxis")?Cu(e,r,!1):Cu(n,i,!1)),Q1e=(t,e,n,r,i)=>i;function X1e(t){return t.type==="line"}var Z1e=re([fb,Q1e],(t,e)=>t.filter(X1e).find(n=>n.id===e)),J1e=re([xt,DF,LF,MF,VF,Z1e,Y1e,ab],(t,e,n,r,i,a,o,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=u;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:g,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=d?.slice(h,m+1),b!=null)return __e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:o,displayedData:b})}});function e_e(t){var e=Do(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),u=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(u)||u<0)&&(u=r),{r:o,strokeWidth:u}}return{r:n,strokeWidth:r}}var t_e=["id"],n_e=["type","layout","connectNulls","needClip"],r_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function w5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(n),!0).forEach(function(r){i_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e,n){return(e=a_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=s_e(t,"string");return typeof e=="symbol"?e:e+""}function s_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dk(t,e){if(t==null)return{};var n,r,i=o_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(null,arguments)}var l_e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:yc(n,e),payload:t}]};function c_e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:u,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:yc(o,e),hide:u,type:t.tooltipType,color:t.stroke,unit:d}}}var zF=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function u_e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var d_e=(t,e,n)=>{var r=n.reduce((g,y)=>g+y);if(!r)return zF(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>a){u=[...n.slice(0,d),a-h];break}var m=u.length%2===0?[0,o]:[o];return[...u_e(n,i),...u,...m].map(g=>"".concat(g,"px")).join(", ")};function f_e(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=pt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=x.createElement(wb,Ru({},e,{className:r}))}return n}function h_e(t,e){return t==null?!1:e?!0:t.length===1}function m_e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!h_e(n,i))return null;var{id:u}=r,d=Dk(r,t_e),h=cF(i),m=Nn(d),g=XU(i),y=n.map((j,E)=>{var A=Wi(Wi(Wi({key:"dot-".concat(E),r:3},m),g),{},{index:E,cx:j.x,cy:j.y,dataKey:a,value:j.value,payload:j.payload,points:n});return f_e(i,A)}),b={clipPath:o?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return x.createElement(ln,Ru({className:"recharts-line-dots",key:"dots"},b),y)}function p_e(t){var{showLabels:e,children:n,points:r}=t,i=x.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Wi(Wi({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(mk,{value:e?i:null},n)}function _5(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:u,connectNulls:d,needClip:h}=a,m=Dk(a,n_e),g=Wi(Wi({},Kn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(lT,Ru({},g,{pathRef:n})),x.createElement(m_e,{points:r,clipPathId:e,props:a}))}function g_e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function y_e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:g,animateNewValues:y,width:b,height:j,onAnimationEnd:E,onAnimationStart:A}=n,T=i.current,O=qf(n,"recharts-line-"),[C,U]=x.useState(!1),B=!C,$=x.useCallback(()=>{typeof E=="function"&&E(),U(!1)},[E]),N=x.useCallback(()=>{typeof A=="function"&&A(),U(!0)},[A]),k=g_e(r.current),I=a.current;return x.createElement(p_e,{points:o,showLabels:B},n.children,x.createElement(Ff,{animationId:O,begin:h,duration:m,isActive:d,easing:g,onAnimationEnd:$,onAnimationStart:N,key:O},L=>{var V=mn(I,k+I,L),q=Math.min(V,k),M;if(d)if(u){var ce="".concat(u).split(/[,\s]+/gim).map(X=>parseFloat(X));M=d_e(q,k,ce)}else M=zF(k,q);else M=u==null?void 0:String(u);if(T){var me=T.length/o.length,G=L===1?o:o.map((X,se)=>{var be=Math.floor(se*me);if(T[be]){var Y=T[be];return Wi(Wi({},X),{},{x:mn(Y.x,X.x,L),y:mn(Y.y,X.y,L)})}return y?Wi(Wi({},X),{},{x:mn(b*2,X.x,L),y:mn(j/2,X.y,L)}):Wi(Wi({},X),{},{x:X.x,y:X.y})});return i.current=G,x.createElement(_5,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:M})}return L>0&&k>0&&(i.current=o,a.current=q),x.createElement(_5,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:M})}),x.createElement(bb,{label:n.label}))}function v_e(t){var{clipPathId:e,props:n}=t,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(y_e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var x_e=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:rn(t.payload,e)});class b_e extends x.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:u,left:d,width:h,height:m,id:g,needClip:y}=this.props;if(e)return null;var b=pt("recharts-line",i),j=g,{r:E,strokeWidth:A}=e_e(n),T=cF(n),O=E*2+A;return x.createElement(x.Fragment,null,x.createElement(ln,{className:b},y&&x.createElement("defs",null,x.createElement(AF,{clipPathId:j,xAxisId:a,yAxisId:o}),!T&&x.createElement("clipPath",{id:"clipPath-dots-".concat(j)},x.createElement("rect",{x:d-O/2,y:u-O/2,width:h+O,height:m+O}))),x.createElement(EF,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:x_e,errorBarOffset:0},x.createElement(v_e,{props:this.props,clipPathId:j}))),x.createElement(xF,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var UF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Qo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function w_e(t){var e=Sr(t,UF),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:u,dot:d,hide:h,isAnimationActive:m,label:g,legendType:y,xAxisId:b,yAxisId:j,id:E}=e,A=Dk(e,r_e),{needClip:T}=kk(b,j),O=Ak(),C=Q0(),U=Nr(),B=Me(L=>J1e(L,b,j,U,E));if(C!=="horizontal"&&C!=="vertical"||B==null||O==null)return null;var{height:$,width:N,x:k,y:I}=O;return x.createElement(b_e,Ru({},A,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:m,hide:h,label:g,legendType:y,xAxisId:b,yAxisId:j,points:B,layout:C,height:$,width:N,left:k,top:I,needClip:T}))}function __e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:u,displayedData:d}=t;return d.map((h,m)=>{var g=rn(h,o);if(e==="horizontal"){var y=SM({axis:n,ticks:i,bandSize:u,entry:h,index:m}),b=pn(g)?null:r.scale(g);return{x:y,y:b,value:g,payload:h}}var j=pn(g)?null:n.scale(g),E=SM({axis:r,ticks:a,bandSize:u,entry:h,index:m});return j==null||E==null?null:{x:j,y:E,value:g,payload:h}}).filter(Boolean)}function j_e(t){var e=Sr(t,UF),n=Nr();return x.createElement(Cb,{id:e.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(fF,{legendPayload:l_e(e)}),x.createElement(kb,{fn:c_e,args:e}),x.createElement(pF,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),x.createElement(w_e,Ru({},e,{id:r}))))}var NA=x.memo(j_e);NA.displayName="Line";var E_e=["dangerouslySetInnerHTML","ticks"],A_e=["id"],N_e=["domain"],S_e=["domain"];function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(null,arguments)}function Kx(t,e){if(t==null)return{};var n,r,i=T_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function k_e(t){var e=cn();return x.useLayoutEffect(()=>(e(U0e(t)),()=>{e(B0e(t))}),[t,e]),null}var C_e=t=>{var{xAxisId:e,className:n}=t,r=Me(rT),i=Nr(),a="xAxis",o=Me(A=>rc(A,a,e,i)),u=Me(A=>r$(A,a,e,i)),d=Me(A=>JB(A,e)),h=Me(A=>Ppe(A,e)),m=Me(A=>RB(A,e));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=t,b=Kx(t,E_e),{id:j}=m,E=Kx(m,A_e);return x.createElement(Rk,SA({},b,E,{scale:o,x:h.x,y:h.y,width:d.width,height:d.height,className:pt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u}))},P_e={allowDataOverflow:Ki.allowDataOverflow,allowDecimals:Ki.allowDecimals,allowDuplicatedCategory:Ki.allowDuplicatedCategory,height:Ki.height,hide:!1,mirror:Ki.mirror,orientation:Ki.orientation,padding:Ki.padding,reversed:Ki.reversed,scale:Ki.scale,tickCount:Ki.tickCount,type:Ki.type,xAxisId:0},I_e=t=>{var e,n,r,i,a,o=Sr(t,P_e);return x.createElement(x.Fragment,null,x.createElement(k_e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(C_e,o))},O_e=(t,e)=>{var{domain:n}=t,r=Kx(t,N_e),{domain:i}=e,a=Kx(e,S_e);return Af(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Af({domain:n},{domain:i}):!1},Sm=x.memo(I_e,O_e);Sm.displayName="XAxis";var R_e=["dangerouslySetInnerHTML","ticks"],D_e=["id"],M_e=["domain"],L_e=["domain"];function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(null,arguments)}function Gx(t,e){if(t==null)return{};var n,r,i=V_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function V_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function z_e(t){var e=cn();return x.useLayoutEffect(()=>(e($0e(t)),()=>{e(F0e(t))}),[t,e]),null}var U_e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=x.useRef(null),o=x.useRef(null),u=Me(rT),d=Nr(),h=cn(),m="yAxis",g=Me(B=>rc(B,m,e,d)),y=Me(B=>e$(B,e)),b=Me(B=>Ope(B,e)),j=Me(B=>r$(B,m,e,d)),E=Me(B=>DB(B,e));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!y||hk(i)||x.isValidElement(i)||E==null)){var B=a.current;if(B){var $=B.getCalculatedWidth();Math.round(y.width)!==Math.round($)&&h(q0e({id:e,width:$}))}}},[j,y,h,i,e,r,E]),y==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:T}=t,O=Gx(t,R_e),{id:C}=E,U=Gx(E,D_e);return x.createElement(Rk,TA({},O,U,{ref:a,labelRef:o,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:pt("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:j}))},B_e={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:Gi.allowDecimals,allowDuplicatedCategory:Gi.allowDuplicatedCategory,hide:!1,mirror:Gi.mirror,orientation:Gi.orientation,padding:Gi.padding,reversed:Gi.reversed,scale:Gi.scale,tickCount:Gi.tickCount,type:Gi.type,width:Gi.width,yAxisId:0},$_e=t=>{var e,n,r,i,a,o=Sr(t,B_e);return x.createElement(x.Fragment,null,x.createElement(z_e,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(U_e,o))},F_e=(t,e)=>{var{domain:n}=t,r=Gx(t,M_e),{domain:i}=e,a=Gx(e,L_e);return Af(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Af({domain:n},{domain:i}):!1},Tm=x.memo($_e,F_e);Tm.displayName="YAxis";var Oj={exports:{}},Rj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function q_e(){if(j5)return Rj;j5=1;var t=Tf();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Rj.useSyncExternalStoreWithSelector=function(d,h,m,g,y){var b=i(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=o(function(){function A(B){if(!T){if(T=!0,O=B,B=g(B),y!==void 0&&j.hasValue){var $=j.value;if(y($,B))return C=$}return C=B}if($=C,n(O,B))return $;var N=g(B);return y!==void 0&&y($,N)?(O=B,$):(O=B,C=N)}var T=!1,O,C,U=m===void 0?null:m;return[function(){return A(h())},U===null?void 0:function(){return A(U())}]},[h,m,g,y]);var E=r(d,b[0],b[1]);return a(function(){j.hasValue=!0,j.value=E},[E]),u(E),E},Rj}var E5;function H_e(){return E5||(E5=1,Oj.exports=q_e()),Oj.exports}H_e();function K_e(t){t()}function G_e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){K_e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var A5={notify(){},get:()=>[]};function W_e(t,e){let n,r=A5,i=0,a=!1;function o(E){m();const A=r.subscribe(E);let T=!1;return()=>{T||(T=!0,A(),g())}}function u(){r.notify()}function d(){j.onStateChange&&j.onStateChange()}function h(){return a}function m(){i++,n||(n=t.subscribe(d),r=G_e())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=A5)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,g())}const j={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return j}var Y_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q_e=Y_e(),X_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Z_e=X_e(),J_e=()=>Q_e||Z_e?x.useLayoutEffect:x.useEffect,eje=J_e(),tje=Symbol.for("react-redux-context"),nje=typeof globalThis<"u"?globalThis:{};function rje(){if(!x.createContext)return{};const t=nje[tje]??=new Map;let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var ije=rje();function aje(t){const{children:e,context:n,serverState:r,store:i}=t,a=x.useMemo(()=>{const d=W_e(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);eje(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const u=n||ije;return x.createElement(u.Provider,{value:a},e)}var sje=aje,oje=(t,e)=>e,Mk=re([oje,xt,Yf,hr,w$,Zo,Mge,dr],Bge),Lk=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},BF=La("mouseClick"),$F=qp();$F.startListening({actionCreator:BF,effect:(t,e)=>{var n=t.payload,r=Mk(e.getState(),Lk(n));r?.activeIndex!=null&&e.dispatch(qpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kA=La("mouseMove"),FF=qp();FF.startListening({actionCreator:kA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ik(r,r.tooltip.settings.shared),a=Mk(r,Lk(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(f$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(d$()))}});var N5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},qF=aa({name:"rootProps",initialState:N5,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:N5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),lje=qF.reducer,{updateOptions:cje}=qF.actions,HF=aa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:uje}=HF.actions,dje=HF.reducer,KF=La("keyDown"),GF=La("focus"),Vk=qp();Vk.startListening({actionCreator:KF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(ak(i,th(n))),u=Zo(n);if(a==="Enter"){var d=Lx(n,"axis","hover",String(i.index));e.dispatch(vA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Dpe(n),m=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,y=o+g*m;if(!(u==null||y>=u.length||y<0)){var b=Lx(n,"axis","hover",String(y));e.dispatch(vA({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});Vk.startListening({actionCreator:GF,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Lx(n,"axis","hover",String(a));e.dispatch(vA({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Sa=La("externalEvent"),WF=qp();WF.startListening({actionCreator:Sa,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Nge(n),activeDataKey:A$(n),activeIndex:sc(n),activeLabel:E$(n),activeTooltipIndex:sc(n),isTooltipActive:Sge(n)};t.payload.handler(r,t.payload.reactEvent)}}});var fje=re([eh],t=>t.tooltipItemPayloads),hje=re([fje,rg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),YF=La("touchMove"),QF=qp();QF.startListening({actionCreator:YF,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=ik(r,r.tooltip.settings.shared);if(i==="axis"){var a=Mk(r,Lk({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(f$({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(d8),m=(o=d.getAttribute(f8))!==null&&o!==void 0?o:void 0,g=hje(e.getState(),h,m);e.dispatch(u$({activeDataKey:m,activeIndex:h,activeCoordinate:g}))}}});var mje=R9({brush:Bwe,cartesianAxis:H0e,chartData:rye,errorBars:Ube,graphicalItems:d0e,layout:mce,legend:bue,options:Zge,polarAxis:Jve,polarOptions:dje,referenceElements:Zwe,rootProps:lje,tooltip:Hpe}),pje=function(e){return zle({reducer:mje,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([$F.middleware,FF.middleware,Vk.middleware,WF.middleware,QF.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(K9({type:"raf"}))},devTools:Qo.devToolsEnabled})};function XF(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Nr(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=pje(e));var o=XS;return x.createElement(sje,{context:o,store:a.current},n)}function ZF(t){var{layout:e,margin:n}=t,r=cn(),i=Nr();return x.useEffect(()=>{i||(r(dce(e)),r(uce(n)))},[r,i,e,n]),null}function JF(t){var e=cn();return x.useEffect(()=>{e(cje(t))},[e,t]),null}var gje=["children"];function yje(t,e){if(t==null)return{};var n,r,i=vje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(null,arguments)}var xje={width:"100%",height:"100%",display:"block"},bje=x.forwardRef((t,e)=>{var n=aT(),r=sT(),i=b8();if(!xf(n)||!xf(r))return null;var{children:a,otherAttributes:o,title:u,desc:d}=t,h,m;return typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0,x.createElement(VS,Wx({},o,{title:u,desc:d,role:m,tabIndex:h,width:n,height:r,style:xje,ref:e}),a)}),wje=t=>{var{children:e}=t,n=Me(Y0);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return x.createElement(VS,{width:r,height:i,x:o,y:a},e)},S5=x.forwardRef((t,e)=>{var{children:n}=t,r=yje(t,gje),i=Nr();return i?x.createElement(wje,null,n):x.createElement(bje,Wx({ref:e},r),n)});function _je(){var t=cn(),[e,n]=x.useState(null),r=Me(Fce);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ni(a)&&a!==r&&t(hce(a))}},[e,t,r]),n}function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jje(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(r){Eje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eje(t,e,n){return(e=Aje(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aje(t){var e=Nje(t,"string");return typeof e=="symbol"?e:e+""}function Nje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(null,arguments)}var Sje=()=>(fye(),null);function Yx(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Tje=x.forwardRef((t,e)=>{var n,r,i=x.useRef(null),[a,o]=x.useState({containerWidth:Yx((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Yx((r=t.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((h,m)=>{o(g=>{var y=Math.round(h),b=Math.round(m);return g.containerWidth===y&&g.containerHeight===b?g:{containerWidth:y,containerHeight:b}})},[]),d=x.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null){var{width:m,height:g}=h.getBoundingClientRect();u(m,g);var y=j=>{var{width:E,height:A}=j[0].contentRect;u(E,A)},b=new ResizeObserver(y);b.observe(h),i.current=b}},[e,u]);return x.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(X0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Du({ref:d},t)))}),kje=x.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=x.useState({containerWidth:Yx(n),containerHeight:Yx(r)}),o=x.useCallback((d,h)=>{a(m=>{var g=Math.round(d),y=Math.round(h);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),u=x.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();o(h,m)}},[e,o]);return x.createElement(x.Fragment,null,x.createElement(X0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Du({ref:u},t)))}),Cje=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return x.createElement(x.Fragment,null,x.createElement(X0,{width:n,height:r}),x.createElement("div",Du({ref:e},t)))}),Pje=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return Mo(n)||Mo(r)?x.createElement(kje,Du({},t,{ref:e})):x.createElement(Cje,Du({},t,{ref:e}))});function Ije(t){return t===!0?Tje:Pje}var Oje=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:j,onTouchStart:E,style:A,width:T,responsive:O,dispatchTouchEvents:C=!0}=t,U=x.useRef(null),B=cn(),[$,N]=x.useState(null),[k,I]=x.useState(null),L=_je(),V=iT(),q=V?.width>0?V.width:T,M=V?.height>0?V.height:i,ce=x.useCallback(ae=>{L(ae),typeof e=="function"&&e(ae),N(ae),I(ae),ae!=null&&(U.current=ae)},[L,e,N,I]),me=x.useCallback(ae=>{B(BF(ae)),B(Sa({handler:a,reactEvent:ae}))},[B,a]),G=x.useCallback(ae=>{B(kA(ae)),B(Sa({handler:h,reactEvent:ae}))},[B,h]),X=x.useCallback(ae=>{B(d$()),B(Sa({handler:m,reactEvent:ae}))},[B,m]),se=x.useCallback(ae=>{B(kA(ae)),B(Sa({handler:g,reactEvent:ae}))},[B,g]),be=x.useCallback(()=>{B(GF())},[B]),Y=x.useCallback(ae=>{B(KF(ae.key))},[B]),z=x.useCallback(ae=>{B(Sa({handler:o,reactEvent:ae}))},[B,o]),Q=x.useCallback(ae=>{B(Sa({handler:u,reactEvent:ae}))},[B,u]),ue=x.useCallback(ae=>{B(Sa({handler:d,reactEvent:ae}))},[B,d]),ge=x.useCallback(ae=>{B(Sa({handler:y,reactEvent:ae}))},[B,y]),pe=x.useCallback(ae=>{B(Sa({handler:E,reactEvent:ae}))},[B,E]),Ne=x.useCallback(ae=>{C&&B(YF(ae)),B(Sa({handler:j,reactEvent:ae}))},[B,C,j]),Ae=x.useCallback(ae=>{B(Sa({handler:b,reactEvent:ae}))},[B,b]),Le=Ije(O);return x.createElement(P$.Provider,{value:$},x.createElement(ZU.Provider,{value:k},x.createElement(Le,{width:q??A?.width,height:M??A?.height,className:pt("recharts-wrapper",r),style:jje({position:"relative",cursor:"default",width:q,height:M},A),onClick:me,onContextMenu:z,onDoubleClick:Q,onFocus:be,onKeyDown:Y,onMouseDown:ue,onMouseEnter:G,onMouseLeave:X,onMouseMove:se,onMouseUp:ge,onTouchEnd:Ae,onTouchMove:Ne,onTouchStart:pe,ref:ce},x.createElement(Sje,null),n)))}),Rje=["width","height","responsive","children","className","style","compact","title","desc"];function Dje(t,e){if(t==null)return{};var n,r,i=Mje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e7=x.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:u,compact:d,title:h,desc:m}=t,g=Dje(t,Rje),y=Nn(g);return d?x.createElement(x.Fragment,null,x.createElement(X0,{width:n,height:r}),x.createElement(S5,{otherAttributes:y,title:h,desc:m},a)):x.createElement(Oje,{className:o,style:u,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(S5,{otherAttributes:y,title:h,desc:m,ref:e},x.createElement(Jwe,null,a)))});function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(null,arguments)}var Lje={top:5,right:5,bottom:5,left:5},Vje={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lje,reverseStackOrder:!1,syncMethod:"index",responsive:!1},t7=x.forwardRef(function(e,n){var r,i=Sr(e.categoricalChartProps,Vje),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,m={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(XF,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},x.createElement(TF,{chartData:h.data}),x.createElement(ZF,{layout:i.layout,margin:i.margin}),x.createElement(JF,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(e7,CA({},i,{ref:n})))}),zje=["axis"],k5=x.forwardRef((t,e)=>x.createElement(t7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zje,tooltipPayloadSearcher:xb,categoricalChartProps:t,ref:e})),Uje=["axis","item"],C5=x.forwardRef((t,e)=>x.createElement(t7,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uje,tooltipPayloadSearcher:xb,categoricalChartProps:t,ref:e}));function Bje(t){var e=cn();return x.useEffect(()=>{e(uje(t))},[e,t]),null}var $je=["layout"];function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}function Fje(t,e){if(t==null)return{};var n,r,i=qje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hje={top:5,right:5,bottom:5,left:5},Kje={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hje,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},n7=x.forwardRef(function(e,n){var r,i=Sr(e.categoricalChartProps,Kje),{layout:a}=i,o=Fje(i,$je),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(XF,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(TF,{chartData:i.data}),x.createElement(ZF,{layout:a,margin:i.margin}),x.createElement(JF,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Bje,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(e7,PA({},o,{ref:n})))}),Gje=["item"],Wje={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Yje=x.forwardRef((t,e)=>{var n=Sr(t,Wje);return x.createElement(n7,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gje,tooltipPayloadSearcher:xb,categoricalChartProps:n,ref:e})}),Qje=["axis"],Xje={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zje=x.forwardRef((t,e)=>{var n=Sr(t,Xje);return x.createElement(n7,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qje,tooltipPayloadSearcher:xb,categoricalChartProps:n,ref:e})});const Jje=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Oct","Nov","Dec"].map((e,n)=>({date:e,overallScore:70+Math.sin(n*.5)*5,psychologicalSafety:75-n*2+Math.random()*5,prosocialNorms:68-n*1.5+Math.random()*3,collaboration:65-n*.5+Math.random()*3,growth:72-n*1+Math.random()*4})),eEe=[{date:"Jan",overall:75,empathy:78,strengths:76,allyship:74,decisionMaking:73},{date:"Feb",overall:74,empathy:77,strengths:75,allyship:73,decisionMaking:72},{date:"Mar",overall:73,empathy:76,strengths:74,allyship:72,decisionMaking:71},{date:"Apr",overall:72,empathy:75,strengths:73,allyship:71,decisionMaking:70},{date:"May",overall:55,empathy:58,strengths:56,allyship:54,decisionMaking:52},{date:"Jun",overall:54,empathy:57,strengths:55,allyship:53,decisionMaking:51},{date:"Jul",overall:53,empathy:56,strengths:54,allyship:52,decisionMaking:50},{date:"Aug",overall:52,empathy:55,strengths:53,allyship:51,decisionMaking:49},{date:"Oct",overall:51,empathy:54,strengths:52,allyship:50,decisionMaking:48},{date:"Nov",overall:50,empathy:53,strengths:51,allyship:49,decisionMaking:47},{date:"Dec",overall:49,empathy:52,strengths:50,allyship:48,decisionMaking:46}],P5=()=>{const{tab:t}=jp(),e=Vi(),[n,r]=x.useState("overview"),[i,a]=x.useState("1 Jan 2023 - 31 Dec 2023"),[o,u]=x.useState(null),[d,h]=x.useState(null),m=[{id:"trend",label:"Trend"},{id:"campaigns",label:"Campaigns"}],g=[{value:"overview",label:"Overview"},{value:"psychological-safety",label:"Psychological Safety"},{value:"prosocial-norms",label:"Prosocial Norms"},{value:"collaboration",label:"Collaboration"},{value:"growth",label:"Growth"}],y=n==="psychological-safety"?eEe:Jje(),j=n==="psychological-safety"?{title:"Psychological Safety",score:55,trend:-15.2,lines:[{key:"overall",color:"#E5E5E5",label:"Overall Score",strokeDasharray:"5 5"},{key:"empathy",color:"#10B981",label:"Empathy"},{key:"strengths",color:"#3B82F6",label:"Strengths"},{key:"allyship",color:"#6366F1",label:"Allyship"},{key:"decisionMaking",color:"#EC4899",label:"Decision-making"}]}:{title:"Leadership Competencies Over Time",score:76,trend:3.03,lines:[{key:"overallScore",color:"#E5E5E5",label:"Overall Score",strokeDasharray:"5 5"},{key:"psychologicalSafety",color:"#EF4444",label:"Psychological Safety"},{key:"prosocialNorms",color:"#3B82F6",label:"Prosocial Norms"},{key:"collaboration",color:"#A855F7",label:"Collaboration"},{key:"growth",color:"#F59E0B",label:"Growth"}]},E=[{id:"1",name:"Q1 Leadership Development",description:"Quarterly leadership check-in for all managers",status:"active",startDate:new Date("2024-01-01"),endDate:new Date("2024-03-31"),completionRate:67,totalResponses:45,participants:67,targetCompetencies:["Leadership","Communication"]},{id:"2",name:"Culture Pulse Survey",description:"Monthly culture and competency assessment",status:"active",startDate:new Date("2024-02-01"),endDate:new Date("2024-02-29"),completionRate:82,totalResponses:120,participants:146,targetCompetencies:["Culture","Inclusion"]},{id:"3",name:"Q2 Team Collaboration",description:"Quarterly team collaboration assessment",status:"active",startDate:new Date("2024-04-01"),endDate:new Date("2024-06-30"),completionRate:54,totalResponses:38,participants:70,targetCompetencies:["Collaboration","Teamwork"]},{id:"4",name:"Skills Tomorrow Initiative",description:"Future skills development program",status:"active",startDate:new Date("2024-03-01"),endDate:new Date("2024-05-31"),completionRate:91,totalResponses:95,participants:104,targetCompetencies:["Growth","Innovation"]}],A=C=>["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7","Week 8","Week 9","Week 10","Week 11","Week 12"].map((B,$)=>({week:B,responses:Math.floor(Math.random()*8)+2,completionRate:Math.min(100,30+$*5+Math.random()*10),cumulative:Math.min(C.participants,Math.floor((30+$*5)*C.participants/100))})),T=()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(U=>({day:U,responses:Math.floor(Math.random()*12)+1,completed:Math.floor(Math.random()*8)+1})),O=()=>{const[C,U]=x.useState(E.length>0?E[0].id:""),B=N=>N.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=E.filter(N=>N.id===C);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Campaign Analytics"}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 flex-1 sm:flex-initial",children:[l.jsx("label",{className:"text-sm text-dark-text-muted whitespace-nowrap",children:"Filter by Campaign:"}),l.jsx("select",{value:C,onChange:N=>U(N.target.value),className:"input px-4 py-2 w-full sm:min-w-[250px]",children:E.map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))})]}),l.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 hover:bg-dark-card rounded-lg border border-dark-border w-full sm:w-auto",children:[l.jsx("span",{children:"Share"}),l.jsx(sD,{size:18})]})]})]}),$.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx($U,{size:48,className:"text-dark-text-muted mx-auto mb-4"}),l.jsx("p",{className:"text-dark-text-muted",children:"No campaigns found"}),l.jsx("p",{className:"text-sm text-dark-text-muted mt-2",children:"Create and launch a campaign to see analytics here"})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6",children:$.map(N=>{const k=A(N),I=T(),L=Math.round(N.totalResponses*(N.completionRate/100)),V=N.totalResponses-L,q=[{name:"Completed",value:L,color:"#10B981"},{name:"Pending",value:V,color:"#F59E0B"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-dark-text mb-2",children:N.name}),l.jsx("p",{className:"text-sm text-dark-text-muted mb-4",children:N.description}),l.jsxs("div",{className:"flex flex-wrap gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-dark-text-muted",children:[l.jsx(tx,{size:16}),l.jsxs("span",{children:[B(N.startDate)," - ",B(N.endDate)]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-dark-text-muted",children:[l.jsx(ui,{size:16}),l.jsxs("span",{children:[N.participants," participants"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-dark-text-muted",children:[l.jsx(O0,{size:16}),l.jsxs("span",{children:[N.completionRate,"% completion"]})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"text-sm font-medium text-dark-text mb-2",children:"Target Competencies"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:N.targetCompetencies.map(M=>l.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:M},M))})]})]})})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-dark-text mb-4",children:"Response Rate Over Time"}),l.jsx("div",{className:"h-[300px]",children:l.jsx(Dd,{width:"100%",height:"100%",children:l.jsxs(k5,{data:k,children:[l.jsx(Nm,{strokeDasharray:"3 3",stroke:"#3A3A3A"}),l.jsx(Sm,{dataKey:"week",stroke:"#A0A0A0"}),l.jsx(Tm,{stroke:"#A0A0A0",domain:[0,100]}),l.jsx(dm,{contentStyle:{backgroundColor:"#2A2A2A",border:"1px solid #3A3A3A",borderRadius:"8px",color:"#E5E5E5"}}),l.jsx(su,{}),l.jsx(NA,{type:"monotone",dataKey:"completionRate",stroke:"#3B82F6",strokeWidth:2,name:"Completion Rate (%)",dot:{r:4},activeDot:{r:6}})]})})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-dark-text mb-4",children:"Completion Status"}),l.jsx("div",{className:"h-[300px]",children:l.jsx(Dd,{width:"100%",height:"100%",children:l.jsxs(Yje,{children:[l.jsx(yF,{data:q,cx:"50%",cy:"50%",labelLine:!1,label:M=>{const ce=M.name??"",me=typeof M.value=="number"?M.value:Number(M.value??0),G=typeof M.percent=="number"?M.percent:Number(M.percent??0);return`${ce}: ${me} (${Math.round(G*100)}%)`},outerRadius:80,fill:"#8884d8",dataKey:"value",children:q.map((M,ce)=>l.jsx(ag,{fill:M.color},`cell-${ce}`))}),l.jsx(dm,{contentStyle:{backgroundColor:"#2A2A2A",border:"1px solid #3A3A3A",borderRadius:"8px",color:"#E5E5E5"}})]})})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-dark-text mb-4",children:"Weekly Response Trends"}),l.jsx("div",{className:"h-[300px]",children:l.jsx(Dd,{width:"100%",height:"100%",children:l.jsxs(C5,{data:k,children:[l.jsx(Nm,{strokeDasharray:"3 3",stroke:"#3A3A3A"}),l.jsx(Sm,{dataKey:"week",stroke:"#A0A0A0"}),l.jsx(Tm,{stroke:"#A0A0A0"}),l.jsx(dm,{contentStyle:{backgroundColor:"#2A2A2A",border:"1px solid #3A3A3A",borderRadius:"8px",color:"#E5E5E5"}}),l.jsx(su,{}),l.jsx(Am,{dataKey:"responses",fill:"#3B82F6",name:"Responses"}),l.jsx(Am,{dataKey:"cumulative",fill:"#10B981",name:"Cumulative"})]})})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-dark-text mb-4",children:"Daily Response Distribution"}),l.jsx("div",{className:"h-[300px]",children:l.jsx(Dd,{width:"100%",height:"100%",children:l.jsxs(C5,{data:I,children:[l.jsx(Nm,{strokeDasharray:"3 3",stroke:"#3A3A3A"}),l.jsx(Sm,{dataKey:"day",stroke:"#A0A0A0"}),l.jsx(Tm,{stroke:"#A0A0A0"}),l.jsx(dm,{contentStyle:{backgroundColor:"#2A2A2A",border:"1px solid #3A3A3A",borderRadius:"8px",color:"#E5E5E5"}}),l.jsx(su,{}),l.jsx(Am,{dataKey:"responses",fill:"#6366F1",name:"Total Responses"}),l.jsx(Am,{dataKey:"completed",fill:"#10B981",name:"Completed"})]})})})]})]})]},N.id)})})]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"px-4 py-2 bg-dark-card rounded-lg border border-dark-border flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:"Analytics"}),l.jsx("span",{className:"text-dark-text-muted",children:"/"}),l.jsx("span",{className:"text-sm font-medium",children:t==="campaigns"?"Campaigns":"Trend"})]})})}),l.jsx("div",{className:"border-b border-dark-border",children:l.jsx("div",{className:"flex gap-6",children:m.map(C=>l.jsxs("button",{onClick:()=>e(`/admin/analytics/${C.id}`),className:`pb-3 px-1 relative ${t===C.id||!t&&C.id==="trend"?"text-primary font-medium":"text-dark-text-muted hover:text-dark-text"}`,children:[C.label,(t===C.id||!t&&C.id==="trend")&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]},C.id))})}),t==="campaigns"?l.jsx(O,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold",children:n==="psychological-safety"?"Psychological Safety":"Leadership Competencies Over Time"}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 hover:bg-dark-card rounded-lg border border-dark-border",children:[l.jsx("span",{children:"Share"}),l.jsx(sD,{size:18})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-dark-text-muted mb-2",children:"Competancies"}),l.jsx("select",{value:n,onChange:C=>r(C.target.value),className:"input w-full",children:g.map(C=>l.jsx("option",{value:C.value,children:C.label},C.value))})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-dark-text-muted mb-2",children:"Date Range"}),l.jsxs("select",{value:i,onChange:C=>a(C.target.value),className:"input w-full",children:[l.jsx("option",{children:"1 Jan 2023 - 31 Dec 2023"}),l.jsx("option",{children:"1 Jul 2023 - 31 Dec 2023"}),l.jsx("option",{children:"1 Oct 2023 - 31 Dec 2023"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-dark-text-muted mb-2",children:"Milestones"}),l.jsxs("select",{value:o||"",onChange:C=>u(C.target.value||null),className:"input w-full",children:[l.jsx("option",{value:"",children:"Please select"}),l.jsx("option",{value:"1",children:"RTO Policy (May 2023)"}),l.jsx("option",{value:"2",children:"Leadership Training (Aug 2023)"})]})]})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"flex-1 card",children:[l.jsxs("div",{className:"h-[400px] relative",children:[l.jsx(Dd,{width:"100%",height:"100%",children:l.jsxs(k5,{data:y,margin:{top:20,right:30,left:20,bottom:20},onMouseMove:C=>{C&&C.activePayload&&h(C.activePayload[0]?.payload)},onMouseLeave:()=>h(null),children:[l.jsx(Nm,{strokeDasharray:"3 3",stroke:"#3A3A3A"}),l.jsx(Sm,{dataKey:"date",stroke:"#A0A0A0"}),l.jsx(Tm,{stroke:"#A0A0A0",domain:[0,90]}),l.jsx(dm,{contentStyle:{backgroundColor:"#2A2A2A",border:"1px solid #3A3A3A",borderRadius:"8px",color:"#E5E5E5"}}),l.jsx(su,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),o==="1"&&l.jsx(Pk,{x:"May",stroke:"#F7B500",strokeDasharray:"3 3",label:{value:"RTO",position:"top",fill:"#F7B500",fontSize:12}}),j.lines.map(C=>l.jsx(NA,{type:"monotone",dataKey:C.key,stroke:C.color,strokeWidth:2,strokeDasharray:C.strokeDasharray,name:C.label,dot:!1,activeDot:{r:6}},C.key))]})}),o==="1"&&d?.date==="May"&&l.jsx("div",{className:"absolute top-[45%] left-[45%] bg-primary rounded-full w-8 h-8 flex items-center justify-center shadow-lg",children:l.jsx("span",{className:"text-dark-bg text-xs font-bold",children:"!"})})]}),l.jsx("div",{className:"flex gap-2 mt-6 flex-wrap",children:j.lines.map(C=>l.jsxs("button",{className:"px-4 py-2 rounded-lg bg-dark-bg text-sm flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-0.5",style:{backgroundColor:C.color,...C.strokeDasharray&&{backgroundImage:`repeating-linear-gradient(to right, ${C.color} 0, ${C.color} 5px, transparent 5px, transparent 10px)`}}}),l.jsx("span",{children:C.label})]},C.key))})]}),l.jsxs("div",{className:"w-64 card",children:[l.jsx("div",{className:"text-sm text-dark-text-muted mb-2",children:n==="psychological-safety"?"Average Psychological Safety Score":"Current Leadership Score"}),l.jsx("div",{className:"text-6xl font-bold mb-2",children:j.score}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:"Outperforming"}),l.jsxs("div",{className:`flex items-center gap-1 ${j.trend>0?"text-green-500":"text-red-500"}`,children:[l.jsxs("span",{className:"font-medium",children:[j.trend>0?"+":"",j.trend,"%"]}),j.trend>0?l.jsx(yf,{size:16}):l.jsx(ese,{size:16})]})]})]})]})]})]})},tEe=()=>{const{user:t}=Ar(),[e,n]=x.useState({name:t?.name||"",email:t?.email||"",department:t?.department||""}),[r,i]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,o]=x.useState({emailNotifications:!0,campaignUpdates:!0,analyticsReports:!1,securityAlerts:!0}),u="rounded-2xl border border-dark-border/70 bg-dark-card/80 p-6",d=g=>{g.preventDefault(),console.log("Profile updated:",e)},h=g=>{g.preventDefault(),console.log("Password change requested")},m=()=>{console.log("Notifications updated:",a)};return l.jsxs("div",{className:"p-8",children:[l.jsx("div",{className:"mb-10 border-b border-dark-border/70 pb-8",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-8",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-dark-text-muted",children:"Admin Profile"}),l.jsx("h1",{className:"mt-3 text-4xl font-semibold text-dark-text",children:"Account Settings"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-dark-text-muted",children:"Manage your profile information, security preferences, and notification settings."})]}),l.jsx("div",{className:"text-right text-xs text-dark-text-muted max-w-sm",children:"Keep your details up to date so invite emails and reports use your preferred contact info."})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:u,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(Nu,{size:24,className:"text-primary"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:"Profile Information"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-dark-border",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-primary to-blue-light flex items-center justify-center text-white text-2xl font-bold",children:t?.name?.charAt(0).toUpperCase()||"A"}),l.jsxs("div",{children:[l.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-dark-card border border-dark-border rounded-lg text-dark-text hover:bg-dark-bg transition-colors",children:[l.jsx(oie,{size:16}),"Change Photo"]}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-1",children:"JPG, PNG or GIF. Max 2MB"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Full Name"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"text",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",value:e.name,onChange:g=>n({...e,name:g.target.value}),placeholder:"Enter your full name"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Email Address"}),l.jsxs("div",{className:"mt-2 flex items-center gap-3 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:[l.jsx(Eu,{size:18,className:"text-dark-text-muted"}),l.jsx("input",{type:"email",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",value:e.email,onChange:g=>n({...e,email:g.target.value}),placeholder:"your.email@company.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Department"}),l.jsxs("div",{className:"mt-2 flex items-center gap-3 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:[l.jsx(Oi,{size:18,className:"text-dark-text-muted"}),l.jsx("input",{type:"text",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",value:e.department,onChange:g=>n({...e,department:g.target.value}),placeholder:"e.g., Marketing, HR, IT"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Role"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3 text-dark-text capitalize cursor-not-allowed",children:t?.role||"Admin"}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-1",children:"Contact your system administrator to change roles"})]}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:[l.jsx(gf,{size:18}),"Save Changes"]})})]})]}),l.jsxs("div",{className:u,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(wo,{size:24,className:"text-primary"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:"Security"})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Current Password"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"password",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",value:r.currentPassword,onChange:g=>i({...r,currentPassword:g.target.value}),placeholder:"Enter current password"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"New Password"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"password",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",value:r.newPassword,onChange:g=>i({...r,newPassword:g.target.value}),placeholder:"Enter new password"})}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and numbers"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Confirm New Password"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"password",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",value:r.confirmPassword,onChange:g=>i({...r,confirmPassword:g.target.value}),placeholder:"Confirm new password"})})]}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{type:"submit",className:"btn-primary flex items-center gap-2",children:[l.jsx(Au,{size:18}),"Update Password"]})})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-dark-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-dark-text mb-1",children:"Two-Factor Authentication"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Add an extra layer of security to your account"})]}),l.jsx("button",{className:"px-4 py-2 bg-dark-card border border-dark-border rounded-lg text-dark-text hover:bg-dark-bg transition-colors text-sm",children:"Enable"})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:u,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-primary/10 rounded-lg",children:l.jsx(Nu,{size:20,className:"text-blue-primary"})}),l.jsx("h3",{className:"text-lg font-semibold text-dark-text",children:"Account Overview"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dark-border",children:[l.jsx("span",{className:"text-sm text-dark-text-muted",children:"Account ID"}),l.jsx("span",{className:"text-sm text-dark-text font-mono",children:t?.id||"admin-001"})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dark-border",children:[l.jsx("span",{className:"text-sm text-dark-text-muted",children:"Member Since"}),l.jsx("span",{className:"text-sm text-dark-text",children:"Jan 2024"})]}),l.jsxs("div",{className:"flex justify-between items-center py-2",children:[l.jsx("span",{className:"text-sm text-dark-text-muted",children:"Last Login"}),l.jsx("span",{className:"text-sm text-dark-text",children:"Today, 9:42 AM"})]})]})]}),l.jsxs("div",{className:u,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(np,{size:20,className:"text-primary"})}),l.jsx("h3",{className:"text-lg font-semibold text-dark-text",children:"Notifications"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-dark-text",children:"Email Notifications"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Receive updates via email"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.emailNotifications,onChange:g=>o({...a,emailNotifications:g.target.checked})}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-dark-text",children:"Campaign Updates"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"News about campaigns"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.campaignUpdates,onChange:g=>o({...a,campaignUpdates:g.target.checked})}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-dark-text",children:"Analytics Reports"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Weekly performance reports"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.analyticsReports,onChange:g=>o({...a,analyticsReports:g.target.checked})}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-dark-text",children:"Security Alerts"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Critical security updates"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.securityAlerts,onChange:g=>o({...a,securityAlerts:g.target.checked})}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsx("div",{className:"pt-2",children:l.jsxs("button",{onClick:m,className:"w-full btn-primary flex items-center justify-center gap-2",children:[l.jsx(gf,{size:18}),"Save Preferences"]})})]})]}),l.jsxs("div",{className:`${u} border-red-500/30`,children:[l.jsx("h3",{className:"text-lg font-semibold text-red-500 mb-4",children:"Danger Zone"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{className:"w-full px-4 py-2 bg-dark-card border border-red-500/50 rounded-lg text-red-500 hover:bg-red-500/10 transition-colors text-sm",children:"Deactivate Account"}),l.jsx("p",{className:"text-xs text-dark-text-muted text-center",children:"This action cannot be undone"})]})]})]})]})]})},nEe=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(""),[i,a]=x.useState("all"),[o,u]=x.useState("date-desc"),[d,h]=x.useState(null),[m,g]=x.useState(!0),[y,b]=x.useState(null),j=x.useRef(null),E=async N=>new Promise((k,I)=>{const L=document.createElement("video");L.preload="metadata",L.src=N,L.onloadedmetadata=()=>{k(Math.round(L.duration))},L.onerror=()=>{I(new Error("Failed to load video metadata"))}}),A=N=>{const k=N.metadata.createdAt?new Date(N.metadata.createdAt):new Date,I=N.metadata.updatedAt?new Date(N.metadata.updatedAt):k;return{id:N.id,title:N.title,description:N.description||"No description provided.",videoUrl:N.storageUrl,thumbnail:N.thumbnailUrl,duration:N.duration||0,competencies:N.metadata.tags||[],status:"active",createdDate:k,updatedDate:I,viewCount:N.metadata.usageCount||0,totalQuestions:N.questions?.length||0,questions:N.questions||[]}};x.useEffect(()=>{let N=!0;return(async()=>{g(!0),b(null);try{const I=await wS();N&&e(I.map(A))}catch(I){console.error("Failed to load videos",I),N&&b("Unable to load the video library right now.")}finally{N&&g(!1)}})(),()=>{N=!1}},[]),x.useEffect(()=>{(async()=>{const k=t.filter(I=>!I.duration||I.duration===0);if(k.length!==0){console.log(` Calculating duration for ${k.length} videos...`);for(const I of k)try{const L=await E(I.videoUrl);e(V=>V.map(q=>q.id===I.id?{...q,duration:L}:q)),console.log(` Duration calculated for "${I.title}": ${L}s`)}catch(L){console.warn(` Failed to calculate duration for "${I.title}":`,L)}}})()},[t.length]),x.useEffect(()=>{if(!d)return;const N=j.current;N&&(N.currentTime=0)},[d?.id]);const T=x.useMemo(()=>Array.from(new Set(t.flatMap(N=>N.competencies))).sort(),[t]),O=x.useMemo(()=>t.filter(N=>{const k=N.title.toLowerCase().includes(n.toLowerCase())||N.description.toLowerCase().includes(n.toLowerCase())||N.competencies.some(L=>L.toLowerCase().includes(n.toLowerCase())),I=i==="all"||N.competencies.includes(i);return k&&I}).sort((N,k)=>o==="date-desc"?k.updatedDate.getTime()-N.updatedDate.getTime():o==="date-asc"?N.updatedDate.getTime()-k.updatedDate.getTime():o==="views-desc"?k.viewCount-N.viewCount:o==="views-asc"?N.viewCount-k.viewCount:o==="title-asc"?N.title.localeCompare(k.title):o==="title-desc"?k.title.localeCompare(N.title):0),[t,n,i,o]),C=i!=="all"||o!=="date-desc",U=()=>{a("all"),u("date-desc")},B=N=>{const k=Math.floor(N/60),I=Math.floor(N%60);return`${k}:${I.toString().padStart(2,"0")}`},$=N=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(N);return l.jsxs("div",{className:"p-8",children:[l.jsx("div",{className:"border-b border-dark-border/70 pb-8 mb-8",children:l.jsx("div",{className:"flex flex-wrap items-start justify-between gap-8",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-dark-text-muted",children:"Content Library"}),l.jsx("h1",{className:"mt-3 text-4xl font-semibold",children:"Video Library"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-dark-text-muted",children:"View all video content from across all organizations"}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-6 text-base text-dark-text-muted",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-dark-text font-semibold text-xl",children:t.length})," total videos"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-dark-text font-semibold text-xl",children:t.length})," new videos"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-dark-text font-semibold text-xl",children:t.filter(N=>N.viewCount>0).length})," ","videos used"]})]})]})})}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(jo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:"text",className:"input w-full pl-10",placeholder:"Search videos by title, description, or competencies...",value:n,onChange:N=>r(N.target.value)})]})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zie,{size:16,className:"text-dark-text-muted"}),l.jsxs("select",{className:"input",value:i,onChange:N=>a(N.target.value),children:[l.jsx("option",{value:"all",children:"All Competencies"}),T.map(N=>l.jsx("option",{value:N,children:N},N))]})]}),l.jsxs("select",{className:"input",value:o,onChange:N=>u(N.target.value),children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"views-desc",children:"Most Viewed"}),l.jsx("option",{value:"views-asc",children:"Least Viewed"}),l.jsx("option",{value:"title-asc",children:"Title (A-Z)"}),l.jsx("option",{value:"title-desc",children:"Title (Z-A)"})]}),C&&l.jsxs("button",{onClick:U,className:"px-4 py-2 text-sm text-dark-text-muted hover:text-dark-text flex items-center gap-2 transition-colors",children:[l.jsx(hn,{size:16}),"Clear Filters"]})]})]})}),y&&l.jsx("div",{className:"mb-6 p-4 border border-red-500/30 bg-red-500/10 text-red-200 rounded-lg",children:y}),m&&t.length===0&&l.jsx("div",{className:"mb-6 p-4 border border-dark-border rounded-lg text-dark-text-muted",children:"Loading your shared video library..."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:O.map(N=>l.jsxs("div",{className:"group cursor-pointer",children:[l.jsxs("div",{className:"relative mb-3 aspect-video bg-gradient-to-br from-blue-primary to-blue-light rounded-xl overflow-hidden",onClick:()=>h(N),children:[N.thumbnail?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:N.thumbnail,alt:N.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200"})]}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-bg/40",children:l.jsx(zd,{size:48,className:"text-dark-text-muted"})}),N.duration>0&&l.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-0.5 bg-black/80 rounded text-xs text-white font-semibold",children:B(N.duration)})]}),l.jsxs("div",{className:"px-1",children:[l.jsx("h3",{className:"text-sm font-semibold text-dark-text mb-1 line-clamp-2 group-hover:text-primary transition-colors",onClick:()=>h(N),children:N.title}),l.jsx("p",{className:"text-xs text-dark-text-muted line-clamp-2 mb-2",children:N.description}),l.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[N.competencies.slice(0,2).map((k,I)=>l.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-[10px] rounded-full",children:k},I)),N.competencies.length>2&&l.jsxs("span",{className:"px-2 py-0.5 bg-dark-border/50 text-dark-text-muted text-[10px] rounded-full",children:["+",N.competencies.length-2]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-[11px] text-dark-text-muted",children:[N.viewCount>0&&l.jsxs("span",{children:[N.viewCount," views"]}),N.totalQuestions>0&&l.jsxs("span",{children:[" ",N.totalQuestions," Q"]}),l.jsxs("span",{children:[" ",$(N.updatedDate)]})]})]})]},N.id))}),O.length===0&&!m&&l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"p-4 bg-dark-bg rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:l.jsx(HU,{size:40,className:"text-dark-text-muted"})}),l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-2",children:"No videos found"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:n||C?"Try adjusting your search or filters":"No active videos available in the system"}),(n||C)&&l.jsxs("button",{onClick:()=>{r(""),U()},className:"btn-primary inline-flex items-center gap-2",children:[l.jsx(hn,{size:16}),"Clear All"]})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-dark-card w-full max-w-4xl rounded-lg shadow-xl max-h-[90vh] overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"sticky top-0 bg-dark-card border-b border-dark-border p-6 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-dark-text",children:d.title}),l.jsx("p",{className:"text-sm text-dark-text-muted mt-1",children:d.description})]}),l.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-dark-bg rounded-lg transition-colors",children:l.jsx(hn,{size:20,className:"text-dark-text"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:l.jsx("video",{ref:j,src:d.videoUrl,controls:!0,className:"w-full h-full",poster:d.thumbnail,children:"Your browser does not support the video tag."},d.videoUrl)}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-dark-text-muted mb-2",children:"Competencies"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:d.competencies.map((N,k)=>l.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-sm rounded-full",children:N},k))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-dark-text-muted mb-2",children:"Metadata"}),l.jsxs("div",{className:"space-y-2 text-sm text-dark-text",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tx,{size:16,className:"text-dark-text-muted"}),l.jsxs("span",{children:["Updated: ",$(d.updatedDate)]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pf,{size:16,className:"text-dark-text-muted"}),l.jsxs("span",{children:[d.viewCount," views"]})]})]})]})]}),d.questions.length>0&&l.jsxs("div",{className:"border-t border-dark-border pt-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(wie,{size:20,className:"text-primary"}),l.jsxs("h3",{className:"text-xl font-semibold text-dark-text",children:["Questions (",d.questions.length,")"]})]}),l.jsx("div",{className:"space-y-4",children:d.questions.map((N,k)=>l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-semibold text-sm",children:k+1}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"px-2 py-1 bg-dark-bg text-dark-text-muted text-xs rounded",children:N.type}),N.competency&&l.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded",children:N.competency}),N.isRequired&&l.jsx("span",{className:"px-2 py-1 bg-red-500/10 text-red-400 text-xs rounded",children:"Required"})]}),l.jsx("h4",{className:"font-semibold text-dark-text mb-3",children:N.statement}),N.scaleType&&N.scaleLabels&&l.jsx("div",{className:"bg-dark-bg p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-dark-text-muted",children:N.scaleLabels.low}),l.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded",children:N.scaleType}),l.jsx("span",{className:"text-dark-text-muted",children:N.scaleLabels.high})]})})]})]})},N.id))})]})]})]})})]})},rEe=[{id:"psychological-safety",name:"Foster Psychological Safety",description:"Create an environment in which employees are free to be and express themselves without fear of negative consequences.",skills:[{id:"ps-1",name:"Mitigate Bias",description:"Acknowledge bias in human cognition and act to reduce its negative impact."},{id:"ps-2",name:"Practice Curiosity",description:"Actively seek to understand needs and perspectives with a learning mindset."},{id:"ps-3",name:"Seek Input",description:"Begin decision-making by seeking advice, including from those unlikely to be heard."},{id:"ps-4",name:"Manage Power",description:"Recognize power dynamics and use influence responsibly to create opportunities."}]},{id:"prosocial-norms",name:"Establish Prosocial Norms",description:"Demonstrate and reinforce behaviors that yield the best outcomes for the group versus the individual.",skills:[{id:"pn-1",name:"Value Diversity",description:"Appreciate and leverage unique perspectives and skills of each team member."},{id:"pn-2",name:"Show Appreciation",description:"Regularly acknowledge and celebrate contributions in an equitable way."},{id:"pn-3",name:"Ensure Equity",description:"Insist on fair processes and outcomes, identifying barriers and providing resources."},{id:"pn-4",name:"Build Relationships",description:"Foster genuine connections based on mutual respect independent of organizational needs."}]},{id:"collaboration",name:"Encourage Collaboration",description:"Foster trusting relationships based on mutual understanding that leads to improved collaboration towards shared goals.",skills:[{id:"co-1",name:"Demonstrate Empathy",description:"Experience genuine concern for others feelings and validate their perspectives."},{id:"co-2",name:"Recognize Strengths",description:"Discover and amplify unique talents, creating opportunities to apply them."},{id:"co-3",name:"Share Decision-making",description:"Involve team members in decisions, especially those that impact them directly."},{id:"co-4",name:"Promote Allyship",description:"Recognize support among members and create opportunities for those structurally blocked."}]},{id:"growth",name:"Prioritize Growth",description:"Make individual and group development a priority, treat failure as a learning opportunity, and lead with a learning mindset.",skills:[{id:"gr-1",name:"Confer Autonomy",description:"Empower team members to take ownership and make decisions in their areas."},{id:"gr-2",name:"Prioritize Learning",description:"Foster a growth mindset, encouraging continuous learning and viewing mistakes as lessons."},{id:"gr-3",name:"Embrace Change",description:"Advocate for new ideas and approaches, encouraging innovation and adaptability."},{id:"gr-4",name:"Welcome Feedback",description:"Actively seek input on leadership style and inclusive practices, and act on it visibly."}]}],I5=[{id:"leadership-checkin",name:"Leadership Check-in",description:"Pulse checks to understand team perspectives and drive psychological safety",color:"from-blue-500 to-blue-700",icon:"",iconComponent:GU,skills:[{id:"psych-safety",name:"Psychological Safety",description:"Build trust and openness"},{id:"feedback",name:"Feedback Culture",description:"Foster constructive dialogue"}]},{id:"competency-pulse",name:"Competency Pulse",description:"Track skill development and identify growth opportunities",color:"from-purple-500 to-purple-700",icon:"",iconComponent:yf,skills:[{id:"collaboration",name:"Collaboration",description:"Strengthen teamwork"},{id:"growth",name:"Growth Mindset",description:"Encourage continuous learning"}]},{id:"skills-tomorrow",name:"Skills for Tomorrow",description:"Future-proof your workforce with emerging competencies",color:"from-green-500 to-green-700",icon:"",iconComponent:Oi,skills:[{id:"innovation",name:"Innovation",description:"Drive creative thinking"},{id:"adaptability",name:"Adaptability",description:"Embrace change"}]},{id:"custom",name:"Custom Campaign",description:"Design your own campaign with flexible targeting and content",color:"from-gray-500 to-gray-700",icon:"",iconComponent:O0,skills:[]}],iEe=()=>{const{user:t}=Ar(),[e,n]=x.useState("active"),[r,i]=x.useState(1),[a,o]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState(""),[g,y]=x.useState(null),[b,j]=x.useState([]),[E,A]=x.useState([]),[T,O]=x.useState(!1),[C,U]=x.useState(""),[B,$]=x.useState("all"),[N,k]=x.useState("date-desc"),[I,L]=x.useState([]),[V,q]=x.useState(""),[M,ce]=x.useState([]),[me,G]=x.useState("all"),[X,se]=x.useState("all"),[be,Y]=x.useState("all"),[z,Q]=x.useState("all"),[ue,ge]=x.useState([]),[pe,Ne]=x.useState("all"),[Ae,Le]=x.useState({}),[ae,Re]=x.useState({}),Ie=x.useMemo(()=>{const R=new Set;return I.forEach(J=>{J.department&&R.add(J.department)}),Array.from(R).sort()},[I]),K=x.useMemo(()=>{const R=new Map;return ue.forEach(J=>R.set(J.id,J)),R},[ue]),[ee,ne]=x.useState({name:"",description:"",targetCompetencies:[],frequency:"monthly",campaignType:null,participants:[],anonymousResponses:!1,cohortGroup:"",startDate:"",endDate:"",oneTimeAccess:!1,autoSendInvites:!0,sendReminders:!0,sendConfirmations:!0,selectedCompetency:null,selectedSkills:{},customContent:[],allowedDepartments:[],allowedEmployeeIds:[],allowedCohortIds:[]}),[Ee,Ue]=x.useState([]),[Qe,bt]=x.useState(!0),[Je,et]=x.useState(null),[kr,$a]=x.useState(!1),ps=[{id:"all",label:"All Employees",description:"Everyone in your organization"},{id:"departments",label:"Departments",description:"Target specific departments"},{id:"cohorts",label:"Cohorts",description:"Target saved cohorts/groups"},{id:"employees",label:"Specific Employees",description:"Hand-pick individual employees"}],Sn=x.useCallback(R=>R.map(J=>I.find(Te=>Te.id===J)).filter(J=>!!J).map(J=>({id:J.id,name:J.name,email:J.email,department:J.department||"N/A",role:J.role||"Employee",region:"N/A"})),[I]);x.useEffect(()=>{pe==="employees"&&ne(R=>{const J=Sn(M),Te=J.length!==R.participants.length||J.some((Ye,$t)=>Ye.id!==R.participants[$t]?.id),Oe=M.length!==(R.allowedEmployeeIds?.length||0)||M.some((Ye,$t)=>Ye!==R.allowedEmployeeIds?.[$t]);return!Te&&!Oe?R:{...R,participants:J,allowedEmployeeIds:[...M]}})},[Sn,M,pe]);const sr=x.useCallback(R=>{if(R.allowedEmployeeIds!=null)return R.allowedEmployeeIds.length;if(R.allowedDepartments!=null)return R.allowedDepartments.length===0?0:I.filter(J=>J.department&&R.allowedDepartments.includes(J.department)).length;if(R.allowedCohortIds!=null){if(R.allowedCohortIds.length===0)return 0;const J=new Set;return R.allowedCohortIds.forEach(Te=>{K.get(Te)?.employeeIds?.forEach(Ye=>J.add(Ye))}),J.size}return I.length},[I,K]);x.useEffect(()=>{if(Ee.length===0){Re({});return}const R={};Ee.forEach(J=>{R[J.id]=sr({allowedDepartments:J.allowedDepartments,allowedEmployeeIds:J.allowedEmployeeIds,allowedCohortIds:J.allowedCohortIds})}),Re(R)},[Ee,sr]);const sa=R=>{Ne(R),R!=="employees"&&M.length>0&&ce([]),ne(J=>({...J,participants:R==="employees"?J.participants:[],allowedEmployeeIds:R==="employees"?J.allowedEmployeeIds:[],allowedDepartments:R==="departments"?J.allowedDepartments:[],allowedCohortIds:R==="cohorts"?J.allowedCohortIds:[]}))},Fa=R=>{pe==="departments"&&ne(J=>{const Oe=J.allowedDepartments.includes(R)?J.allowedDepartments.filter(Ye=>Ye!==R):[...J.allowedDepartments,R];return{...J,allowedDepartments:Oe}})},pi=R=>{pe==="cohorts"&&ne(J=>{const Oe=J.allowedCohortIds.includes(R)?J.allowedCohortIds.filter(Ye=>Ye!==R):[...J.allowedCohortIds,R];return{...J,allowedCohortIds:Oe}})},ye=x.useCallback(R=>R.allowedEmployeeIds&&R.allowedEmployeeIds.length>0?"employees":R.allowedDepartments&&R.allowedDepartments.length>0?"departments":R.allowedCohortIds&&R.allowedCohortIds.length>0?"cohorts":"all",[]),Ce=x.useMemo(()=>sr(pe==="departments"?{allowedDepartments:ee.allowedDepartments}:pe==="cohorts"?{allowedCohortIds:ee.allowedCohortIds}:pe==="employees"?{allowedEmployeeIds:ee.allowedEmployeeIds}:{}),[ee.allowedDepartments,ee.allowedCohortIds,ee.allowedEmployeeIds,sr,pe]),We=x.useCallback(async R=>{if(R.length===0){Le({});return}const J={};await Promise.all(R.map(async Te=>{try{const Oe=await IU(Te.id);J[Te.id]=Oe.length}catch(Oe){console.error("Failed to fetch enrollments for campaign",Te.id,Oe)}})),Le(J)},[]),He=x.useCallback(R=>{const J=Ae[R.id]??0,Te=ae[R.id];if(!Te||Te<=0)return`${J} enrolled`;const Oe=Math.min(100,Math.round(J/Te*100));return`${J}/${Te} (${Oe}% enrolled)`},[ae,Ae]),Se=x.useCallback(R=>{const J=R.metadata.createdAt?new Date(R.metadata.createdAt):new Date,Te=R.metadata.updatedAt?new Date(R.metadata.updatedAt):J,Oe=R.items?.length||0,Ye=(R.items||[]).map(($t,gr)=>({id:$t.id,title:`Video ${gr+1}`,type:"video"}));return console.log("[CampaignManagement] Mapping campaign:",{id:R.id,title:R.title,itemCount:Oe,items:R.items,customContent:Ye}),{id:R.id,name:R.title,description:R.description,purpose:R.skillFocus,status:R.metadata.isPublished?"active":"draft",startDate:J,endDate:Te,frequency:R.schedule?.frequency||"monthly",targetCompetencies:R.metadata.tags||[],selectedSkills:{},campaignType:R.campaignType||"custom",participants:[],anonymousResponses:R.anonymousResponses||!1,cohortGroup:"",autoSendInvites:R.automation?.autoSendInvites??!0,sendReminders:R.automation?.sendReminders??!0,sendConfirmations:R.automation?.sendConfirmations??!0,oneTimeAccess:R.accessControl?.oneTimeAccess||!1,completionRate:Math.min(100,Oe*10),totalResponses:Oe,createdDate:J,updatedDate:Te,source:R.source,pinned:R.pinned||!1,allowedOrganizations:R.allowedOrganizations,allowedDepartments:R.allowedDepartments||[],allowedEmployeeIds:R.allowedEmployeeIds||[],allowedCohortIds:R.allowedCohortIds||[],customContent:Ye}},[]),$e=x.useCallback(async()=>{if(!t?.id){Ue([]),bt(!1);return}et(null),bt(!0);try{const J=(t.role==="admin"?await vU(t.organization):await yU(t.organization,t.department,t.id,t.cohortIds)).map(Se);Ue(J),We(J)}catch(R){console.error("Failed to load campaigns",R),et("Unable to load campaigns right now. Please try again.")}finally{bt(!1)}},[We,Se,t?.organization,t?.department,t?.id,t?.cohortIds]);x.useEffect(()=>{$e()},[$e]);const lt=x.useCallback(async(R,J)=>{try{console.log("Toggling pin for campaign:",R,"from",J,"to",!J),await kE(R,{pinned:!J}),console.log("Pin update successful, refreshing campaigns..."),await $e(),console.log("Campaigns refreshed")}catch(Te){console.error("Failed to toggle pin status:",Te),et("Failed to update pin status. Please try again."),alert("Failed to update pin status: "+Te.message)}},[$e]);x.useEffect(()=>{t?.organization&&ES(t.organization).then(R=>{ge(R.map(J=>({id:J.id,name:J.name,description:J.description||void 0,employeeIds:J.employeeIds,createdAt:J.createdAt})))}).catch(R=>console.error("Failed to load cohorts:",R))},[t?.organization]),x.useEffect(()=>{t?.organization&&P0(t.organization).then(R=>{L(R.map(J=>({id:J.id,email:J.email,name:J.name,department:J.department||void 0,cohortIds:J.cohortIds,createdAt:J.createdAt,lastLogin:J.lastLogin,status:J.status,role:J.role})))}).catch(R=>console.error("Failed to load employees:",R))},[t?.organization]);const tt=async R=>new Promise((J,Te)=>{const Oe=document.createElement("video");Oe.preload="metadata",Oe.src=R,Oe.onloadedmetadata=()=>{J(Math.round(Oe.duration))},Oe.onerror=()=>{Te(new Error("Failed to load video metadata"))}});x.useEffect(()=>{a&&(O(!0),wS().then(R=>{j(R)}).catch(R=>console.error("Failed to load videos:",R)).finally(()=>O(!1)))},[a]),x.useEffect(()=>{(async()=>{const J=b.filter(Te=>!Te.duration||Te.duration===0);if(J.length!==0){console.log(` Calculating duration for ${J.length} videos in campaign wizard...`);for(const Te of J)try{const Oe=await tt(Te.storageUrl);j(Ye=>Ye.map($t=>$t.id===Te.id?{...$t,duration:Oe}:$t)),console.log(` Duration calculated for "${Te.title}": ${Oe}s`)}catch(Oe){console.warn(` Failed to calculate duration for "${Te.title}":`,Oe)}}})()},[b.length]);const Rn=x.useMemo(()=>{const R=new Set;return b.forEach(J=>{J.metadata.tags&&J.metadata.tags.forEach(Te=>R.add(Te))}),Array.from(R).sort()},[b]),Ke=x.useMemo(()=>b.filter(R=>{const J=R.title.toLowerCase().includes(C.toLowerCase())||R.description&&R.description.toLowerCase().includes(C.toLowerCase())||R.metadata.tags&&R.metadata.tags.some(Oe=>Oe.toLowerCase().includes(C.toLowerCase())),Te=B==="all"||R.metadata.tags&&R.metadata.tags.includes(B);return J&&Te}).sort((R,J)=>{if(N==="date-desc"){const Te=R.metadata.updatedAt?new Date(R.metadata.updatedAt).getTime():0;return(J.metadata.updatedAt?new Date(J.metadata.updatedAt).getTime():0)-Te}else if(N==="date-asc"){const Te=R.metadata.updatedAt?new Date(R.metadata.updatedAt).getTime():0,Oe=J.metadata.updatedAt?new Date(J.metadata.updatedAt).getTime():0;return Te-Oe}else{if(N==="title-asc")return R.title.localeCompare(J.title);if(N==="title-desc")return J.title.localeCompare(R.title)}return 0}),[b,C,B,N]),wt=B!=="all"||N!=="date-desc",vt=()=>{$("all"),k("date-desc")},Yt=R=>{if(!R)return"0:00";const J=Math.floor(R/60),Te=Math.floor(R%60);return`${J}:${Te.toString().padStart(2,"0")}`},[ft,pr]=x.useState(""),[Gn,Dn]=x.useState(!1),[qt,Tn]=x.useState(!1),[Bt,zn]=x.useState(null),or=x.useMemo(()=>Ee.filter(R=>R.source==="organization"?!0:!R.source&&R.allowedOrganizations&&R.allowedOrganizations.length>0?!t?.organization||R.allowedOrganizations.includes(t.organization):!1),[Ee,t?.organization]),Cr=x.useMemo(()=>Ee.filter(R=>R.source==="dicode"?!R.allowedOrganizations||R.allowedOrganizations.length===0?!0:t?.organization&&R.allowedOrganizations.includes(t.organization):!R.source&&(!R.allowedOrganizations||R.allowedOrganizations.length===0)),[Ee,t?.organization]),oa=Cr.filter(R=>{const J=ft.toLowerCase();return R.name.toLowerCase().includes(J)||R.description.toLowerCase().includes(J)||R.purpose?.toLowerCase().includes(J)||R.targetCompetencies?.some(Te=>Te.toLowerCase().includes(J))}),qa=x.useMemo(()=>[...or,...Cr].filter(J=>J.status==="active").filter(J=>J.pinned),[or,Cr]),gi=rEe,ri=x.useMemo(()=>(e==="active"||e==="completed"?[...or,...Cr]:or).filter(J=>{const Te=J.name.toLowerCase().includes(ft.toLowerCase())||J.description.toLowerCase().includes(ft.toLowerCase()),Oe=e==="active"?J.status==="active":e==="draft"?J.status==="draft":e==="completed"?J.status==="completed":!0;return Te&&Oe}),[e,or,Cr,ft]),la=R=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(R),Hr=R=>{switch(R){case"active":return"bg-green-500/10 text-green-500";case"draft":return"bg-yellow-500/10 text-yellow-500";case"completed":return"bg-blue-500/10 text-blue-500";default:return"bg-gray-500/10 text-gray-500"}},Pr=()=>{n("create"),o(!1),i(1),m(""),q(""),ce([]),G("all"),se("all"),Y("all"),Q("all"),Ne("all"),ne({name:"",description:"",targetCompetencies:[],frequency:"monthly",campaignType:null,participants:[],anonymousResponses:!1,cohortGroup:"",startDate:"",endDate:"",oneTimeAccess:!1,autoSendInvites:!0,sendReminders:!0,sendConfirmations:!0,selectedCompetency:null,selectedSkills:{},customContent:[],allowedDepartments:[],allowedEmployeeIds:[],allowedCohortIds:[]})},gn=R=>{const J=I5.find(Te=>Te.id===R);J&&ne(Te=>({...Te,campaignType:J.id})),o(!0),i(1)},kt=()=>{if(r===1){if(ee.targetCompetencies.length<3||ee.targetCompetencies.length>5){m("Please select between 3 and 5 competencies");return}const R=[];if(ee.targetCompetencies.forEach(J=>{const Te=gi.find(Oe=>Oe.name===J);Te&&(ee.selectedSkills[Te.id]||[]).length===0&&R.push(J)}),R.length>0){m(`Please select at least one skill for: ${R.join(", ")}`);return}m("")}if(r===2){if(E.length===0){et("Please select at least one video for this campaign");return}et(null)}r<4&&i(r+1)},Ir=()=>{r>1&&i(r-1)},Qs=async({publish:R=!1}={})=>{if(!(!ee.name||!ee.description||!t?.id)){$a(!0),et(null);try{const J=ee.targetCompetencies[0]||ee.description||"Leadership",Te=u!==null,Oe=Te?u:await TE(t.id,{title:ee.name,description:ee.description,skillFocus:J,tags:ee.targetCompetencies,userOrganization:t.organization}),Ye=pe==="employees",$t=Ye?ee.participants.map(Wn=>Wn.id):[],gr=Ye?[...$t,...ee.allowedEmployeeIds||[]]:[],Ha=Array.from(new Set(gr)),vi=pe==="departments"?ee.allowedDepartments:[],Xs=pe==="cohorts"?ee.allowedCohortIds:[];if(await kE(Oe,{...Te?{title:ee.name,description:ee.description,skillFocus:J}:{},campaignType:ee.campaignType||void 0,anonymousResponses:ee.anonymousResponses,allowedDepartments:vi.length>0?vi:void 0,allowedEmployeeIds:Ha.length>0?Ha:void 0,allowedCohortIds:Xs.length>0?Xs:void 0,schedule:{startDate:ee.startDate||void 0,endDate:ee.endDate||void 0,frequency:ee.frequency},accessControl:{oneTimeAccess:ee.oneTimeAccess,maxAccessCount:ee.oneTimeAccess?1:void 0},automation:{autoSendInvites:ee.autoSendInvites,sendReminders:ee.sendReminders,reminderFrequency:3,maxReminders:3,sendConfirmations:ee.sendConfirmations},stats:{totalEnrollments:0,completedCount:0,inProgressCount:0,notStartedCount:0}}),!Te||E.length>0)for(let Wn=0;Wn<E.length;Wn++)await _U(Oe,E[Wn],Wn,[]);R&&await CE(Oe,!0),await $e(),o(!1),d(null),n(R?"active":"draft"),i(1)}catch(J){console.error("Failed to save campaign",J),et("Failed to save campaign. Please try again.")}finally{$a(!1)}}},lh=async()=>{await Qs({publish:!0})},jc=async(R,J)=>{et(null);try{await CE(R,J),await $e()}catch(Te){console.error("Failed to update campaign status",Te),et("Failed to update campaign status. Please try again.")}},Hu=async R=>{if(t?.id){et(null);try{await TE(t.id,{title:`${R.name} (Copy)`,description:R.description,skillFocus:R.purpose||R.description,tags:R.targetCompetencies,userOrganization:t.organization}),await $e()}catch(J){console.error("Failed to duplicate campaign",J),et("Failed to duplicate campaign.")}}},ca=R=>{if(!t?.id)return;ne({name:R.name,description:R.description,targetCompetencies:R.targetCompetencies||[],frequency:R.frequency,campaignType:R.campaignType||null,participants:R.participants||[],anonymousResponses:R.anonymousResponses,cohortGroup:R.cohortGroup||"",startDate:R.startDate?new Date(R.startDate).toISOString().split("T")[0]:"",endDate:R.endDate?new Date(R.endDate).toISOString().split("T")[0]:"",oneTimeAccess:R.oneTimeAccess,autoSendInvites:R.autoSendInvites,sendReminders:R.sendReminders,sendConfirmations:R.sendConfirmations,selectedCompetency:null,selectedSkills:R.selectedSkills||{},customContent:[],allowedDepartments:R.allowedDepartments||[],allowedEmployeeIds:R.allowedEmployeeIds||[],allowedCohortIds:R.allowedCohortIds||[]});const J=ye(R);Ne(J),ce(J==="employees"?R.allowedEmployeeIds||[]:[]),d(R.id),i(1),n("create"),o(!0)},Jo=async R=>{et(null);try{await bU(R),await $e()}catch(J){console.error("Failed to delete campaign",J),et("Failed to delete campaign.")}},ua=R=>{const J=He(R);return l.jsxs("div",{className:"card hover:border-primary/50 transition-all duration-200 border-l-4 border-l-primary",children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-dark-text",children:R.name}),l.jsxs("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-500 rounded-full text-xs font-medium flex items-center gap-1",children:[l.jsx(wm,{size:12}),"DiCode Campaign"]})]}),l.jsx("p",{className:"text-sm text-dark-text-muted mb-2",children:R.description}),R.purpose&&l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-dark-text mb-1",children:"Purpose:"}),l.jsx("p",{className:"text-sm text-dark-text-muted",children:R.purpose})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-dark-text-muted",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(tx,{size:14}),"Added ",la(R.createdDate)]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ui,{size:14}),J]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:R.targetCompetencies?.map(Te=>l.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs",children:Te},Te))})]})}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>{ne({...ee,campaignType:"leadership-checkin"}),Pr(),i(1)},className:"btn-primary flex items-center gap-2 flex-1",children:[l.jsx(Pae,{size:16}),"Activate Campaign"]}),l.jsx("button",{onClick:()=>zn(Bt===R.id?null:R.id),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",children:Bt===R.id?l.jsx(OE,{size:18}):l.jsx(JR,{size:18})})]}),Bt===R.id&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-border",children:[l.jsx("h4",{className:"text-sm font-semibold text-dark-text mb-3",children:"Campaign Details"}),l.jsx("div",{className:"space-y-4 text-sm",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-dark-text mb-2",children:"Target Competencies & Skills"}),l.jsx("div",{className:"space-y-3",children:R.targetCompetencies?.map(Te=>{const Oe=gi.find(gr=>gr.name===Te);if(!Oe)return null;const Ye=R.selectedSkills?.[Oe.id]||[],$t=Oe.skills.filter(gr=>Ye.includes(gr.id));return l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3",children:[l.jsx("div",{className:"font-medium text-dark-text mb-2",children:Oe.name}),$t.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:$t.map(gr=>l.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs",children:gr.name},gr.id))}):l.jsx("p",{className:"text-xs text-dark-text-muted italic",children:"No skills selected"})]},Oe.id)})})]})})]})]},R.id)},yi=R=>{const J=He(R),Te=Ae[R.id]??0,Oe=ae[R.id];return l.jsxs("div",{className:"card hover:border-primary/50 transition-all duration-200",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-dark-text",children:R.name}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Hr(R.status)}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})]}),l.jsx("p",{className:"text-sm text-dark-text-muted mb-2",children:R.description}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-dark-text-muted",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(tx,{size:14}),la(R.startDate)," - ",la(R.endDate)]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ui,{size:14}),J]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(O0,{size:14}),R.completionRate,"% completion"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Rae,{size:14}),R.frequency]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>zn(Bt===R.id?null:R.id),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",title:"View Details",children:l.jsx(pf,{size:18})}),R.status==="draft"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>ca(R),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",title:"Edit Campaign",children:l.jsx(J1,{size:18})}),l.jsx("button",{onClick:()=>jc(R.id,!0),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",title:"Launch",children:l.jsx(_o,{size:18})})]}),R.status==="active"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>lt(R.id,R.pinned||!1),className:`p-2 bg-dark-bg border border-dark-border rounded-lg transition-colors ${R.pinned?"text-primary border-primary/50 hover:bg-primary/10":"text-dark-text hover:bg-dark-card"}`,title:R.pinned?"Unpin campaign":"Pin campaign",children:l.jsx(Z1,{size:18,className:R.pinned?"fill-primary":""})}),l.jsx("button",{onClick:()=>jc(R.id,!1),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",title:"Pause",children:l.jsx(Eae,{size:18})}),l.jsx("button",{onClick:()=>y(R.id),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",title:"View Assessment & Data",children:l.jsx(yf,{size:18})})]}),l.jsx("button",{onClick:()=>Hu(R),className:"p-2 bg-dark-bg border border-dark-border rounded-lg text-dark-text hover:bg-dark-card transition-colors",title:"Duplicate",children:l.jsx(rp,{size:18})}),l.jsx("button",{onClick:()=>Jo(R.id),className:"p-2 bg-dark-bg border border-red-500/50 rounded-lg text-red-500 hover:bg-red-500/10 transition-colors",title:"Delete",children:l.jsx(Vd,{size:18})})]})]}),Bt===R.id&&l.jsx("div",{className:"mt-4 pt-4 border-t border-dark-border",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-dark-text-muted mb-2 font-medium",children:"Description"}),l.jsx("p",{className:"text-dark-text",children:R.description})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-dark-text-muted mb-2 font-medium",children:"Target Competencies & Skills"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.targetCompetencies.map(Ye=>{const $t=gi.find(vi=>vi.name===Ye);if(!$t)return null;const gr=R.selectedSkills?.[$t.id]||[],Ha=$t.skills.filter(vi=>gr.includes(vi.id));return l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3",children:[l.jsx("div",{className:"font-medium text-dark-text mb-2",children:$t.name}),Ha.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:Ha.map(vi=>l.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs",children:vi.name},vi.id))}):l.jsx("p",{className:"text-xs text-dark-text-muted italic",children:"No skills selected"})]},$t.id)})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-dark-text-muted mb-2 font-medium",children:"Schedule & Frequency"}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Frequency:"}),l.jsx("span",{className:"text-dark-text font-medium capitalize",children:R.frequency})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Start Date:"}),l.jsx("span",{className:"text-dark-text",children:la(R.startDate)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"End Date:"}),l.jsx("span",{className:"text-dark-text",children:la(R.endDate)})]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-dark-text-muted mb-2 font-medium",children:"Access Control"}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"One-Time Access:"}),l.jsx("span",{className:`font-medium ${R.oneTimeAccess?"text-primary":"text-dark-text-muted"}`,children:R.oneTimeAccess?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Anonymous Responses:"}),l.jsx("span",{className:`font-medium ${R.anonymousResponses?"text-primary":"text-dark-text-muted"}`,children:R.anonymousResponses?"Yes":"No"})]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-dark-text-muted mb-2 font-medium",children:"Automation"}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[R.autoSendInvites?l.jsx(di,{size:16,className:"text-green-500"}):l.jsx(hn,{size:16,className:"text-dark-text-muted"}),l.jsx("span",{className:"text-dark-text",children:"Auto-send Invites"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[R.sendReminders?l.jsx(di,{size:16,className:"text-green-500"}):l.jsx(hn,{size:16,className:"text-dark-text-muted"}),l.jsx("span",{className:"text-dark-text",children:"Send Reminders"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[R.sendConfirmations?l.jsx(di,{size:16,className:"text-green-500"}):l.jsx(hn,{size:16,className:"text-dark-text-muted"}),l.jsx("span",{className:"text-dark-text",children:"Send Confirmations"})]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-dark-text-muted mb-2 font-medium",children:"Participants"}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Enrolled:"}),l.jsx("span",{className:"text-dark-text font-medium",children:Te})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Eligible:"}),l.jsx("span",{className:"text-dark-text font-medium",children:Oe??""})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Enrollment Rate:"}),l.jsx("span",{className:"text-primary font-medium",children:Oe?`${Math.min(100,Math.round(Te/Oe*100))}%`:"N/A"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Completion Rate:"}),l.jsxs("span",{className:"text-primary font-medium",children:[R.completionRate,"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Total Responses:"}),l.jsx("span",{className:"text-dark-text font-medium",children:R.totalResponses})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-dark-text-muted font-medium",children:"Campaign Content"}),l.jsxs("span",{className:"text-xs text-dark-text-muted",children:[R.customContent?.length||0," item",(R.customContent?.length||0)!==1?"s":""]})]}),R.customContent&&R.customContent.length>0?l.jsx("div",{className:"space-y-2",children:R.customContent.map((Ye,$t)=>l.jsxs("div",{className:"bg-dark-bg rounded-lg p-3 flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary/10 text-primary font-medium text-sm",children:$t+1}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zd,{size:16,className:"text-dark-text-muted"}),l.jsx("span",{className:"text-dark-text font-medium",children:Ye.title})]}),l.jsx("span",{className:"text-xs text-dark-text-muted capitalize",children:Ye.type})]})]},Ye.id))}):l.jsxs("div",{className:"bg-dark-bg rounded-lg p-6 text-center",children:[l.jsx(zd,{size:32,className:"text-dark-text-muted mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-dark-text-muted text-sm",children:"No content added yet"})]})]})]})})]},R.id)},ii=R=>R==="dicode"?oa.length:R==="active"||R==="completed"?[...or,...Cr].filter(J=>J.status===R).length:R==="draft"?or.filter(J=>J.status===R).length:0,da={active:{label:"Active Campaigns",icon:xie},draft:{label:"Draft Campaigns",icon:DS},completed:{label:"Completed Campaigns",icon:Pi},dicode:{label:"DiCode Campaigns",icon:wm},create:{label:"Create Campaign",icon:_m}};return l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"mb-10 border-b border-dark-border/70 pb-8",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-8",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-dark-text-muted",children:"Campaign Operations"}),l.jsx("h1",{className:"mt-3 text-4xl font-semibold text-dark-text",children:"Campaign Management"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-dark-text-muted",children:"Create and manage campaigns, upload participants, and schedule automated programs across your organization."})]}),l.jsxs("div",{className:"flex flex-col items-end gap-3",children:[l.jsxs("button",{onClick:Pr,className:"btn-primary flex items-center gap-2 px-6 py-3 text-sm tracking-[0.2em] uppercase",children:[l.jsx(_m,{size:18}),"New Campaign"]}),l.jsx("p",{className:"text-xs text-dark-text-muted max-w-xs text-right",children:"Tip: Pin critical campaigns to surface them at the top of this page for quick access."})]})]}),Je&&l.jsx("div",{className:"mt-6 rounded-2xl border border-red-500/30 bg-red-500/10 p-4 text-sm text-red-200",children:Je}),Qe&&Ee.length===0&&l.jsx("div",{className:"mt-6 rounded-2xl border border-dark-border/80 bg-dark-bg/70 p-4 text-sm text-dark-text-muted",children:"Loading your campaigns..."}),e!=="create"&&e!=="dicode"&&qa.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Z1,{size:18,className:"text-primary"}),l.jsx("h3",{className:"font-semibold text-dark-text",children:"Pinned Campaigns"})]}),l.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:qa.map(R=>l.jsxs("div",{className:"card min-w-[320px] flex-shrink-0 border border-primary/20 bg-dark-card/80",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-semibold text-dark-text",children:R.name}),l.jsx(Z1,{size:14,className:"text-primary fill-primary"})]}),l.jsx("p",{className:"text-sm text-dark-text-muted line-clamp-2",children:R.description})]}),l.jsx("button",{onClick:()=>lt(R.id,R.pinned||!1),className:"p-1 hover:bg-dark-border/50 rounded transition-colors",title:"Unpin campaign",children:l.jsx(hn,{size:16,className:"text-dark-text-muted"})})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-dark-text-muted mt-3",children:[l.jsx(ui,{size:14}),l.jsx("span",{children:He(R)}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{children:[R.completionRate,"% complete"]})]})]},R.id))})]}),l.jsx("div",{className:"mb-6 pt-4",children:l.jsx("div",{className:"flex flex-wrap gap-3",children:["active","draft","completed","dicode"].map(R=>{const J=da[R],Te=J.icon,Oe=ii(R),Ye=e===R;return l.jsxs("button",{onClick:()=>n(R),className:`group inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm font-medium capitalize transition-all ${Ye?"border-primary text-dark-text shadow-[0_8px_30px_rgba(0,0,0,0.35)] bg-dark-card":"border-dark-border/70 text-dark-text-muted hover:text-dark-text hover:border-dark-border"}`,children:[l.jsx(Te,{size:16,className:`${Ye?"text-primary":"text-dark-text-muted group-hover:text-primary"}`}),l.jsx("span",{children:J.label}),l.jsx("span",{className:`rounded-full border px-2 py-0.5 text-[11px] ${Ye?"border-primary text-primary":"border-dark-border/60 text-dark-text-muted"}`,children:Oe})]},R)})})}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(jo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:"text",className:"input w-full pl-10",placeholder:"Search campaigns...",value:ft,onChange:R=>pr(R.target.value)})]})})]}),e==="dicode"&&l.jsx("div",{children:oa.length>0?l.jsx("div",{className:"space-y-4",children:oa.map(R=>ua(R))}):l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"p-4 bg-dark-bg rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:l.jsx(wm,{size:40,className:"text-dark-text-muted"})}),l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-2",children:"No DICode campaigns found"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:ft?"Try adjusting your search":"No DICode campaigns available"})]})}),e!=="create"&&e!=="dicode"&&l.jsx("div",{children:ri.length>0?l.jsx("div",{className:"space-y-4",children:ri.map(R=>yi(R))}):l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"p-4 bg-dark-bg rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:l.jsx(wm,{size:40,className:"text-dark-text-muted"})}),l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-2",children:"No campaigns found"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:ft?"Try adjusting your search":`No ${e} campaigns yet`}),!ft&&l.jsxs("button",{onClick:Pr,className:"btn-primary inline-flex items-center gap-2",children:[l.jsx(_m,{size:18}),"Create Your First Campaign"]})]})}),e==="create"&&!a&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-dark-text mb-2",children:"Choose a Campaign Template"}),l.jsx("p",{className:"text-dark-text-muted",children:"Start with a pre-built template or create a custom campaign"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I5.map(R=>{const J=R.iconComponent;return l.jsxs("button",{onClick:()=>gn(R.id),className:"card group hover:border-primary/50 hover:shadow-lg transition-all duration-200 text-left",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${R.color} flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:J?l.jsx(J,{size:24,className:"text-white"}):l.jsx("span",{className:"text-2xl",children:R.icon})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-dark-text mb-1 group-hover:text-primary transition-colors",children:R.name}),l.jsx("p",{className:"text-sm text-dark-text-muted mb-3",children:R.description}),R.skills.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:R.skills.map(Te=>l.jsx("span",{className:"px-2 py-1 bg-dark-bg text-dark-text text-xs rounded-full",children:Te.name},Te.id))})]})]}),l.jsxs("div",{className:"flex items-center justify-end text-primary text-sm font-medium group-hover:gap-2 transition-all",children:[l.jsx("span",{children:"Select Template"}),l.jsx(Ld,{size:16,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]},R.id)})})]}),e==="create"&&a&&l.jsxs("div",{className:"rounded-[32px] border border-dark-border/70 bg-dark-card/80 p-8 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-dark-border/70 pb-6 mb-8",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted mb-2",children:"Campaign Creation"}),l.jsx("h2",{className:"text-2xl font-semibold text-dark-text",children:u?"Edit Campaign":"Launch a new campaign"})]}),l.jsxs("button",{onClick:()=>{o(!1),d(null),n("active")},className:"inline-flex items-center gap-2 rounded-2xl border border-dark-border/70 bg-dark-bg px-5 py-2.5 text-sm font-semibold text-dark-text shadow-sm hover:bg-dark-border transition-colors",children:[l.jsx(hn,{size:16}),"Cancel"]})]}),l.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-dark-border/50 pb-6 mb-8",children:[{id:1,label:"Campaign Setup",description:"Details & competencies"},{id:2,label:"Select Videos",description:"Content modules"},{id:3,label:"Audience",description:"Cohorts & targeting"},{id:4,label:"Schedule",description:"Timing & automation"}].map(R=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full text-sm font-semibold ${r>=R.id?"bg-dark-text text-dark-bg":"bg-dark-bg text-dark-text-muted"}`,children:r>R.id?l.jsx(di,{className:"h-4 w-4"}):R.id}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-semibold ${r>=R.id?"text-dark-text":"text-dark-text-muted"}`,children:R.label}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:R.description})]})]},R.id))}),r===1&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium text-dark-text",children:"Campaign name *"}),l.jsx("input",{type:"text",className:"w-full rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3 text-sm text-dark-text placeholder:text-dark-text-muted focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20",placeholder:"e.g., Q2 Leadership Pulse",value:ee.name,onChange:R=>ne({...ee,name:R.target.value})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium text-dark-text",children:"Program summary *"}),l.jsx("textarea",{className:"w-full rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3 text-sm text-dark-text placeholder:text-dark-text-muted focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 min-h-[100px] resize-none",placeholder:"Why are we running this campaign?",value:ee.description,onChange:R=>ne({...ee,description:R.target.value})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-dark-text",children:"Target competencies (pick 3-5) *"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Select competencies and pair them with specific skills"})]})}),h&&l.jsx("div",{className:"rounded-2xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-400",children:h}),l.jsx("div",{className:"flex flex-wrap gap-3",children:gi.map(R=>{const J=ee.targetCompetencies.includes(R.name);return l.jsxs("button",{onClick:()=>{ne({...ee,targetCompetencies:J?ee.targetCompetencies.filter(Te=>Te!==R.name):[...ee.targetCompetencies,R.name],selectedSkills:J?(()=>{const{[R.id]:Te,...Oe}=ee.selectedSkills;return Oe})():{...ee.selectedSkills,[R.id]:[]}}),m("")},type:"button",className:`rounded-2xl border px-4 py-3 text-left transition ${J?"border-primary bg-primary/10 text-primary shadow-sm":"border-dark-border/70 text-dark-text hover:border-dark-border"}`,children:[l.jsx("p",{className:"text-sm font-semibold",children:R.name}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:R.description})]},R.id)})}),ee.targetCompetencies.length>0&&l.jsxs("div",{className:"space-y-6 rounded-3xl border border-dark-border/50 bg-dark-bg/40 p-5",children:[l.jsx("p",{className:"text-sm font-semibold text-dark-text",children:"Skills & behaviors"}),gi.filter(R=>ee.targetCompetencies.includes(R.name)).map(R=>l.jsxs("div",{className:"rounded-2xl border border-dark-border/70 bg-dark-card/90 p-4 shadow-sm",children:[l.jsx("p",{className:"text-sm font-semibold text-dark-text mb-3",children:R.name}),l.jsx("div",{className:"space-y-2",children:R.skills.map(J=>{const Te=ee.selectedSkills[R.id]?.includes(J.id)??!1;return l.jsxs("label",{className:`flex items-start gap-3 rounded-2xl border px-4 py-3 text-sm transition cursor-pointer ${Te?"border-primary bg-primary/10":"border-dark-border/70 bg-dark-bg/60 hover:border-dark-border"}`,children:[l.jsx("input",{type:"checkbox",checked:Te,onChange:Oe=>{const Ye=ee.selectedSkills[R.id]||[];ne({...ee,selectedSkills:{...ee.selectedSkills,[R.id]:Oe.target.checked?[...Ye,J.id]:Ye.filter($t=>$t!==J.id)}}),m("")},className:"mt-1 rounded border-dark-border/70 text-primary focus:ring-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-dark-text",children:J.name}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:J.description})]})]},J.id)})})]},R.id))]})]}),l.jsxs("div",{className:"flex justify-between items-center gap-3 pt-6 border-t border-dark-border/50",children:[l.jsx("div",{className:"text-sm text-dark-text-muted",children:"Step 1 of 4"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{o(!1),n("active")},className:"inline-flex items-center gap-2 rounded-2xl border border-dark-border/70 bg-dark-bg px-5 py-2.5 text-sm font-semibold text-dark-text shadow-sm hover:bg-dark-border transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:kt,disabled:!ee.name||!ee.description,className:"btn-primary inline-flex items-center gap-2 rounded-2xl px-6 py-2.5 text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:["Next step",l.jsx(Ld,{className:"h-4 w-4"})]})]})]})]}),r===2&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-dark-text",children:"Attach video modules"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Choose from your saved library. Selection order sets the learner sequence."})]}),b.length>0&&l.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(jo,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:"text",value:C,onChange:R=>U(R.target.value),placeholder:"Search videos...",className:"w-full rounded-2xl border border-dark-border/70 bg-dark-bg/60 py-2.5 pl-9 pr-3 text-sm text-dark-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[Rn.length>0&&l.jsxs("select",{value:B,onChange:R=>$(R.target.value),className:"rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-2.5 text-sm text-dark-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[l.jsx("option",{value:"all",children:"All Tags"}),Rn.map(R=>l.jsx("option",{value:R,children:R},R))]}),l.jsxs("select",{value:N,onChange:R=>k(R.target.value),className:"rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-2.5 text-sm text-dark-text focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"title-asc",children:"Title (A-Z)"}),l.jsx("option",{value:"title-desc",children:"Title (Z-A)"})]}),wt&&l.jsxs("button",{onClick:vt,className:"px-4 py-2 text-sm text-dark-text-muted hover:text-dark-text flex items-center gap-2 transition-colors",children:[l.jsx(hn,{size:16}),"Clear"]})]})]}),T?l.jsx("div",{className:"flex items-center justify-center py-16",children:l.jsx("div",{className:"text-dark-text-muted",children:"Loading videos..."})}):b.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-dark-border/70 py-12 text-center",children:[l.jsx(zd,{size:48,className:"mx-auto text-dark-text-muted mb-4"}),l.jsx("p",{className:"text-dark-text-muted mb-2",children:"No videos available"}),l.jsx("p",{className:"text-sm text-dark-text-muted",children:"Create videos first to add them to campaigns"})]}):Ke.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-dark-border/70 py-12 text-center",children:[l.jsx(jo,{size:48,className:"mx-auto text-dark-text-muted mb-4"}),l.jsx("p",{className:"text-dark-text-muted mb-2",children:"No videos match your filters"}),l.jsx("p",{className:"text-sm text-dark-text-muted",children:"Try adjusting your search or filters"})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Ke.map(R=>{const J=E.includes(R.id),Te=E.indexOf(R.id);return l.jsxs("button",{type:"button",onClick:()=>{A(J?E.filter(Oe=>Oe!==R.id):[...E,R.id])},className:`flex gap-4 rounded-2xl border px-4 py-4 text-left transition ${J?"border-primary bg-primary/10 shadow-md":"border-dark-border/70 bg-dark-bg/60 hover:border-dark-border"}`,children:[l.jsx("div",{className:"h-20 w-28 flex-shrink-0 overflow-hidden rounded-xl bg-dark-bg/40",children:R.thumbnailUrl?l.jsx("img",{src:R.thumbnailUrl,alt:R.title,className:"h-full w-full object-cover"}):l.jsx("div",{className:"flex h-full w-full items-center justify-center text-dark-text-muted",children:l.jsx(zd,{className:"h-6 w-6"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"line-clamp-1 text-base font-semibold text-dark-text",children:R.title}),J&&l.jsxs("span",{className:"px-2 py-0.5 bg-primary text-dark-bg rounded-full text-xs font-medium",children:["#",Te+1]})]}),R.description&&l.jsx("p",{className:"text-sm text-dark-text-muted line-clamp-2 mb-2",children:R.description}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-dark-text-muted",children:[R.duration&&R.duration>0&&l.jsx("span",{children:Yt(R.duration)}),l.jsxs("span",{children:[" ",new Date(R.metadata.createdAt).toLocaleDateString()]})]})]})]},R.id)})})]}),E.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-dark-text mb-3",children:["Selected Videos (",E.length,") - Drag to reorder"]}),l.jsx("div",{className:"space-y-2",children:E.map((R,J)=>{const Te=b.find(Oe=>Oe.id===R);return Te?l.jsxs("div",{className:"card bg-dark-bg flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fie,{size:18,className:"text-dark-text-muted cursor-move"}),l.jsxs("span",{className:"text-sm font-semibold text-primary w-6",children:["#",J+1]})]}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"text-sm font-medium text-dark-text truncate",children:Te.title})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:Oe=>{if(Oe.stopPropagation(),J>0){const Ye=[...E];[Ye[J-1],Ye[J]]=[Ye[J],Ye[J-1]],A(Ye)}},disabled:J===0,className:"p-1 hover:bg-dark-card rounded disabled:opacity-30",title:"Move up",children:l.jsx(OE,{size:16,className:"text-dark-text"})}),l.jsx("button",{onClick:Oe=>{if(Oe.stopPropagation(),J<E.length-1){const Ye=[...E];[Ye[J],Ye[J+1]]=[Ye[J+1],Ye[J]],A(Ye)}},disabled:J===E.length-1,className:"p-1 hover:bg-dark-card rounded disabled:opacity-30",title:"Move down",children:l.jsx(JR,{size:16,className:"text-dark-text"})}),l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),A(E.filter(Ye=>Ye!==R))},className:"p-1 hover:bg-red-500/10 rounded text-red-500",title:"Remove",children:l.jsx(hn,{size:16})})]})]},R):null})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-dark-border",children:[l.jsxs("button",{onClick:Ir,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Zd,{size:18}),"Back"]}),l.jsxs("button",{onClick:kt,disabled:E.length===0,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next: Audience Management",l.jsx(Ld,{size:18})]})]})]}),r===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-4",children:"Audience Management"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Targeting Mode"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:ps.map(R=>{const J=pe===R.id;return l.jsxs("button",{type:"button",onClick:()=>sa(R.id),className:`rounded-2xl border px-4 py-3 text-left transition-colors ${J?"border-primary bg-primary/10 text-dark-text":"border-dark-border/60 text-dark-text-muted hover:border-dark-border"}`,children:[l.jsx("div",{className:"text-sm font-semibold",children:R.label}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-1",children:R.description})]},R.id)})})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-2xl border border-dark-border/60 bg-dark-bg/70 px-5 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-dark-text-muted",children:"Eligible Audience"}),l.jsx("p",{className:"text-2xl font-semibold text-dark-text mt-1",children:Ce})]}),l.jsx("p",{className:"text-xs text-dark-text-muted text-right",children:"Employees who can access this campaign based on the targeting rules above"})]}),pe==="all"&&l.jsx("div",{className:"card border-dashed text-sm text-dark-text-muted",children:"Every employee in your organization will receive access to this campaign once it launches."}),pe==="departments"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Choose Departments"}),Ie.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:Ie.map(R=>{const J=ee.allowedDepartments.includes(R);return l.jsx("button",{type:"button",onClick:()=>Fa(R),className:`rounded-full px-4 py-1 text-sm border transition-colors ${J?"border-primary bg-primary/10 text-primary":"border-dark-border text-dark-text-muted hover:border-primary/50"}`,children:R},R)})}):l.jsx("p",{className:"text-sm text-dark-text-muted",children:"No departments found. Add department metadata to employees to enable department targeting."})]}),pe==="cohorts"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Choose Cohorts"}),ue.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ue.map(R=>{const J=ee.allowedCohortIds.includes(R.id);return l.jsxs("button",{type:"button",onClick:()=>pi(R.id),className:`rounded-2xl border px-4 py-3 text-left transition-colors ${J?"border-primary bg-primary/10 text-dark-text":"border-dark-border/70 text-dark-text-muted hover:border-dark-border"}`,children:[l.jsx("div",{className:"text-sm font-semibold text-dark-text",children:R.name}),l.jsxs("p",{className:"text-xs text-dark-text-muted",children:[R.employeeIds.length," member",R.employeeIds.length===1?"":"s"]})]},R.id)})}):l.jsx("p",{className:"text-sm text-dark-text-muted",children:"No cohorts available. Create cohorts from the Employee Management page first."})]}),pe==="employees"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Select Employees"}),l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(jo,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:"text",placeholder:"Search employees by name, email, or department...",value:V,onChange:R=>q(R.target.value),className:"input w-full pl-10"})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-dark-text-muted mb-1",children:"Department"}),l.jsxs("select",{className:"input w-full text-sm",value:me,onChange:R=>G(R.target.value),children:[l.jsx("option",{value:"all",children:"All Departments"}),Ie.map(R=>l.jsx("option",{value:R,children:R},R))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs text-dark-text-muted mb-1",children:["Role",l.jsx("span",{className:"text-[10px] ml-1 opacity-50",children:"(Coming Soon)"})]}),l.jsxs("select",{className:"input w-full text-sm opacity-50 cursor-not-allowed",value:X,onChange:R=>se(R.target.value),disabled:!0,children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"manager",children:"Manager"}),l.jsx("option",{value:"senior-manager",children:"Senior Manager"}),l.jsx("option",{value:"director",children:"Director"}),l.jsx("option",{value:"senior-director",children:"Senior Director"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs text-dark-text-muted mb-1",children:["Region",l.jsx("span",{className:"text-[10px] ml-1 opacity-50",children:"(Coming Soon)"})]}),l.jsxs("select",{className:"input w-full text-sm opacity-50 cursor-not-allowed",value:be,onChange:R=>Y(R.target.value),disabled:!0,children:[l.jsx("option",{value:"all",children:"All Regions"}),l.jsx("option",{value:"north-america",children:"North America"}),l.jsx("option",{value:"europe",children:"Europe"}),l.jsx("option",{value:"asia-pacific",children:"Asia Pacific"}),l.jsx("option",{value:"latin-america",children:"Latin America"}),l.jsx("option",{value:"middle-east-africa",children:"Middle East & Africa"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-dark-text-muted mb-1",children:"Cohort"}),l.jsxs("select",{className:"input w-full text-sm",value:z,onChange:R=>{Q(R.target.value),ne({...ee,cohortGroup:R.target.value==="all"?"":R.target.value})},children:[l.jsx("option",{value:"all",children:"All Cohorts"}),ue.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),l.jsx("div",{className:"border border-dark-border rounded-lg max-h-96 overflow-y-auto",children:I.filter(R=>{if(R.status!=="active")return!1;if(V!==""){const J=V.toLowerCase();if(!R.name.toLowerCase().includes(J)&&!R.email.toLowerCase().includes(J)&&!R.department?.toLowerCase().includes(J))return!1}return!(me!=="all"&&R.department!==me||z!=="all"&&(!R.cohortIds||!R.cohortIds.includes(z)))}).map(R=>{const J=M.includes(R.id);return l.jsxs("label",{className:"flex items-center gap-3 p-3 border-b border-dark-border last:border-b-0 cursor-pointer hover:bg-dark-bg transition-colors",children:[l.jsx("input",{type:"checkbox",checked:J,onChange:Te=>{Te.target.checked?ce([...M,R.id]):ce(M.filter(Oe=>Oe!==R.id))},className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-medium text-dark-text",children:R.name}),l.jsx("div",{className:"text-xs text-dark-text-muted",children:R.email}),R.department&&l.jsx("div",{className:"text-xs text-dark-text-muted mt-1",children:R.department})]})]},R.id)})}),M.length>0&&l.jsxs("p",{className:"text-sm text-dark-text-muted mt-3",children:[M.length," employee",M.length!==1?"s":""," selected"]})]}),ee.participants.length>0?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("label",{className:"block text-sm font-medium text-dark-text",children:["Participants (",ee.participants.length,")"]}),l.jsxs("button",{onClick:()=>Tn(!0),className:"text-sm text-primary hover:underline flex items-center gap-1",children:[l.jsx(J1,{size:14}),"Edit Participants"]})]}),l.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-dark-bg",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Name"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Department"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Region"})]})}),l.jsx("tbody",{children:ee.participants.slice(0,5).map(R=>l.jsxs("tr",{className:"border-t border-dark-border",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text",children:R.name}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.email}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.department}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.role}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.region})]},R.id))})]}),ee.participants.length>5&&l.jsxs("div",{className:"px-4 py-3 bg-dark-bg text-sm text-dark-text-muted text-center",children:["+",ee.participants.length-5," more participants"]})]})]}):l.jsxs("div",{className:"card text-center py-8 border-dashed",children:[l.jsx(ui,{size:40,className:"text-dark-text-muted mx-auto mb-3"}),l.jsx("p",{className:"text-dark-text-muted",children:"No employees selected yet"}),l.jsx("p",{className:"text-sm text-dark-text-muted mt-2",children:"Select employees from the list above to add them as participants"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-bg rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-1",children:"Anonymous Responses"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Hide participant identities in response data"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ee.anonymousResponses,onChange:R=>ne({...ee,anonymousResponses:R.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-dark-border",children:[l.jsxs("button",{onClick:Ir,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Zd,{size:18}),"Back"]}),l.jsxs("button",{onClick:kt,className:"btn-primary flex items-center gap-2",children:["Next: Scheduling & Automation",l.jsx(Ld,{size:18})]})]})]}),r===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-4",children:"Scheduling & Automation"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Start Date *"}),l.jsx("input",{type:"date",className:"input w-full",value:ee.startDate,onChange:R=>ne({...ee,startDate:R.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"End Date *"}),l.jsx("input",{type:"date",className:"input w-full",value:ee.endDate,onChange:R=>ne({...ee,endDate:R.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Frequency"}),l.jsxs("select",{className:"input w-full",value:ee.frequency,onChange:R=>ne({...ee,frequency:R.target.value}),children:[l.jsx("option",{value:"weekly",children:"Weekly"}),l.jsx("option",{value:"monthly",children:"Monthly"}),l.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-bg rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-1",children:"One-time access per content per user"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Users can only access each content item once"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ee.oneTimeAccess,onChange:R=>ne({...ee,oneTimeAccess:R.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-semibold text-dark-text",children:"Automation Settings"}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-bg rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Eu,{size:20,className:"text-primary"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text",children:"Auto-send Email Invitations"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Automatically send invitations when campaign starts"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ee.autoSendInvites,onChange:R=>ne({...ee,autoSendInvites:R.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-bg rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(np,{size:20,className:"text-primary"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text",children:"Send Reminders for Non-Respondents"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Automatically remind participants who haven't responded"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ee.sendReminders,onChange:R=>ne({...ee,sendReminders:R.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-bg rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pi,{size:20,className:"text-primary"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text",children:"Send Completion Confirmations"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Send confirmation emails when participants complete the campaign"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ee.sendConfirmations,onChange:R=>ne({...ee,sendConfirmations:R.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-dark-border",children:[l.jsxs("button",{onClick:Ir,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Zd,{size:18}),"Back"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>Qs(),disabled:kr,className:"btn-secondary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(gf,{size:18}),kr?"Saving...":"Save as Draft"]}),l.jsxs("button",{onClick:()=>lh(),disabled:!ee.startDate||!ee.endDate||kr,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(_o,{size:18}),kr?"Launching...":"Launch Campaign"]})]})]})]})]}),g&&(()=>{const R=Ee.find(J=>J.id===g);return R?l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-dark-card w-full max-w-4xl rounded-lg shadow-xl max-h-[90vh] overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"sticky top-0 bg-dark-card border-b border-dark-border p-6 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-dark-text",children:"Assessment & Data Collection"}),l.jsx("p",{className:"text-sm text-dark-text-muted mt-1",children:R.name})]}),l.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-dark-bg rounded-lg transition-colors",children:l.jsx(hn,{size:20,className:"text-dark-text"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"card bg-dark-bg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-dark-text",children:"Real-time Response Tracker"}),l.jsx("span",{className:"text-xs text-dark-text-muted",children:"Live"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-dark-text",children:"Response Rate"}),l.jsxs("span",{className:"text-sm font-semibold text-dark-text",children:[R.completionRate,"%"]})]}),l.jsx("div",{className:"w-full bg-dark-border rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${R.completionRate}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-dark-text",children:R.totalResponses}),l.jsx("div",{className:"text-xs text-dark-text-muted",children:"Total Responses"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-dark-text",children:Math.round(R.totalResponses*(R.completionRate/100))}),l.jsx("div",{className:"text-xs text-dark-text-muted",children:"Completed"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-dark-text",children:Math.round(R.totalResponses*(1-R.completionRate/100))}),l.jsx("div",{className:"text-xs text-dark-text-muted",children:"Pending"})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text",children:"Manage Participants"}),l.jsxs("button",{onClick:()=>Tn(!0),className:"text-sm text-primary hover:underline flex items-center gap-1",children:[l.jsx(J1,{size:14}),"Edit Participants"]})]}),l.jsx("p",{className:"text-sm text-dark-text-muted mb-4",children:"You can add or remove participants even after the campaign has started."})]}),R.campaignType==="custom"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Advanced Options"}),l.jsxs("div",{className:"p-4 bg-dark-bg rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-1",children:"Randomized Video Sets"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Randomly assign one video set per activation (e.g., Program A has 3 sets)"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-dark-border peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("label",{className:"block text-xs text-dark-text-muted mb-2",children:"Number of Sets"}),l.jsx("input",{type:"number",className:"input w-full",placeholder:"3",min:"1"})]})]})]})]})]})}):null})(),Gn&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-dark-card w-full max-w-2xl rounded-lg shadow-xl",children:[l.jsxs("div",{className:"p-6 border-b border-dark-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-dark-text",children:"Import Participants"}),l.jsx("button",{onClick:()=>Dn(!1),className:"p-2 hover:bg-dark-bg rounded-lg transition-colors",children:l.jsx(hn,{size:20,className:"text-dark-text"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("p",{className:"text-sm text-dark-text-muted",children:"Select an import method to add participants to your campaign."}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("button",{onClick:()=>{Dn(!1),alert("CSV upload feature coming soon")},className:"p-6 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors text-center",children:[l.jsx(R0,{size:32,className:"text-primary mx-auto mb-3"}),l.jsx("div",{className:"font-medium text-dark-text",children:"Upload CSV"}),l.jsx("div",{className:"text-xs text-dark-text-muted mt-1",children:"Import from file"})]}),l.jsxs("button",{onClick:()=>{Dn(!1),alert("HRIS sync feature coming soon")},className:"p-6 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors text-center",children:[l.jsx(ui,{size:32,className:"text-primary mx-auto mb-3"}),l.jsx("div",{className:"font-medium text-dark-text",children:"Sync HRIS"}),l.jsx("div",{className:"text-xs text-dark-text-muted mt-1",children:"Connect to HR system"})]}),l.jsxs("button",{onClick:()=>{Dn(!1)},className:"p-6 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors text-center",children:[l.jsx(_m,{size:32,className:"text-primary mx-auto mb-3"}),l.jsx("div",{className:"font-medium text-dark-text",children:"Manual Add"}),l.jsx("div",{className:"text-xs text-dark-text-muted mt-1",children:"Select from employee list"})]})]})]})]})}),qt&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-dark-card w-full max-w-4xl rounded-lg shadow-xl max-h-[90vh] overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"p-6 border-b border-dark-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-dark-text",children:"Edit Participants"}),l.jsx("button",{onClick:()=>Tn(!1),className:"p-2 hover:bg-dark-bg rounded-lg transition-colors",children:l.jsx(hn,{size:20,className:"text-dark-text"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("p",{className:"text-sm text-dark-text-muted",children:[ee.participants.length," participants"]}),l.jsxs("button",{onClick:()=>{Tn(!1)},className:"btn-secondary flex items-center gap-2",children:[l.jsx(hn,{size:18}),"Close"]})]}),l.jsx("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-dark-bg",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Name"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Department"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Role"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-dark-text-muted",children:"Actions"})]})}),l.jsx("tbody",{children:ee.participants.map(R=>l.jsxs("tr",{className:"border-t border-dark-border",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text",children:R.name}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.email}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.department}),l.jsx("td",{className:"px-4 py-3 text-sm text-dark-text-muted",children:R.role}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("button",{onClick:()=>{ne({...ee,participants:ee.participants.filter(J=>J.id!==R.id)})},className:"text-red-500 hover:text-red-400",children:l.jsx(Vd,{size:16})})})]},R.id))})]})})]}),l.jsx("div",{className:"p-6 border-t border-dark-border flex justify-end",children:l.jsx("button",{onClick:()=>Tn(!1),className:"btn-primary",children:"Done"})})]})})]})},aEe="modulepreload",sEe=function(t){return"/"+t},O5={},oEe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var o=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");i=h(n.map(m=>{if(m=sEe(m),m in O5)return;O5[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":aEe,g||(b.as="script"),b.crossOrigin="",b.href=m,d&&b.setAttribute("nonce",d),document.head.appendChild(b),g)return new Promise((j,E)=>{b.addEventListener("load",j),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},lEe=({isOpen:t,onClose:e,departments:n,cohorts:r=[]})=>{const{user:i}=Ar(),[a,o]=x.useState("form"),[u,d]=x.useState(!1),[h,m]=x.useState(null),[g,y]=x.useState(""),[b,j]=x.useState(""),[E,A]=x.useState(!1),[T,O]=x.useState(!1),[C,U]=x.useState({email:"",name:"",role:"employee",department:"",cohortIds:[]});x.useEffect(()=>{t||(o("form"),U({email:"",name:"",role:"employee",department:"",cohortIds:[]}),m(null),y(""),j(""),A(!1),O(!1))},[t]);const B=async I=>{if(I.preventDefault(),m(null),!i?.organization){m("No organization found");return}if(!C.email.trim()){m("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C.email)){m("Invalid email format");return}d(!0);try{if(await TS(C.email,i.organization)){m("This email already has a pending invitation"),d(!1);return}const q=await Bf(i.organization);if(!q){m("Organization not found"),d(!1);return}const{invitationId:M,passwordResetLink:ce}=await I0({organizationId:i.organization,organizationName:q.name,email:C.email.trim(),role:C.role,department:C.department||void 0,cohortIds:C.cohortIds.length>0?C.cohortIds:void 0,invitedBy:i.id,inviteeName:C.name.trim()||void 0});j(ce);const{getInvitation:me}=await oEe(async()=>{const{getInvitation:X}=await Promise.resolve().then(()=>Ure);return{getInvitation:X}},[]),G=await me(M);if(G){const se=`${window.location.origin}/invite/${G.token}`;y(se),o("success")}}catch(V){console.error("[InviteModal] Failed to create invitation:",V),m(V.message||"Failed to create invitation")}finally{d(!1)}},$=async()=>{try{await navigator.clipboard.writeText(g),A(!0),setTimeout(()=>A(!1),2e3)}catch(I){console.error("[InviteModal] Failed to copy link:",I)}},N=async()=>{try{await navigator.clipboard.writeText(b),O(!0),setTimeout(()=>O(!1),2e3)}catch(I){console.error("[InviteModal] Failed to copy password reset link:",I)}},k=I=>{U(L=>({...L,cohortIds:L.cohortIds.includes(I)?L.cohortIds.filter(V=>V!==I):[...L.cohortIds,I]}))};return t?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-xl max-w-lg w-full",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-border",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(sx,{size:20,className:"text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:a==="form"?"Invite Team Member":"Invitation Created!"}),l.jsx("p",{className:"text-sm text-dark-text-muted",children:a==="form"?"Send an invitation to join your organization":"Share the invite link below"})]})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-dark-bg rounded-lg transition-colors",children:l.jsx(hn,{size:20,className:"text-dark-text-muted"})})]}),l.jsx("div",{className:"p-6",children:a==="form"?l.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h&&l.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:h}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Email Address *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Eu,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-text-muted"}),l.jsx("input",{type:"email",value:C.email,onChange:I=>U({...C,email:I.target.value}),placeholder:"colleague@company.com",className:"input w-full pl-10",required:!0,autoFocus:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Full Name (optional)"}),l.jsx("input",{type:"text",value:C.name,onChange:I=>U({...C,name:I.target.value}),placeholder:"John Doe",className:"input w-full"}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-1",children:"Pre-fill the name for a better experience"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Role *"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>U({...C,role:"employee"}),className:`p-3 rounded-lg border-2 transition-colors text-left ${C.role==="employee"?"border-primary bg-primary/10 text-dark-text":"border-dark-border bg-dark-card text-dark-text-muted hover:border-primary/50"}`,children:[l.jsx("div",{className:"text-sm font-medium",children:"Employee"}),l.jsx("div",{className:"text-xs text-dark-text-muted mt-1",children:"Standard access"})]}),l.jsxs("button",{type:"button",onClick:()=>U({...C,role:"admin"}),className:`p-3 rounded-lg border-2 transition-colors text-left ${C.role==="admin"?"border-primary bg-primary/10 text-dark-text":"border-dark-border bg-dark-card text-dark-text-muted hover:border-primary/50"}`,children:[l.jsx("div",{className:"text-sm font-medium",children:"Admin"}),l.jsx("div",{className:"text-xs text-dark-text-muted mt-1",children:"Full control"})]})]})]}),n.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Department (optional)"}),l.jsxs("select",{value:C.department,onChange:I=>U({...C,department:I.target.value}),className:"input w-full",children:[l.jsx("option",{value:"",children:"Select department"}),n.map(I=>l.jsx("option",{value:I,children:I},I))]})]}),r.length>0&&C.role==="employee"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Assign to Cohorts (optional)"}),l.jsx("div",{className:"space-y-2",children:r.map(I=>l.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-dark-border hover:bg-dark-bg cursor-pointer transition-colors",children:[l.jsx("input",{type:"checkbox",checked:C.cohortIds.includes(I.id),onChange:()=>k(I.id),className:"w-4 h-4"}),l.jsx("span",{className:"text-sm text-dark-text",children:I.name})]},I.id))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,disabled:u,className:"btn-secondary flex-1",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(sx,{size:18}),"Create Invitation"]})})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(di,{size:32,className:"text-green-500"})}),l.jsxs("p",{className:"text-dark-text mb-2",children:["Account created for ",l.jsx("strong",{children:C.email})]}),l.jsx("p",{className:"text-sm text-dark-text-muted",children:"An email with the password setup link has been sent."}),l.jsx("p",{className:"text-sm text-dark-text-muted mt-1",children:"Share the link below if the email doesn't arrive."})]}),l.jsxs("div",{className:"bg-blue-500/10 border-2 border-blue-500/30 rounded-lg p-4",children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Password Setup Link"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:b,readOnly:!0,className:"input flex-1 bg-dark-card font-mono text-sm"}),l.jsx("button",{onClick:N,className:"btn-primary flex items-center gap-2 px-4",children:T?l.jsxs(l.Fragment,{children:[l.jsx(di,{size:18}),"Copied!"]}):l.jsxs(l.Fragment,{children:[l.jsx(rp,{size:18}),"Copy"]})})]}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2 font-medium",children:" The user should click this link to set their password before logging in."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Invitation Link"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:g,readOnly:!0,className:"input flex-1 bg-dark-bg font-mono text-sm"}),l.jsx("button",{onClick:$,className:"btn-primary flex items-center gap-2 px-4",children:E?l.jsxs(l.Fragment,{children:[l.jsx(di,{size:18}),"Copied!"]}):l.jsxs(l.Fragment,{children:[l.jsx(rp,{size:18}),"Copy"]})})]}),l.jsx("p",{className:"text-xs text-dark-text-muted mt-2",children:"This link expires in 7 days"})]}),l.jsxs("div",{className:"bg-dark-bg rounded-lg p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Email:"}),l.jsx("span",{className:"text-dark-text font-medium",children:C.email})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Role:"}),l.jsx("span",{className:"text-dark-text font-medium capitalize",children:C.role})]}),C.department&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Department:"}),l.jsx("span",{className:"text-dark-text font-medium",children:C.department})]}),C.cohortIds.length>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-dark-text-muted",children:"Cohorts:"}),l.jsxs("span",{className:"text-dark-text font-medium",children:[C.cohortIds.length," assigned"]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{o("form"),U({email:"",name:"",role:"employee",department:"",cohortIds:[]}),y(""),j(""),A(!1),O(!1)},className:"btn-secondary flex-1",children:"Invite Another"}),l.jsx("button",{onClick:e,className:"btn-primary flex-1",children:"Done"})]})]})})]})}):null},cEe=({isOpen:t,onClose:e,onSuccess:n,cohorts:r})=>{const{user:i}=Ar(),a=x.useRef(null),[o,u]=x.useState("upload"),[d,h]=x.useState([]),[m,g]=x.useState({total:0,success:0,failed:0}),[y,b]=x.useState(null);if(!t)return null;const j=()=>{u("upload"),h([]),g({total:0,success:0,failed:0}),b(null)},E=()=>{j(),e()},A=()=>{const U=["email","name","role","department","cohort"],B=["john@example.com","John Doe","employee","Engineering","Cohort 1"],$=[U.join(","),B.join(",")].join(`
`),N=new Blob([$],{type:"text/csv"}),k=window.URL.createObjectURL(N),I=document.createElement("a");I.href=k,I.download="employee_import_template.csv",I.click(),window.URL.revokeObjectURL(k)},T=U=>{const B=U.split(/\r\n|\n/).filter(M=>M.trim());if(B.length<2){b("File appears to be empty or missing headers");return}const $=B[0].toLowerCase().split(",").map(M=>M.trim()),N=$.indexOf("email"),k=$.indexOf("name"),I=$.indexOf("role"),L=$.indexOf("department"),V=$.indexOf("cohort");if(N===-1){b('CSV must contain an "email" column');return}const q=B.slice(1).map(M=>{const ce=M.split(",").map(ue=>ue.trim()),me=ce[N]||"",G=k!==-1?ce[k]:"",X=I!==-1?ce[I]?.toLowerCase():"employee",se=L!==-1?ce[L]:"",be=V!==-1?ce[V]:"",Y=[];return me?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(me)||Y.push("Invalid email"):Y.push("Missing email"),{email:me,name:G,role:X==="admin"||X==="employee"?X:"employee",department:se,cohort:be,isValid:Y.length===0,errors:Y}});h(q),u("preview")},O=U=>{const B=U.target.files?.[0];if(!B)return;if(B.type!=="text/csv"&&!B.name.endsWith(".csv")){b("Please upload a valid CSV file");return}const $=new FileReader;$.onload=N=>{const k=N.target?.result;T(k)},$.readAsText(B)},C=async()=>{if(!i?.organization)return;u("importing");let U=0,B=0;const $=d.filter(N=>N.isValid);try{const N=await Bf(i.organization);if(!N)throw new Error("Organization not found");for(const k of $)try{if(await TS(k.email,i.organization))throw new Error("Already invited");let L;if(k.cohort){const V=r.find(q=>q.name.toLowerCase()===k.cohort.toLowerCase());V&&(L=[V.id])}await I0({organizationId:i.organization,organizationName:N.name,email:k.email,role:k.role,department:k.department||void 0,cohortIds:L,invitedBy:i.id,inviteeName:k.name||void 0}),U++}catch(I){console.error(`Failed to import ${k.email}:`,I),B++}g({total:$.length,success:U,failed:B}),u("complete"),U>0&&n()}catch(N){console.error("Import failed:",N),b("Import process failed. Please try again."),u("preview")}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-[#2A2A2A] border border-dark-border rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-border",children:[l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:"Bulk Import Employees"}),l.jsx("button",{onClick:E,className:"p-2 hover:bg-dark-bg rounded-lg transition-colors",children:l.jsx(hn,{size:20,className:"text-dark-text-muted"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[o==="upload"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border-2 border-dashed border-dark-border rounded-xl p-12 flex flex-col items-center justify-center text-center hover:border-primary/50 hover:bg-dark-bg/50 transition-colors cursor-pointer",onClick:()=>a.current?.click(),children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:l.jsx(R0,{size:32,className:"text-primary"})}),l.jsx("h3",{className:"text-lg font-medium text-dark-text mb-2",children:"Click to upload CSV"}),l.jsx("p",{className:"text-dark-text-muted mb-6",children:"or drag and drop file here"}),l.jsx("input",{ref:a,type:"file",accept:".csv",className:"hidden",onChange:O})]}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(DS,{className:"text-blue-400 mt-1",size:20}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-400 mb-1",children:"CSV Format Guide"}),l.jsxs("p",{className:"text-sm text-dark-text-muted mb-3",children:["Your CSV should include the following columns:",l.jsx("code",{className:"bg-black/20 px-1 py-0.5 rounded mx-1",children:"email"}),"(required),",l.jsx("code",{className:"bg-black/20 px-1 py-0.5 rounded mx-1",children:"name"}),",",l.jsx("code",{className:"bg-black/20 px-1 py-0.5 rounded mx-1",children:"role"}),",",l.jsx("code",{className:"bg-black/20 px-1 py-0.5 rounded mx-1",children:"department"}),",",l.jsx("code",{className:"bg-black/20 px-1 py-0.5 rounded mx-1",children:"cohort"})]}),l.jsxs("button",{onClick:A,className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1 font-medium",children:[l.jsx(kie,{size:14})," Download Template"]})]})]})}),y&&l.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm flex items-center gap-2",children:[l.jsx(rx,{size:16}),y]})]}),o==="preview"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"font-medium text-dark-text",children:["Preview (",d.filter(U=>U.isValid).length," valid rows)"]}),l.jsx("button",{onClick:j,className:"text-sm text-dark-text-muted hover:text-dark-text",children:"Upload different file"})]}),l.jsx("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-dark-bg text-dark-text-muted uppercase text-xs",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Status"}),l.jsx("th",{className:"px-4 py-3",children:"Email"}),l.jsx("th",{className:"px-4 py-3",children:"Name"}),l.jsx("th",{className:"px-4 py-3",children:"Role"}),l.jsx("th",{className:"px-4 py-3",children:"Dept"}),l.jsx("th",{className:"px-4 py-3",children:"Cohort"})]})}),l.jsx("tbody",{className:"divide-y divide-dark-border",children:d.map((U,B)=>l.jsxs("tr",{className:U.isValid?"bg-transparent":"bg-red-500/5",children:[l.jsx("td",{className:"px-4 py-3",children:U.isValid?l.jsx(di,{size:16,className:"text-green-500"}):l.jsxs("div",{className:"group relative",children:[l.jsx(rx,{size:16,className:"text-red-500 cursor-help"}),l.jsx("div",{className:"absolute left-6 top-0 bg-dark-card border border-dark-border p-2 rounded shadow-lg z-10 w-48 hidden group-hover:block",children:U.errors.map(($,N)=>l.jsx("div",{className:"text-xs text-red-400",children:$},N))})]})}),l.jsx("td",{className:"px-4 py-3 text-dark-text",children:U.email}),l.jsx("td",{className:"px-4 py-3 text-dark-text-muted",children:U.name||"-"}),l.jsx("td",{className:"px-4 py-3 text-dark-text-muted capitalize",children:U.role}),l.jsx("td",{className:"px-4 py-3 text-dark-text-muted",children:U.department||"-"}),l.jsx("td",{className:"px-4 py-3 text-dark-text-muted",children:U.cohort||"-"})]},B))})]})})]}),o==="importing"&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[l.jsx(lae,{size:48,className:"text-primary animate-spin mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-dark-text",children:"Importing Employees..."}),l.jsx("p",{className:"text-dark-text-muted",children:"Please wait while we create invitations."})]}),o==="complete"&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(di,{size:32,className:"text-green-500"})}),l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-2",children:"Import Complete"}),l.jsxs("p",{className:"text-dark-text-muted mb-6",children:["Successfully invited ",m.success," employees.",m.failed>0&&` Failed to invite ${m.failed} employees.`]}),l.jsx("div",{className:"flex justify-center gap-4",children:l.jsx("button",{onClick:E,className:"btn-primary px-8",children:"Done"})})]})]}),o==="preview"&&l.jsxs("div",{className:"p-6 border-t border-dark-border flex justify-end gap-3",children:[l.jsx("button",{onClick:E,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{onClick:C,disabled:d.filter(U=>U.isValid).length===0,className:"btn-primary",children:["Import ",d.filter(U=>U.isValid).length," Employees"]})]})]})})},uEe=()=>{const{user:t}=Ar(),[e,n]=x.useState([]),[r,i]=x.useState([]),[a,o]=x.useState([]),[u,d]=x.useState([]),[h,m]=x.useState(!0),[g,y]=x.useState(!1),[b,j]=x.useState(!1),[E,A]=x.useState(!1),[T,O]=x.useState(null),[C,U]=x.useState(!1),[B,$]=x.useState(""),[N,k]=x.useState("all"),[I,L]=x.useState("none"),[V,q]=x.useState(new Set),[M,ce]=x.useState({name:"",description:""}),me=async()=>{if(!t?.organization){console.warn("[EmployeeManagement] No organization set for user"),m(!1);return}try{m(!0);const K=await Bf(t.organization);K&&o(K.departments);const[ee,ne,Ee]=await Promise.all([P0(t.organization),ES(t.organization),xv(t.organization)]);n(ee),i(ne.map(Ue=>({...Ue,description:Ue.description||void 0,organization:Ue.organization||void 0}))),d(Ee)}catch(K){console.error("[EmployeeManagement] Failed to load data:",K)}finally{m(!1)}};x.useEffect(()=>{me()},[t?.organization]);const G=B.toLowerCase(),X=K=>{if(!K||K.length===0)return"Unassigned";const ee=K.map(ne=>r.find(Ee=>Ee.id===ne)?.name).filter(Boolean);return ee.length>0?ee.join(", "):"Unknown"},se=e.filter(K=>{const ee=K.name.toLowerCase().includes(G)||K.email.toLowerCase().includes(G)||K.department?.toLowerCase().includes(G),ne=N==="all"?!0:N==="unassigned"?!K.cohortIds||K.cohortIds.length===0:K.cohortIds?.includes(N);return ee&&ne}),be=x.useMemo(()=>{const ee=u.filter(ne=>ne.status==="pending").filter(ne=>{const Ee=ne.metadata?.inviteeName?.toLowerCase()||"",Ue=ne.email.toLowerCase().includes(G)||Ee.includes(G)||ne.department?.toLowerCase().includes(G),Qe=N==="all"?!0:N==="unassigned"?!ne.cohortIds||ne.cohortIds.length===0:ne.cohortIds?.includes(N);return Ue&&Qe});return[...se.map(ne=>({kind:"employee",id:ne.id,name:ne.name,email:ne.email,role:"Employee",department:ne.department||"",cohortLabel:X(ne.cohortIds),status:ne.status,employee:ne})),...ee.map(ne=>{const Ee=ne.status==="expired"?"expired":"invited";return{kind:"invite",id:ne.id,name:ne.metadata?.inviteeName||ne.email,email:ne.email,role:ne.role==="admin"?"Admin":"Employee",department:ne.department||"",cohortLabel:X(ne.cohortIds),status:Ee,invitation:ne}})]},[se,u,G,N,r]),Y={active:{label:"Active",className:"border-dark-border/70 bg-dark-bg/60 text-dark-text"},inactive:{label:"Inactive",className:"border-dark-border/70 bg-dark-bg/60 text-dark-text"},invited:{label:"Invited",className:"border-dark-border/70 bg-dark-bg/60 text-dark-text"},expired:{label:"Expired",className:"border-dark-border/70 bg-dark-bg/60 text-dark-text"}},z=async()=>{if(y(!1),t?.organization){const K=await xv(t.organization);d(K)}},Q=async K=>{const ne=`${window.location.origin}/invite/${K}`;try{await navigator.clipboard.writeText(ne),alert("Invite link copied to clipboard!")}catch(Ee){console.error("[EmployeeManagement] Failed to copy link:",Ee),alert("Failed to copy link. Please try again.")}},ue=async K=>{if(window.confirm("Resend this invitation? This will generate a new invite link."))try{if(await PU(K),t?.organization){const ee=await xv(t.organization);d(ee)}alert("Invitation resent successfully!")}catch(ee){console.error("[EmployeeManagement] Failed to resend invitation:",ee),alert("Failed to resend invitation. Please try again.")}},ge=async K=>{if(window.confirm("Revoke this invitation? The invite link will no longer work."))try{await CU(K),d(u.filter(ee=>ee.id!==K)),alert("Invitation revoked successfully!")}catch(ee){console.error("[EmployeeManagement] Failed to revoke invitation:",ee),alert("Failed to revoke invitation. Please try again.")}},pe=async K=>{if(K.preventDefault(),!t?.organization){console.error("[EmployeeManagement] Cannot create cohort without organization");return}try{const ne={id:await SU(M.name,M.description||void 0,[],t.organization),name:M.name,description:M.description||void 0,employeeIds:[],organization:t.organization,createdAt:new Date};i([...r,ne]),ce({name:"",description:""}),A(!1)}catch(ee){console.error("[EmployeeManagement] Failed to create cohort:",ee),alert("Failed to create cohort. Please try again.")}},Ne=async(K,ee)=>{try{const ne=e.find(Je=>Je.id===K);if(!ne){alert("Employee not found");return}const Ee=ee?r.find(Je=>Je.id===ee)?.name||"Unknown Cohort":"Unassigned",Ue=ee?`Assign ${ne.name} to "${Ee}"?`:`Remove ${ne.name} from all cohorts?`;if(!window.confirm(Ue))return;const Qe=ne.cohortIds||[];await Promise.all(Qe.map(Je=>vv(Je,K)));let bt=[];ee&&(await PE(ee,K),bt=[ee]),await IE(K,bt),n(e.map(Je=>Je.id===K?{...Je,cohortIds:bt.length>0?bt:void 0}:Je)),i(r.map(Je=>ee&&Je.id===ee?{...Je,employeeIds:[...Je.employeeIds.filter(et=>et!==K),K]}:{...Je,employeeIds:Je.employeeIds.filter(et=>et!==K)})),O(null),console.log(" Employee assigned to cohort:",{employeeId:K,cohortId:ee})}catch(ne){console.error(" Failed to assign employee to cohort:",ne),alert("Failed to assign employee to cohort. Please try again.")}},Ae=async K=>{const ee=e.filter(Ue=>V.has(Ue.id));if(ee.length===0){alert("No employees selected");return}const ne=K?r.find(Ue=>Ue.id===K)?.name||"Unknown Cohort":"Unassigned",Ee=K?`Assign ${ee.length} employee(s) to "${ne}"?`:`Remove ${ee.length} employee(s) from all cohorts?`;if(window.confirm(Ee))try{for(const Qe of ee){const bt=Qe.cohortIds||[];await Promise.all(bt.map(et=>vv(et,Qe.id)));let Je=[];K&&(await PE(K,Qe.id),Je=[K]),await IE(Qe.id,Je)}const Ue=new Set(ee.map(Qe=>Qe.id));n(e.map(Qe=>Ue.has(Qe.id)?{...Qe,cohortIds:K?[K]:void 0}:Qe)),i(r.map(Qe=>{if(K&&Qe.id===K){const bt=[...Qe.employeeIds];return ee.forEach(Je=>{bt.includes(Je.id)||bt.push(Je.id)}),{...Qe,employeeIds:bt}}return{...Qe,employeeIds:Qe.employeeIds.filter(bt=>!Ue.has(bt))}})),U(!1),q(new Set),console.log(` Batch assigned ${ee.length} employees to cohort:`,K)}catch(Ue){console.error(" Failed to batch assign employees to cohort:",Ue),alert("Failed to batch assign employees. Please try again.")}},Le=K=>{const ee=new Set(V);ee.has(K)?ee.delete(K):ee.add(K),q(ee)},ae=()=>{const K=se.map(ee=>ee.id);q(new Set(K))},Re=()=>{q(new Set)},Ie=async K=>{if(window.confirm("Are you sure you want to delete this employee? This will remove their profile but not their Firebase Auth account."))try{const ee=r.filter(ne=>ne.employeeIds.includes(K));await Promise.all(ee.map(ne=>vv(ne.id,K))),await EU(K),n(e.filter(ne=>ne.id!==K)),i(r.map(ne=>({...ne,employeeIds:ne.employeeIds.filter(Ee=>Ee!==K)}))),console.log("[EmployeeManagement] Employee deleted:",K)}catch(ee){console.error("[EmployeeManagement] Failed to delete employee:",ee),alert("Failed to delete employee. Please try again.")}};return h?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-dark-text-muted",children:"Loading employee data..."})}):t?.organization?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"border-b border-dark-border/70 pb-8",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-8",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-dark-text-muted",children:"People Operations"}),l.jsx("h1",{className:"mt-3 text-4xl font-semibold",children:"Employee Management"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-dark-text-muted",children:"Create and manage employee accounts, cohorts, and invitations in a single workspace."}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-6 text-base text-dark-text-muted",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-dark-text font-semibold text-xl",children:e.length})," employees"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-dark-text font-semibold text-xl",children:r.length})," cohorts"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-dark-text font-semibold text-xl",children:u.filter(K=>K.status==="pending").length})," ","pending invites"]})]})]}),l.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[l.jsxs("button",{onClick:()=>j(!0),className:"btn-secondary flex items-center gap-2 px-6 py-3 text-sm uppercase tracking-[0.2em]",children:[l.jsx(R0,{size:18}),"Import CSV"]}),l.jsxs("button",{onClick:()=>A(!0),className:"btn-secondary flex items-center gap-2 px-6 py-3 text-sm uppercase tracking-[0.2em]",children:[l.jsx(Lie,{size:18}),"New Cohort"]}),l.jsxs("button",{onClick:()=>y(!0),className:"btn-primary flex items-center gap-2 px-6 py-3 text-sm uppercase tracking-[0.2em]",children:[l.jsx(sx,{size:18}),"Invite Employee"]})]})]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:"People"}),l.jsx("p",{className:"text-sm text-dark-text-muted",children:"Employees and pending invitations"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("div",{className:"rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-3 py-2 text-sm",children:l.jsxs("select",{value:I,onChange:K=>L(K.target.value),className:"w-full bg-transparent text-dark-text focus:outline-none",children:[l.jsx("option",{value:"none",children:"No Grouping"}),l.jsx("option",{value:"department",children:"Group by Department"}),l.jsx("option",{value:"cohort",children:"Group by Cohort"}),l.jsx("option",{value:"status",children:"Group by Status"})]})}),l.jsx("div",{className:"rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-3 py-2 text-sm",children:l.jsxs("select",{value:N,onChange:K=>k(K.target.value),className:"w-full bg-transparent text-dark-text focus:outline-none",children:[l.jsx("option",{value:"all",children:"All Cohorts"}),l.jsx("option",{value:"unassigned",children:"Unassigned"}),r.map(K=>l.jsx("option",{value:K.id,children:K.name},K.id))]})}),l.jsxs("div",{className:"flex items-center rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-3 py-2",children:[l.jsx(jo,{size:16,className:"text-dark-text-muted"}),l.jsx("input",{type:"text",placeholder:"Search people...",value:B,onChange:K=>$(K.target.value),className:"w-56 bg-transparent pl-3 text-sm text-dark-text focus:outline-none"})]})]})]}),V.size>0&&l.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-sm font-medium text-dark-text",children:[V.size," employee(s) selected"]}),l.jsx("button",{onClick:Re,className:"text-sm text-dark-text-muted hover:text-dark-text transition-colors",children:"Clear selection"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:()=>U(!0),className:"btn-primary flex items-center gap-2 px-4 py-2 text-sm",children:"Assign to Cohort"})})]}),l.jsxs("div",{className:"hidden lg:grid lg:grid-cols-[40px_1.5fr_1.5fr_0.8fr_1fr_1fr_1.2fr] gap-4 text-xs uppercase tracking-[0.3em] text-dark-text-muted px-2 pb-3",children:[l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("input",{type:"checkbox",checked:se.length>0&&V.size===se.length,onChange:K=>K.target.checked?ae():Re(),className:"w-4 h-4 rounded border-dark-border bg-dark-bg checked:bg-blue-500 checked:border-blue-500 cursor-pointer",title:"Select all employees"})})," ",l.jsx("span",{children:"Employee"}),l.jsx("span",{children:"Email"}),l.jsx("span",{children:"Role"}),l.jsx("span",{children:"Department"}),l.jsx("span",{children:"Cohort"}),l.jsx("span",{className:"text-right",children:"Status"})]}),l.jsx("div",{children:be.length===0?l.jsx("div",{className:"text-center py-10 text-dark-text-muted",children:"No people found"}):I==="none"?be.map((K,ee)=>{const ne=Y[K.status],Ee=K.kind==="employee"&&V.has(K.id);return l.jsx("div",{className:`p-4 transition-colors ${ee%2===0?"bg-white/5":"bg-white/[0.02]"} hover:bg-white/10`,children:l.jsxs("div",{className:"grid grid-cols-[40px_1.5fr_1.5fr_0.8fr_1fr_1fr_1.2fr] gap-4 items-center",children:[l.jsx("div",{className:"flex items-center justify-center",children:K.kind==="employee"?l.jsx("input",{type:"checkbox",checked:Ee,onChange:()=>Le(K.id),className:"w-4 h-4 rounded border-dark-border bg-dark-bg checked:bg-blue-500 checked:border-blue-500 cursor-pointer"}):l.jsx(l.Fragment,{children:l.jsx("div",{className:"w-4 h-4"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-dark-text",children:K.name}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:K.kind==="invite"?"Pending invite":"Directory"})]}),l.jsx("div",{className:"text-sm text-dark-text break-all",children:K.email}),l.jsx("div",{className:"text-sm text-dark-text capitalize",children:K.role}),l.jsx("div",{className:"text-sm text-dark-text",children:K.department}),l.jsx("div",{className:"text-sm text-dark-text",children:K.cohortLabel}),l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-medium ${ne.className}`,children:ne.label}),K.kind==="employee"?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>O(K.employee.id),className:"p-2 rounded-lg hover:bg-dark-bg transition-colors",title:"Assign to cohort",children:l.jsx(iD,{size:16,className:"text-dark-text-muted"})}),l.jsx("button",{onClick:()=>Ie(K.employee.id),className:"p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Delete employee",children:l.jsx(Vd,{size:16,className:"text-red-500"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Q(K.invitation.token),className:"p-2 rounded-lg hover:bg-dark-bg transition-colors",title:"Copy invite link",children:l.jsx(rp,{size:16,className:"text-dark-text-muted"})}),l.jsx("button",{onClick:()=>ue(K.invitation.id),className:"p-2 rounded-lg hover:bg-blue-500/10 transition-colors",title:"Resend invitation",children:l.jsx(aD,{size:16,className:"text-blue-400"})}),l.jsx("button",{onClick:()=>ge(K.invitation.id),className:"p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Revoke invitation",children:l.jsx(Vd,{size:16,className:"text-red-500"})})]})]})]})},`${K.kind}-${K.id}`)}):(()=>{const K=be.reduce((ee,ne)=>{let Ee;return I==="department"?Ee=ne.department||"Unassigned":I==="cohort"?Ee=ne.cohortLabel:I==="status"?Ee=Y[ne.status].label:Ee="All",ee[Ee]||(ee[Ee]=[]),ee[Ee].push(ne),ee},{});return Object.entries(K).map(([ee,ne])=>l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"px-2 py-3 bg-dark-bg/40",children:l.jsxs("h3",{className:"font-semibold text-dark-text",children:[ee," ",l.jsxs("span",{className:"text-sm text-dark-text-muted",children:["(",ne.length,")"]})]})}),ne.map((Ee,Ue)=>{const Qe=Y[Ee.status];return l.jsx("div",{className:`p-4 transition-colors ${Ue%2===0?"bg-white/5":"bg-white/[0.02]"} hover:bg-white/10`,children:l.jsxs("div",{className:"grid grid-cols-[1.5fr_1.5fr_0.8fr_1fr_1fr_1.2fr] gap-4 items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-dark-text",children:Ee.name}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:Ee.kind==="invite"?"Pending invite":"Directory"})]}),l.jsx("div",{className:"text-sm text-dark-text break-all",children:Ee.email}),l.jsx("div",{className:"text-sm text-dark-text capitalize",children:Ee.role}),l.jsx("div",{className:"text-sm text-dark-text",children:Ee.department}),l.jsx("div",{className:"text-sm text-dark-text",children:Ee.cohortLabel}),l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-medium ${Qe.className}`,children:Qe.label}),Ee.kind==="employee"?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>O(Ee.employee.id),className:"p-2 rounded-lg hover:bg-dark-bg transition-colors",title:"Assign to cohort",children:l.jsx(iD,{size:16,className:"text-dark-text-muted"})}),l.jsx("button",{onClick:()=>Ie(Ee.employee.id),className:"p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Delete employee",children:l.jsx(Vd,{size:16,className:"text-red-500"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Q(Ee.invitation.token),className:"p-2 rounded-lg hover:bg-dark-bg transition-colors",title:"Copy invite link",children:l.jsx(rp,{size:16,className:"text-dark-text-muted"})}),l.jsx("button",{onClick:()=>ue(Ee.invitation.id),className:"p-2 rounded-lg hover:bg-blue-500/10 transition-colors",title:"Resend invitation",children:l.jsx(aD,{size:16,className:"text-blue-400"})}),l.jsx("button",{onClick:()=>ge(Ee.invitation.id),className:"p-2 rounded-lg hover:bg-red-500/10 transition-colors",title:"Revoke invitation",children:l.jsx(Vd,{size:16,className:"text-red-500"})})]})]})]})},`${Ee.kind}-${Ee.id}`)})]},ee))})()})]}),l.jsx(lEe,{isOpen:g,onClose:z,departments:a,cohorts:r.map(K=>({id:K.id,name:K.name}))}),l.jsx(cEe,{isOpen:b,onClose:()=>j(!1),onSuccess:()=>{j(!1),me()},cohorts:r}),E&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Create Cohort"}),l.jsx("button",{onClick:()=>A(!1),className:"p-1 hover:bg-dark-bg rounded transition-colors",children:l.jsx(hn,{size:20})})]}),l.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Cohort Name *"}),l.jsx("input",{type:"text",required:!0,className:"input w-full",value:M.name,onChange:K=>ce({...M,name:K.target.value}),placeholder:"e.g., Q1 2024 Leadership Program"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Description (optional)"}),l.jsx("textarea",{className:"input w-full min-h-[100px] resize-none",value:M.description,onChange:K=>ce({...M,description:K.target.value}),placeholder:"Describe the purpose of this cohort..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>A(!1),className:"btn-secondary flex-1",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[l.jsx(di,{size:18}),"Create Cohort"]})]})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Assign to Cohort"}),l.jsx("button",{onClick:()=>O(null),className:"p-1 hover:bg-dark-bg rounded transition-colors",children:l.jsx(hn,{size:20})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>Ne(T,null),className:"w-full p-4 border border-dark-border rounded-lg hover:bg-dark-bg transition-colors text-left",children:[l.jsx("div",{className:"font-medium",children:"Unassigned"}),l.jsx("div",{className:"text-sm text-dark-text-muted",children:"Remove from all cohorts"})]}),r.map(K=>l.jsxs("button",{onClick:()=>Ne(T,K.id),className:"w-full p-4 border border-dark-border rounded-lg hover:bg-dark-bg transition-colors text-left",children:[l.jsx("div",{className:"font-medium",children:K.name}),K.description&&l.jsx("div",{className:"text-sm text-dark-text-muted",children:K.description}),l.jsxs("div",{className:"text-xs text-dark-text-muted mt-1",children:[K.employeeIds.length," employee",K.employeeIds.length!==1?"s":""]})]},K.id))]}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:()=>O(null),className:"w-full btn-secondary",children:"Cancel"})})]})}),C&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Batch Assign to Cohort"}),l.jsx("button",{onClick:()=>U(!1),className:"p-1 hover:bg-dark-bg rounded transition-colors",children:l.jsx(hn,{size:20})})]}),l.jsxs("p",{className:"text-sm text-dark-text-muted mb-4",children:["Assign ",V.size," employee(s) to a cohort"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>Ae(null),className:"w-full p-4 border border-dark-border rounded-lg hover:bg-dark-bg transition-colors text-left",children:[l.jsx("div",{className:"font-medium",children:"Unassigned"}),l.jsx("div",{className:"text-sm text-dark-text-muted",children:"Remove from all cohorts"})]}),r.map(K=>l.jsxs("button",{onClick:()=>Ae(K.id),className:"w-full p-4 border border-dark-border rounded-lg hover:bg-dark-bg transition-colors text-left",children:[l.jsx("div",{className:"font-medium",children:K.name}),K.description&&l.jsx("div",{className:"text-sm text-dark-text-muted",children:K.description}),l.jsxs("div",{className:"text-xs text-dark-text-muted mt-1",children:[K.employeeIds.length," employee",K.employeeIds.length!==1?"s":""]})]},K.id))]}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:()=>U(!1),className:"w-full btn-secondary",children:"Cancel"})})]})})]}):l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-dark-text-muted",children:"No organization found. Please complete onboarding first."})})},tv={primary:"#F7F7F7",secondary:"#0E4191",background:"#191A1C"},r7="company_colors",IA="company_logo",i7=()=>{try{const t=localStorage.getItem(r7),e=OA();if(t){const n=JSON.parse(t);return{primary:n.primary||tv.primary,secondary:n.secondary||tv.secondary,background:n.background||tv.background,logo:e}}}catch(t){console.error("Failed to load company colors:",t)}return{...tv,logo:OA()}},dEe=t=>{try{const{logo:e,...n}=t;localStorage.setItem(r7,JSON.stringify(n)),e?localStorage.setItem(IA,e):localStorage.removeItem(IA),window.dispatchEvent(new CustomEvent("companyColorsUpdated",{detail:t}))}catch(e){console.error("Failed to save company colors:",e)}},OA=()=>{try{return localStorage.getItem(IA)}catch(t){return console.error("Failed to load company logo:",t),null}},R5=t=>{const e=document.documentElement,n=fEe(t.secondary,30),r=tf(t.primary),i=tf(t.secondary),a=tf(t.background);e.style.setProperty("--company-primary",t.primary),e.style.setProperty("--company-secondary",t.secondary),e.style.setProperty("--company-secondary-light",n),e.style.setProperty("--company-background",t.background),e.style.setProperty("--company-primary-text",r),e.style.setProperty("--company-secondary-text",i),e.style.setProperty("--company-background-text",a),document.querySelectorAll(".employee-theme").forEach(u=>{u.style.setProperty("--company-primary",t.primary),u.style.setProperty("--company-secondary",t.secondary),u.style.setProperty("--company-secondary-light",n),u.style.setProperty("--company-background",t.background),u.style.setProperty("--company-primary-text",r),u.style.setProperty("--company-secondary-text",i),u.style.setProperty("--company-background-text",a)})},fEe=(t,e)=>{const n=t.replace("#",""),r=parseInt(n,16),i=Math.min(255,Math.max(0,(r>>16)+e)),a=Math.min(255,Math.max(0,(r>>8&255)+e)),o=Math.min(255,Math.max(0,(r&255)+e));return"#"+(i<<16|a<<8|o).toString(16).padStart(6,"0")},hEe=t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16)/255,r=parseInt(e.substring(2,4),16)/255,i=parseInt(e.substring(4,6),16)/255,[a,o,u]=[n,r,i].map(d=>d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4));return .2126*a+.7152*o+.0722*u},tf=t=>hEe(t)>.5?"#000000":"#ffffff";if(typeof window<"u"){const t=i7();R5(t),window.addEventListener("companyColorsUpdated",(e=>{R5(e.detail)}))}const mEe=()=>{const{user:t}=Ar(),[e,n]=x.useState(null),r=x.useRef(null),[i,a]=x.useState(null),[o,u]=x.useState(0),[d,h]=x.useState(!0),[m,g]=x.useState([]),[y,b]=x.useState("");x.useEffect(()=>{(async()=>{if(!t?.organization){h(!1);return}try{const[M,ce]=await Promise.all([Bf(t.organization),P0(t.organization)]);if(M)if(a(M),g(M.departments),M.settings.logo)n(M.settings.logo);else{const me=OA();me&&n(me)}u(ce.length)}catch(M){console.error("[Company] Failed to load organization data:",M)}finally{h(!1)}})();const q=i7();E(q),T(q)},[t?.organization]);const[j,E]=x.useState({primary:"#F7F7F7",secondary:"#0E4191",background:"#191A1C"}),[A,T]=x.useState({primary:"#F7F7F7",secondary:"#0E4191",background:"#191A1C"}),O=V=>{const q=V.target.files?.[0];if(q){if(!q.type.startsWith("image/")){alert("Please upload an image file");return}if(q.size>5*1024*1024){alert("Image size must be less than 5MB");return}const M=new FileReader;M.onloadend=()=>{n(M.result)},M.readAsDataURL(q)}},C=(V,q)=>{E(M=>({...M,[V]:q})),T(M=>({...M,[V]:q}))},U=(V,q)=>{T(me=>({...me,[V]:q}));let M=q.trim();if(M.startsWith("#")&&(M=M.slice(1)),M===""||/^[A-Fa-f0-9]+$/.test(M)){if(M.length===3&&(M=M.split("").map(me=>me+me).join("")),M.length===6){const me="#"+M;E(G=>({...G,[V]:me})),T(G=>({...G,[V]:me}))}else if(M==="")return}},B=()=>{y.trim()&&!m.includes(y.trim())&&(g([...m,y.trim()]),b(""))},$=V=>{g(m.filter(q=>q!==V))},N=async()=>{if(!i||!t?.organization){alert("Organization not found");return}try{await NU(t.organization,{departments:m,settings:{...i.settings,...e?{logo:e}:{},primaryColor:j.primary,secondaryColor:j.secondary,backgroundColor:j.background}}),dEe({primary:j.primary,secondary:j.secondary,background:j.background,logo:e||null}),alert("Company settings saved successfully!")}catch(V){console.error("[Company] Failed to save settings:",V),alert("Failed to save company settings. Please try again.")}},k=()=>{n(null),r.current&&(r.current.value=""),localStorage.removeItem("company_logo")},I=x.useMemo(()=>({primary:tf(j.primary),secondary:tf(j.secondary),background:tf(j.background)}),[j.primary,j.secondary,j.background]);if(d)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-dark-text-muted",children:"Loading company settings..."})});if(!i)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-dark-text-muted",children:"Organization not found"})});const L="rounded-2xl border border-dark-border/70 bg-dark-card/80 p-6";return l.jsxs("div",{className:"p-8",children:[l.jsx("div",{className:"mb-10 border-b border-dark-border/70 pb-8",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-8",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-dark-text-muted",children:"Organization Profile"}),l.jsx("h1",{className:"mt-3 text-4xl font-semibold text-dark-text",children:"Company Settings"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-dark-text-muted",children:"Fine-tune your company branding, departments, and visual system used across the DiCode suite."}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-dark-text-muted",children:[l.jsxs("span",{children:[l.jsx("span",{className:"text-dark-text font-semibold",children:o})," employees"]}),l.jsxs("span",{children:[l.jsx("span",{className:"text-dark-text font-semibold",children:m.length})," departments"]}),l.jsxs("span",{children:[l.jsx("span",{className:"text-dark-text font-semibold",children:i.size||""})," org size"]})]})]}),l.jsx("div",{className:"text-right max-w-sm text-xs text-dark-text-muted",children:"Updates here power the employee and campaign experiences automatically. Review colors and logos before saving."})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx("div",{className:L,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Oi,{size:20,className:"text-primary"}),l.jsx("span",{className:"text-xs uppercase tracking-wider text-dark-text-muted",children:"Organization"})]}),l.jsx("h2",{className:"text-3xl font-bold text-dark-text mb-2",children:i.name}),l.jsxs("p",{className:"text-sm text-dark-text-muted mb-6",children:[i.industry||"Technology","  ",i.region||"Global","  ",i.size||"Small"," company"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-dark-text-muted mb-1",children:"URL Slug"}),l.jsx("p",{className:"text-sm font-medium text-dark-text",children:i.slug})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-dark-text-muted mb-1",children:"Total Employees"}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(ui,{size:16,className:"text-primary"}),l.jsx("p",{className:"text-sm font-medium text-dark-text",children:o})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-dark-text-muted mb-1",children:"Departments"}),l.jsx("p",{className:"text-sm font-medium text-dark-text",children:m.length})]})]})]})})}),l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(Oi,{size:24,className:"text-primary"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:"Departments"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-2",children:"Add Department"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:y,onChange:V=>b(V.target.value),onKeyPress:V=>V.key==="Enter"&&B(),placeholder:"e.g., Marketing, Engineering, Sales",className:"input flex-1"}),l.jsxs("button",{type:"button",onClick:B,className:"btn-secondary flex items-center gap-2",children:[l.jsx(_m,{size:18}),"Add"]})]})]}),m.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-dark-text mb-3",children:["Departments (",m.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(V=>l.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[V,l.jsx("button",{type:"button",onClick:()=>$(V),className:"hover:text-primary-light",children:l.jsx(hn,{size:14})})]},V))})]})]})]}),l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(Xie,{size:24,className:"text-primary"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:"Company Logo"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-dark-border rounded-lg flex items-center justify-center bg-dark-card relative overflow-hidden",children:e?l.jsx("img",{src:e,alt:"Company Logo",className:"w-full h-full object-contain p-2"}):l.jsx("img",{src:"/DI-Code-Logo.png",alt:"DI Code Logo",className:"w-full h-full object-contain p-2"})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{children:[l.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:O,className:"hidden",id:"logo-upload"}),l.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-dark-card border border-dark-border rounded-lg text-dark-text hover:bg-dark-bg transition-colors cursor-pointer",children:[l.jsx(R0,{size:16}),e?"Change Logo":"Upload Logo"]})]}),e&&l.jsx("button",{onClick:k,className:"px-4 py-2 bg-dark-card border border-red-500/50 rounded-lg text-red-500 hover:bg-red-500/10 transition-colors text-sm",children:"Remove Logo"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Recommended: PNG or SVG format, transparent background. Max 5MB."})]})]})})]}),l.jsx("div",{className:L,children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(_ae,{size:24,className:"text-primary"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-text",children:"Color Palette"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Primary Color"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"color",value:j.primary,onChange:V=>C("primary",V.target.value),className:"w-16 h-16 rounded-lg border-2 border-dark-border cursor-pointer"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("input",{type:"text",value:A.primary,onChange:V=>U("primary",V.target.value),placeholder:"#000000",className:"input w-32 font-mono text-sm",maxLength:7}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Hex code"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Secondary Color"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"color",value:j.secondary,onChange:V=>C("secondary",V.target.value),className:"w-16 h-16 rounded-lg border-2 border-dark-border cursor-pointer"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("input",{type:"text",value:A.secondary,onChange:V=>U("secondary",V.target.value),placeholder:"#000000",className:"input w-32 font-mono text-sm",maxLength:7}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Hex code"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-text mb-3",children:"Background Color"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"color",value:j.background,onChange:V=>C("background",V.target.value),className:"w-16 h-16 rounded-lg border-2 border-dark-border cursor-pointer"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("input",{type:"text",value:A.background,onChange:V=>U("background",V.target.value),placeholder:"#000000",className:"input w-32 font-mono text-sm",maxLength:7}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Hex code"})]})]})]})]})]}),l.jsx("div",{className:"pr-4",children:l.jsxs("div",{className:"rounded-lg border-2 border-dark-border overflow-hidden",style:{backgroundColor:j.background},children:[l.jsxs("div",{className:"pt-3 px-4 pb-8",style:{backgroundColor:j.primary},children:[l.jsx("div",{className:"flex items-center justify-center mb-2 relative",children:l.jsx("div",{className:"h-12 flex items-center",children:e?l.jsx("img",{src:e,alt:"Logo",className:"h-full object-contain"}):l.jsx("img",{src:"/DI-Code-Logo.png",alt:"DI Code Logo",className:"h-full object-contain"})})}),l.jsx("h4",{className:"text-sm font-bold mb-1",style:{color:I.primary},children:"Welcome back, John"}),l.jsx("p",{className:"text-xs",style:{color:I.primary,opacity:.8},children:"Continue your leadership journey"})]}),l.jsx("div",{className:"px-4 -mt-6 mb-3",children:l.jsxs("div",{className:"rounded-lg p-3 shadow-lg",style:{backgroundColor:j.secondary},children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("span",{className:"text-xs font-semibold",style:{color:I.secondary},children:"Your Progress"})}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("div",{className:"text-2xl font-bold",style:{color:I.secondary},children:"2/3"}),l.jsx("div",{className:"text-xs mb-1",style:{color:I.secondary,opacity:.8},children:"modules completed"})]}),l.jsx("div",{className:"mt-2 rounded-full h-1",style:{backgroundColor:`${I.secondary}33`},children:l.jsx("div",{className:"rounded-full h-1 transition-all",style:{width:"67%",backgroundColor:I.secondary}})})]})}),l.jsxs("div",{className:"px-4 mb-4",children:[l.jsx("h5",{className:"text-xs font-semibold mb-2",style:{color:I.background},children:"Your Learning Program"}),l.jsxs("div",{className:"rounded-lg p-3 border",style:{backgroundColor:j.primary,borderColor:j.primary},children:[l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center flex-shrink-0",style:{backgroundColor:j.secondary},children:l.jsx("span",{className:"text-xs",style:{color:I.secondary},children:""})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h6",{className:"text-xs font-semibold mb-1 line-clamp-1",style:{color:I.primary},children:"The Mentor Match"}),l.jsx("p",{className:"text-xs line-clamp-1 mb-2",style:{color:I.primary,opacity:.8},children:"Learn how to provide constructive feedback"}),l.jsx("div",{className:"flex gap-1 mb-2",children:l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:`${I.primary}33`,color:I.primary},children:"Empathy"})})]})]}),l.jsx("button",{className:"w-full rounded text-xs font-medium py-1.5",style:{backgroundColor:j.secondary,color:I.secondary},children:"Continue Module"})]})]})]})})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:N,className:"btn-primary flex items-center gap-2",children:[l.jsx(gf,{size:18}),"Save Changes"]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-primary/10 rounded-lg",children:l.jsx(Oi,{size:20,className:"text-blue-primary"})}),l.jsx("h3",{className:"text-lg font-semibold text-dark-text",children:"Brand Preview"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-6 rounded-lg border border-dark-border flex items-center justify-center",style:{backgroundColor:j.background},children:e?l.jsx("img",{src:e,alt:"Logo Preview",className:"max-h-16 max-w-full object-contain"}):l.jsx("img",{src:"/DI-Code-Logo.png",alt:"DI Code Logo",className:"max-h-16 max-w-full object-contain"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-dark-text-muted mb-2",children:"Primary"}),l.jsx("div",{className:"h-8 rounded border border-dark-border",style:{backgroundColor:j.primary}}),l.jsx("p",{className:"text-xs font-mono text-dark-text-muted mt-1",children:j.primary})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-dark-text-muted mb-2",children:"Secondary"}),l.jsx("div",{className:"h-8 rounded border border-dark-border",style:{backgroundColor:j.secondary}}),l.jsx("p",{className:"text-xs font-mono text-dark-text-muted mt-1",children:j.secondary})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-dark-text-muted mb-2",children:"Background"}),l.jsx("div",{className:"h-8 rounded border border-dark-border",style:{backgroundColor:j.background}}),l.jsx("p",{className:"text-xs font-mono text-dark-text-muted mt-1",children:j.background})]})]})]})]}),l.jsxs("div",{className:`${L} bg-blue-primary/5 border-blue-primary/30`,children:[l.jsx("h3",{className:"text-sm font-semibold text-dark-text mb-2",children:"Tips"}),l.jsxs("ul",{className:"text-xs text-dark-text-muted space-y-1",children:[l.jsx("li",{children:" Use high-contrast colors for accessibility"}),l.jsx("li",{children:" Test colors on different backgrounds"}),l.jsx("li",{children:" Ensure text is readable on background"}),l.jsx("li",{children:" Logo should work on light and dark themes"})]})]})]})]})]})},pEe=["Technology","Healthcare","Finance","Education","Retail","Manufacturing","Professional Services","Other"],gEe=["North America","Europe","Asia Pacific","Latin America","Middle East & Africa"],yEe=[{value:"small",label:"1-50 employees"},{value:"medium",label:"51-200 employees"},{value:"large",label:"201-1000 employees"},{value:"enterprise",label:"1000+ employees"}],vEe=[{id:1,title:"Organization",description:"Identity & admin profile"},{id:2,title:"Departments",description:"Map the teams that matter"},{id:3,title:"Team members",description:"Invite collaborators (optional)"}],xEe=({onComplete:t,userEmail:e,userName:n})=>{const[r,i]=x.useState(1),[a,o]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState({organizationName:"",slug:"",industry:void 0,region:void 0,size:void 0,departments:[],employees:[],adminName:n||"",adminGender:"",adminDateOfBirth:""}),[g,y]=x.useState(""),[b,j]=x.useState({email:"",name:"",department:void 0,role:"employee"}),E=L=>{m({...h,organizationName:L,slug:L.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")})},A=()=>{g.trim()&&!h.departments.includes(g.trim())&&(m({...h,departments:[...h.departments,g.trim()]}),y(""))},T=L=>{m({...h,departments:h.departments.filter(V=>V!==L)})},O=()=>{b.email.trim()&&!h.employees.some(L=>L.email===b.email.trim())&&(m({...h,employees:[...h.employees,{email:b.email.trim(),name:b.name.trim()||b.email.split("@")[0],department:b.department,role:b.role||"employee"}]}),j({email:"",name:"",department:void 0,role:"employee"}))},C=L=>{m({...h,employees:h.employees.filter(V=>V.email!==L)})},U=async()=>{d(null),o(!0);try{await t(h)}catch(L){d(L.message||"Failed to create organization"),o(!1)}},B=h.organizationName.trim().length>0&&h.slug.trim().length>0&&h.adminName.trim().length>0&&h.adminGender!==""&&h.adminDateOfBirth.trim().length>0,$=B&&h.departments.length>0,N=$,k=r===1?"xl:col-span-12":"xl:col-span-8",I=()=>r===1?l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-6 border-b border-dark-border/60 pb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:"Step 01  Organization Profile"}),l.jsx("h2",{className:"mt-3 text-3xl font-semibold text-dark-text",children:"Set the tone for your workspace"}),l.jsx("p",{className:"mt-2 max-w-2xl text-sm text-dark-text-muted",children:"Name your organization, secure its slug, and share the context we use to personalize analytics across the DiCode suite."})]}),l.jsxs("div",{className:"rounded-2xl border border-dark-border/70 bg-dark-bg/70 px-5 py-4 text-right",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-dark-text-muted",children:"Slug preview"}),l.jsxs("p",{className:"mt-1 max-w-[180px] truncate text-sm font-semibold text-dark-text",children:["dicode.com/",h.slug||"your-org"]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"max-w-xl",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Organization Name *"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"text",value:h.organizationName,onChange:L=>E(L.target.value),placeholder:"Acme Corporation",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",autoFocus:!0})})]}),l.jsxs("div",{className:"max-w-xl",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Organization URL"}),l.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:[l.jsx("span",{className:"text-sm text-dark-text-muted",children:"dicode.com/"}),l.jsx("input",{type:"text",value:h.slug,onChange:L=>m({...h,slug:L.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),placeholder:"acme-corp",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none"})]}),l.jsx("p",{className:"mt-2 text-xs text-dark-text-muted",children:"The slug keeps your workspace URL consistent across every DiCode surface."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[l.jsxs("div",{className:"max-w-sm",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(BU,{size:16}),"Industry"]})}),l.jsxs("select",{value:h.industry||"",onChange:L=>m({...h,industry:L.target.value||void 0}),className:"input mt-2 w-full",children:[l.jsx("option",{value:"",children:"Select industry"}),pEe.map(L=>l.jsx("option",{value:L,children:L},L))]})]}),l.jsxs("div",{className:"max-w-sm",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gae,{size:16}),"Region"]})}),l.jsxs("select",{value:h.region||"",onChange:L=>m({...h,region:L.target.value||void 0}),className:"input mt-2 w-full",children:[l.jsx("option",{value:"",children:"Select region"}),gEe.map(L=>l.jsx("option",{value:L,children:L},L))]})]}),l.jsxs("div",{className:"max-w-sm",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ui,{size:16}),"Company Size"]})}),l.jsxs("select",{value:h.size||"",onChange:L=>m({...h,size:L.target.value||void 0}),className:"input mt-2 w-full",children:[l.jsx("option",{value:"",children:"Select company size"}),yEe.map(L=>l.jsx("option",{value:L.value,children:L.label},L.value))]})]})]}),l.jsxs("div",{className:"border-t border-dark-border/60 pt-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"rounded-full bg-primary/10 p-3 text-primary",children:l.jsx(Nu,{size:18})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-dark-text-muted",children:"Admin profile"}),l.jsx("p",{className:"text-base font-semibold text-dark-text",children:"Tell us about you"})]})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3",children:[l.jsxs("div",{className:"max-w-sm",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Full Name *"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"text",value:h.adminName,onChange:L=>m({...h,adminName:L.target.value}),placeholder:"John Doe",className:"w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none"})})]}),l.jsxs("div",{className:"max-w-sm",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Gender *"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsxs("select",{value:h.adminGender,onChange:L=>m({...h,adminGender:L.target.value}),className:"w-full bg-transparent text-dark-text focus:outline-none",children:[l.jsx("option",{value:"",children:"Select gender"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"other",children:"Other"}),l.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})})]}),l.jsxs("div",{className:"max-w-sm",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Date of Birth *"}),l.jsx("div",{className:"mt-2 rounded-2xl border border-dark-border/70 bg-dark-bg/60 px-4 py-3",children:l.jsx("input",{type:"date",value:h.adminDateOfBirth,onChange:L=>m({...h,adminDateOfBirth:L.target.value}),className:"w-full bg-transparent text-dark-text focus:outline-none",max:new Date().toISOString().split("T")[0]})})]})]})]})]}),l.jsx("div",{className:"flex justify-end border-t border-dark-border/70 pt-6",children:l.jsx("button",{type:"button",onClick:()=>i(2),disabled:!B,className:"btn-primary px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:"Continue to departments"})})]}):r===2?l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"border-b border-dark-border/60 pb-6",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:"Step 02  Departments"}),l.jsx("h2",{className:"mt-3 text-3xl font-semibold text-dark-text",children:"Map the teams that drive your programs"}),l.jsx("p",{className:"mt-2 max-w-3xl text-sm text-dark-text-muted",children:"Add the departments you report on today. You can always extend or reorder them laterwe just need at least one to anchor dashboards."})]}),l.jsxs("div",{className:"space-y-4 rounded-2xl border border-dark-border/70 bg-dark-bg/60 p-6",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Add Departments *"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Keep names short and clear. Press enter to add multiple in a row."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"text",value:g,onChange:L=>y(L.target.value),onKeyPress:L=>L.key==="Enter"&&A(),placeholder:"e.g., Growth Marketing, Sales Enablement",className:"input flex-1"}),l.jsx("button",{type:"button",onClick:A,className:"btn-secondary px-5",children:"Add"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border-t border-dark-border/70 pt-6",children:[l.jsx("button",{type:"button",onClick:()=>i(1),className:"btn-secondary px-6",disabled:a,children:"Back to organization"}),l.jsx("button",{type:"button",onClick:()=>i(3),disabled:!$,className:"btn-primary px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:"Continue to team"})]})]}):l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"border-b border-dark-border/60 pb-6",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:"Step 03  Team Members"}),l.jsx("h2",{className:"mt-3 text-3xl font-semibold text-dark-text",children:"Draft optional invites"}),l.jsx("p",{className:"mt-2 max-w-3xl text-sm text-dark-text-muted",children:"Invite your core collaborators now or skip this step for later. We'll stage the invites so you can send them once organization setup completes."})]}),l.jsxs("div",{className:"space-y-4 rounded-2xl border border-dark-border/70 bg-dark-bg/60 p-6",children:[l.jsx("label",{className:"text-sm font-semibold text-dark-text",children:"Add Team Members (Optional)"}),l.jsx("p",{className:"text-xs text-dark-text-muted",children:"Include at least an email. We'll prefill missing names from the address automatically."}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsx("input",{type:"email",value:b.email,onChange:L=>j({...b,email:L.target.value}),placeholder:"email@company.com",className:"input w-full"}),l.jsx("input",{type:"text",value:b.name,onChange:L=>j({...b,name:L.target.value}),placeholder:"Full name (optional)",className:"input w-full"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("select",{value:b.role||"employee",onChange:L=>j({...b,role:L.target.value}),className:"input w-full",children:[l.jsx("option",{value:"employee",children:"Employee"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsxs("select",{value:b.department||"",onChange:L=>j({...b,department:L.target.value||void 0}),className:"input w-full",children:[l.jsx("option",{value:"",children:"Select department (optional)"}),h.departments.map(L=>l.jsx("option",{value:L,children:L},L))]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"button",onClick:O,disabled:!b.email.trim(),className:"btn-secondary flex items-center gap-2 px-5",children:[l.jsx(sx,{size:18}),"Add to queue"]})})]}),l.jsxs("div",{className:"flex items-center justify-between border-t border-dark-border/70 pt-6",children:[l.jsx("button",{type:"button",onClick:()=>i(2),className:"btn-secondary px-6",disabled:a,children:"Back to departments"}),l.jsx("button",{type:"button",onClick:U,disabled:!N||a,className:"btn-primary px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:a?"Creating...":"Complete setup"})]})]});return l.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-dark-bg",children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[l.jsx("div",{className:"absolute -top-32 right-0 h-[420px] w-[420px] rounded-full bg-primary/10 blur-[180px]"}),l.jsx("div",{className:"absolute top-40 -left-10 h-[360px] w-[360px] rounded-full bg-blue-primary/10 blur-[200px]"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-6xl px-8 py-12",children:[l.jsxs("header",{className:"rounded-[32px] p-10",children:[l.jsx("div",{className:"flex flex-wrap items-start justify-between gap-6",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:"DiCode Control Room"}),l.jsx("h1",{className:"mt-4 text-4xl font-semibold text-dark-text",children:"Launch your organization workspace"}),l.jsx("p",{className:"mt-3 max-w-3xl text-sm text-dark-text-muted",children:"Follow the guided flow to set up DiCode for your company. Everything here is optimized for desktop so you can work with as much screen real estate as you need."})]})}),l.jsx("div",{className:"mt-8 flex flex-col gap-3",children:l.jsx("div",{className:"flex items-center gap-4",children:vEe.map((L,V)=>l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:`h-1.5 rounded-full ${V+1<=r?"bg-primary":"bg-dark-border/60"}`})},L.id))})})]}),u&&l.jsx("div",{className:"mt-8 rounded-2xl border border-red-500/30 bg-red-500/10 p-4 text-sm text-red-300",children:u}),l.jsxs("div",{className:"mt-12 grid gap-8 xl:grid-cols-12",children:[l.jsx("section",{className:k,children:l.jsx("div",{className:"rounded-[28px] border border-dark-border/70 bg-dark-card/80 p-8 shadow-[0_15px_60px_rgba(0,0,0,0.35)]",children:I()})}),r>1&&l.jsx("aside",{className:"xl:col-span-4",children:l.jsxs("div",{className:"space-y-6 rounded-3xl border border-dark-border/70 bg-dark-card/70 p-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:"Departments added"}),l.jsxs("span",{className:"text-xs text-dark-text-muted",children:[h.departments.length," total"]})]}),h.departments.length>0?l.jsx("div",{className:"mt-4 space-y-2",children:h.departments.map((L,V)=>l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-dark-border/60 bg-dark-bg/40 px-4 py-3",children:[l.jsx("span",{className:"text-[11px] font-semibold text-dark-text-muted",children:String(V+1).padStart(2,"0")}),l.jsx("span",{className:"truncate text-sm font-semibold text-dark-text flex-1",children:L}),l.jsx("button",{type:"button",onClick:()=>T(L),className:"rounded-full p-1 text-dark-text-muted transition-colors hover:bg-red-500/10 hover:text-red-400",children:l.jsx(hn,{size:14})})]},L))}):l.jsx("p",{className:"mt-3 text-xs text-dark-text-muted",children:"Add departments to populate this list."})]}),l.jsxs("div",{className:"border-t border-dark-border/60 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:"Team members"}),l.jsxs("span",{className:"text-xs text-dark-text-muted",children:[h.employees.length," queued"]})]}),h.employees.length>0?l.jsx("div",{className:"custom-scrollbar mt-4 max-h-60 space-y-3 overflow-y-auto pr-1",children:h.employees.map(L=>l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-dark-border/60 bg-dark-bg/40 px-3 py-3",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary",children:l.jsx(Eu,{size:14})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-dark-text",children:L.name}),l.jsx("p",{className:"truncate text-xs text-dark-text-muted",children:L.email})]}),l.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-[10px] uppercase tracking-[0.3em] ${L.role==="admin"?"bg-purple-500/20 text-purple-200":"bg-blue-500/20 text-blue-200"}`,children:L.role||"employee"}),l.jsx("button",{type:"button",onClick:()=>C(L.email),className:"ml-2 rounded-full p-1.5 text-dark-text-muted transition-colors hover:bg-red-500/10 hover:text-red-400",children:l.jsx(hn,{size:14})})]},L.email))}):l.jsx("p",{className:"mt-3 text-xs text-dark-text-muted",children:"Invite your collaborators to see them here."})]})]})})]}),l.jsxs("div",{className:"mt-12 text-center text-xs text-dark-text-muted",children:["Setting up as ",l.jsx("span",{className:"text-dark-text font-semibold",children:n||"Admin"}),l.jsx("span",{className:"mx-2 text-dark-text-muted",children:""}),l.jsx("span",{children:e})]})]})]})},bEe=()=>{const{user:t,refreshUser:e}=Ar(),n=Vi();if(!t)return n("/login"),null;const r=async i=>{try{const a=await AU({name:i.organizationName,slug:i.slug,industry:i.industry,region:i.region,size:i.size,departments:i.departments,adminIds:[t.id],createdBy:t.id});await Uf(t.id,{role:"admin",name:i.adminName.trim(),organization:a,department:i.departments.length>0?i.departments[0]:null,gender:i.adminGender||null,dateOfBirth:new Date(i.adminDateOfBirth),onboardingCompletedAt:new Date}),i.employees.length>0&&(console.log(`[AdminOnboarding] Creating ${i.employees.length} invitation(s)...`),await Promise.all(i.employees.map(o=>I0({organizationId:a,organizationName:i.organizationName,email:o.email,role:o.role||"employee",department:o.department,invitedBy:t.id,inviteeName:o.name}))),console.log("[AdminOnboarding] Invitations created successfully")),await e(),n("/admin/overview")}catch(a){throw console.error("Failed to create organization:",a),a}};return l.jsx(xEe,{onComplete:r,userEmail:t.email,userName:t.name})},Ss=[{id:"remote_work_comfort",question:"I feel comfortable working remotely and have the tools I need to succeed.",type:"scale",minLabel:"Strongly disagree",maxLabel:"Strongly agree"},{id:"training_adequacy",question:"I have received adequate training to perform my job effectively.",type:"scale",minLabel:"Strongly disagree",maxLabel:"Strongly agree"},{id:"tools_access",question:"I have access to all the tools and resources I need to do my job.",type:"scale",minLabel:"Strongly disagree",maxLabel:"Strongly agree"},{id:"hybrid_model_satisfaction",question:"I am satisfied with the current hybrid work model.",type:"scale",minLabel:"Strongly disagree",maxLabel:"Strongly agree"},{id:"team_support",question:"I feel supported by my team and management.",type:"scale",minLabel:"Strongly disagree",maxLabel:"Strongly agree"}],D5=[{id:1,title:"Profile",description:"Complete your profile"},{id:2,title:"Privacy",description:"Privacy & confidentiality"},{id:3,title:"Assessment",description:"Initial assessment"}];function wEe(){const{user:t,refreshUser:e}=Ar(),n=Vi(),[r,i]=x.useState(1),[a,o]=x.useState(0),[u,d]=x.useState(!1),[h,m]=x.useState(""),[g,y]=x.useState({name:t?.name||"",gender:"",dateOfBirth:""}),[b,j]=x.useState({});x.useEffect(()=>{(async()=>{if(t?.organization)try{const k=await Bf(t.organization);k&&m(k.name)}catch(k){console.error("Error fetching organization:",k)}})()},[t?.organization]);const E=(N,k)=>{y(I=>({...I,[N]:k}))},A=()=>g.name.trim()!==""&&g.gender!==""&&g.dateOfBirth!=="",T=(N,k)=>{j(I=>({...I,[N]:k}))},O=()=>{r===3&&a<Ss.length-1&&o(a+1)},C=()=>{r===3&&a>0?o(a-1):r>1&&(i(r-1),r===3&&o(0))},U=async()=>{if(t?.id){d(!0);try{await aU(an(qe,"assessmentResponses",t.id),{userId:t.id,responses:b,completedAt:new Date().toISOString()}),await hs(an(qe,"users",t.id),{name:g.name,gender:g.gender,dateOfBirth:g.dateOfBirth,onboardingCompletedAt:new Date().toISOString()}),await e(),n("/",{replace:!0})}catch(N){console.error("Error completing onboarding:",N),d(!1)}}},B=()=>new Date().toISOString().split("T")[0],$=()=>r===1?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-2xl border border-dark-border/70 bg-dark-bg/60 overflow-hidden divide-y divide-dark-border/70",children:[l.jsxs("div",{className:"px-4 py-4",children:[l.jsx("label",{className:"text-xs font-semibold text-dark-text-muted uppercase tracking-wider",children:"Full Name *"}),l.jsx("input",{type:"text",value:g.name,onChange:N=>E("name",N.target.value),placeholder:"Enter your full name",className:"mt-2 w-full bg-transparent text-dark-text placeholder:text-dark-text-muted focus:outline-none",autoFocus:!0})]}),l.jsxs("div",{className:"px-4 py-4",children:[l.jsx("label",{className:"text-xs font-semibold text-dark-text-muted uppercase tracking-wider",children:"Date of Birth *"}),l.jsx("input",{type:"date",value:g.dateOfBirth,onChange:N=>E("dateOfBirth",N.target.value),max:B(),className:"mt-2 w-full bg-transparent text-dark-text focus:outline-none"})]}),l.jsxs("div",{className:"px-4 py-4",children:[l.jsx("label",{className:"text-xs font-semibold text-dark-text-muted uppercase tracking-wider",children:"Gender *"}),l.jsxs("select",{value:g.gender,onChange:N=>E("gender",N.target.value),className:"mt-2 w-full bg-transparent text-dark-text focus:outline-none",children:[l.jsx("option",{value:"",children:"Select gender"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"non-binary",children:"Non-binary"}),l.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),(t?.role||h||t?.department)&&l.jsx("div",{className:"rounded-2xl bg-dark-bg/60 p-6",children:l.jsxs("p",{className:"text-sm text-dark-text-muted",children:["You are joining as"," ",t?.role&&l.jsx("span",{className:"text-dark-text font-semibold",children:t.role}),h&&l.jsxs(l.Fragment,{children:[" ","at"," ",l.jsx("span",{className:"text-dark-text font-semibold",children:h})]}),t?.department&&l.jsxs(l.Fragment,{children:[" ","in the"," ",l.jsx("span",{className:"text-dark-text font-semibold",children:t.department})," ","department"]}),"."]})})]}):r===2?l.jsx("div",{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-2xl border border-primary/30 bg-primary/10 p-6",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-primary",children:"How your data is used"}),l.jsxs("ul",{className:"mt-4 space-y-3 text-sm text-dark-text",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"mt-0.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),l.jsx("span",{children:"Your individual responses will remain confidential"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"mt-0.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),l.jsx("span",{children:"Data will be analyzed in aggregate to identify trends and patterns"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"mt-0.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),l.jsx("span",{children:"Results will inform organizational decisions and improvements"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"mt-0.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}),l.jsx("span",{children:"Your personal information is protected and secure"})]})]})]}),l.jsx("div",{className:"rounded-2xl border border-dark-border/70 bg-dark-bg/60 p-6",children:l.jsxs("p",{className:"text-sm text-dark-text-muted",children:["If you have any questions or concerns about this assessment, please contact:"," ",l.jsx("a",{href:"mailto:assessment-ethics@beiersdorf.com",className:"font-semibold text-primary hover:underline",children:"assessment-ethics@beiersdorf.com"})]})})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-center gap-3",children:Ss.map((N,k)=>{const I=b[N.id]!==void 0,L=k===a;return l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${I?"bg-primary text-dark-bg":L?"border-2 border-primary text-primary bg-dark-bg/60":"border-2 border-dark-border/60 text-dark-text-muted bg-dark-bg/60"}`,children:I?l.jsx(di,{size:20}):l.jsx("span",{children:k+1})},k)})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"text-xl text-dark-text leading-relaxed",children:Ss[a].question}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex border border-dark-border/70 rounded-full overflow-hidden bg-dark-bg/60",children:[1,2,3,4,5].map((N,k)=>l.jsx("button",{onClick:()=>T(Ss[a].id,N),className:`flex-1 py-3 text-xl font-semibold transition-all relative ${b[Ss[a].id]===N?"bg-primary/20 text-primary":"text-dark-text hover:bg-primary/10"} ${k!==4?"border-r border-dark-border/70":""}`,children:N},N))}),l.jsxs("div",{className:"grid grid-cols-5 text-xs uppercase tracking-[0.3em] text-dark-text-muted",children:[l.jsx("span",{className:"text-left",children:Ss[a].minLabel}),l.jsx("span",{className:"col-span-3"}),l.jsx("span",{className:"text-right",children:Ss[a].maxLabel})]})]})]})]});return l.jsxs("div",{className:"relative min-h-screen bg-dark-bg flex flex-col",children:[l.jsxs("div",{className:"mx-auto max-w-5xl px-8 py-6 flex-1 flex flex-col",children:[l.jsxs("header",{className:"rounded-[32px] p-6",children:[l.jsx("div",{className:"flex flex-wrap items-start justify-between gap-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[r>1&&l.jsx("button",{onClick:C,className:"text-dark-text hover:text-primary transition-colors",disabled:u,children:l.jsx(FU,{size:32})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs uppercase tracking-[0.4em] text-dark-text-muted",children:["Onboarding step ",r]}),l.jsx("h1",{className:"mt-4 text-4xl font-semibold text-dark-text",children:D5[r-1].description})]})]})}),l.jsx("div",{className:"mt-8 flex items-center gap-4",children:D5.map((N,k)=>l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:`h-1.5 rounded-full transition-all ${r===3?"bg-dark-border/30":k+1<=r?"bg-primary":"bg-dark-border/60"}`})},N.id))})]}),l.jsx("div",{className:"mt-6 flex-1",children:l.jsx("div",{className:"p-6",children:$()})}),l.jsx("div",{className:"w-full py-6 bg-dark-bg",children:l.jsxs("div",{className:"mx-auto max-w-5xl px-8",children:[r===1&&l.jsx("button",{onClick:()=>i(2),disabled:!A(),className:"btn-primary w-full px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:"Continue"}),r===2&&l.jsx("button",{onClick:()=>i(3),className:"btn-primary w-full px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:"Continue"}),r===3&&l.jsx(l.Fragment,{children:a<Ss.length-1?l.jsx("button",{onClick:O,disabled:!b[Ss[a].id],className:"btn-primary w-full px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:"Continue"}):l.jsx("button",{onClick:U,disabled:!b[Ss[a].id]||u,className:"btn-primary w-full px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em]",children:u?"Completing...":"Complete setup"})})]})})]}),l.jsx("div",{className:"w-full py-4 text-center text-xs text-dark-text-muted bg-dark-bg",children:l.jsxs("div",{className:"mx-auto max-w-5xl px-8",children:["Onboarding as ",l.jsx("span",{className:"text-dark-text font-semibold",children:t?.name||"Employee"}),l.jsx("span",{className:"mx-2 text-dark-text-muted",children:""}),l.jsx("span",{children:t?.email})]})})]})}const zk=x.createContext({});function Uk(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bk=typeof window<"u",a7=Bk?x.useLayoutEffect:x.useEffect,Ib=x.createContext(null);function $k(t,e){t.indexOf(e)===-1&&t.push(e)}function Fk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $o=(t,e,n)=>n>e?e:n<t?t:n;let qk=()=>{};const Fo={},s7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function o7(t){return typeof t=="object"&&t!==null}const l7=t=>/^0[^.\s]+$/u.test(t);function Hk(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ia=t=>t,_Ee=(t,e)=>n=>e(t(n)),og=(...t)=>t.reduce(_Ee),gp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Kk{constructor(){this.subscriptions=[]}add(e){return $k(this.subscriptions,e),()=>Fk(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Us=t=>t*1e3,Pa=t=>t/1e3;function c7(t,e){return e?t*(1e3/e):0}const u7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jEe=1e-7,EEe=12;function AEe(t,e,n,r,i){let a,o,u=0;do o=e+(n-e)/2,a=u7(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>jEe&&++u<EEe);return o}function lg(t,e,n,r){if(t===e&&n===r)return Ia;const i=a=>AEe(a,0,1,t,n);return a=>a===0||a===1?a:u7(i(a),e,r)}const d7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,f7=t=>e=>1-t(1-e),h7=lg(.33,1.53,.69,.99),Gk=f7(h7),m7=d7(Gk),p7=t=>(t*=2)<1?.5*Gk(t):.5*(2-Math.pow(2,-10*(t-1))),Wk=t=>1-Math.sin(Math.acos(t)),g7=f7(Wk),y7=d7(Wk),NEe=lg(.42,0,1,1),SEe=lg(0,0,.58,1),v7=lg(.42,0,.58,1),TEe=t=>Array.isArray(t)&&typeof t[0]!="number",x7=t=>Array.isArray(t)&&typeof t[0]=="number",kEe={linear:Ia,easeIn:NEe,easeInOut:v7,easeOut:SEe,circIn:Wk,circInOut:y7,circOut:g7,backIn:Gk,backInOut:m7,backOut:h7,anticipate:p7},CEe=t=>typeof t=="string",M5=t=>{if(x7(t)){qk(t.length===4);const[e,n,r,i]=t;return lg(e,n,r,i)}else if(CEe(t))return kEe[t];return t},nv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PEe(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(u)}const h={schedule:(m,g=!1,y=!1)=>{const j=y&&i?n:r;return g&&o.add(m),j.has(m)||j.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(u=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const IEe=40;function b7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=nv.reduce((C,U)=>(C[U]=PEe(a),C),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:m,update:g,preRender:y,render:b,postRender:j}=o,E=()=>{const C=Fo.useManualTiming?i.timestamp:performance.now();n=!1,Fo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,IEe),1)),i.timestamp=C,i.isProcessing=!0,u.process(i),d.process(i),h.process(i),m.process(i),g.process(i),y.process(i),b.process(i),j.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},A=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:nv.reduce((C,U)=>{const B=o[U];return C[U]=($,N=!1,k=!1)=>(n||A(),B.schedule($,N,k)),C},{}),cancel:C=>{for(let U=0;U<nv.length;U++)o[nv[U]].cancel(C)},state:i,steps:o}}const{schedule:En,cancel:cc,state:zr,steps:Dj}=b7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ia,!0);let jv;function OEe(){jv=void 0}const Di={now:()=>(jv===void 0&&Di.set(zr.isProcessing||Fo.useManualTiming?zr.timestamp:performance.now()),jv),set:t=>{jv=t,queueMicrotask(OEe)}},w7=t=>e=>typeof e=="string"&&e.startsWith(t),Yk=w7("--"),REe=w7("var(--"),Qk=t=>REe(t)?DEe.test(t.split("/*")[0].trim()):!1,DEe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ah={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yp={...ah,transform:t=>$o(0,1,t)},rv={...ah,default:1},zm=t=>Math.round(t*1e5)/1e5,Xk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MEe(t){return t==null}const LEe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zk=(t,e)=>n=>!!(typeof n=="string"&&LEe.test(n)&&n.startsWith(t)||e&&!MEe(n)&&Object.prototype.hasOwnProperty.call(n,e)),_7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,u]=r.match(Xk);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},VEe=t=>$o(0,255,t),Mj={...ah,transform:t=>Math.round(VEe(t))},uu={test:Zk("rgb","red"),parse:_7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mj.transform(t)+", "+Mj.transform(e)+", "+Mj.transform(n)+", "+zm(yp.transform(r))+")"};function zEe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const RA={test:Zk("#"),parse:zEe,transform:uu.transform},cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Il=cg("deg"),Bs=cg("%"),ct=cg("px"),UEe=cg("vh"),BEe=cg("vw"),L5={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},$d={test:Zk("hsl","hue"),parse:_7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(zm(e))+", "+Bs.transform(zm(n))+", "+zm(yp.transform(r))+")"},tr={test:t=>uu.test(t)||RA.test(t)||$d.test(t),parse:t=>uu.test(t)?uu.parse(t):$d.test(t)?$d.parse(t):RA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uu.transform(t):$d.transform(t),getAnimatableNone:t=>{const e=tr.parse(t);return e.alpha=0,tr.transform(e)}},$Ee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FEe(t){return isNaN(t)&&typeof t=="string"&&(t.match(Xk)?.length||0)+(t.match($Ee)?.length||0)>0}const j7="number",E7="color",qEe="var",HEe="var(",V5="${}",KEe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(KEe,d=>(tr.test(d)?(r.color.push(a),i.push(E7),n.push(tr.parse(d))):d.startsWith(HEe)?(r.var.push(a),i.push(qEe),n.push(d)):(r.number.push(a),i.push(j7),n.push(parseFloat(d))),++a,V5)).split(V5);return{values:n,split:u,indexes:r,types:i}}function A7(t){return vp(t).values}function N7(t){const{split:e,types:n}=vp(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const u=n[o];u===j7?a+=zm(i[o]):u===E7?a+=tr.transform(i[o]):a+=i[o]}return a}}const GEe=t=>typeof t=="number"?0:tr.test(t)?tr.getAnimatableNone(t):t;function WEe(t){const e=A7(t);return N7(t)(e.map(GEe))}const uc={test:FEe,parse:A7,createTransformer:N7,getAnimatableNone:WEe};function Lj(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YEe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;i=Lj(d,u,t+1/3),a=Lj(d,u,t),o=Lj(d,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Qx(t,e){return n=>n>0?e:t}const kn=(t,e,n)=>t+(e-t)*n,Vj=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},QEe=[RA,uu,$d],XEe=t=>QEe.find(e=>e.test(t));function z5(t){const e=XEe(t);if(!e)return!1;let n=e.parse(t);return e===$d&&(n=YEe(n)),n}const U5=(t,e)=>{const n=z5(t),r=z5(e);if(!n||!r)return Qx(t,e);const i={...n};return a=>(i.red=Vj(n.red,r.red,a),i.green=Vj(n.green,r.green,a),i.blue=Vj(n.blue,r.blue,a),i.alpha=kn(n.alpha,r.alpha,a),uu.transform(i))},DA=new Set(["none","hidden"]);function ZEe(t,e){return DA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function JEe(t,e){return n=>kn(t,e,n)}function Jk(t){return typeof t=="number"?JEe:typeof t=="string"?Qk(t)?Qx:tr.test(t)?U5:nAe:Array.isArray(t)?S7:typeof t=="object"?tr.test(t)?U5:eAe:Qx}function S7(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>Jk(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function eAe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jk(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function tAe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],u=t.values[o]??0;n[i]=u,r[a]++}return n}const nAe=(t,e)=>{const n=uc.createTransformer(e),r=vp(t),i=vp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?DA.has(t)&&!i.values.length||DA.has(e)&&!r.values.length?ZEe(t,e):og(S7(tAe(r,i),i.values),n):Qx(t,e)};function T7(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kn(t,e,n):Jk(t)(t,e)}const rAe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>En.update(e,n),stop:()=>cc(e),now:()=>zr.isProcessing?zr.timestamp:Di.now()}},k7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xx=2e4;function e2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xx;)e+=n,r=t.next(e);return e>=Xx?1/0:e}function iAe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(e2(r),Xx);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Pa(i)}}const aAe=5;function C7(t,e,n){const r=Math.max(e-aAe,0);return c7(n-t(r),e-r)}const Vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zj=.001;function sAe({duration:t=Vn.duration,bounce:e=Vn.bounce,velocity:n=Vn.velocity,mass:r=Vn.mass}){let i,a,o=1-e;o=$o(Vn.minDamping,Vn.maxDamping,o),t=$o(Vn.minDuration,Vn.maxDuration,Pa(t)),o<1?(i=h=>{const m=h*o,g=m*t,y=m-n,b=MA(h,o),j=Math.exp(-g);return zj-y/b*j},a=h=>{const g=h*o*t,y=g*n+n,b=Math.pow(o,2)*Math.pow(h,2)*t,j=Math.exp(-g),E=MA(Math.pow(h,2),o);return(-i(h)+zj>0?-1:1)*((y-b)*j)/E}):(i=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-zj+m*g},a=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const u=5/t,d=lAe(i,a,u);if(t=Us(t),isNaN(d))return{stiffness:Vn.stiffness,damping:Vn.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const oAe=12;function lAe(t,e,n){let r=n;for(let i=1;i<oAe;i++)r=r-t(r)/e(r);return r}function MA(t,e){return t*Math.sqrt(1-e*e)}const cAe=["duration","bounce"],uAe=["stiffness","damping","mass"];function B5(t,e){return e.some(n=>t[n]!==void 0)}function dAe(t){let e={velocity:Vn.velocity,stiffness:Vn.stiffness,damping:Vn.damping,mass:Vn.mass,isResolvedFromDuration:!1,...t};if(!B5(t,uAe)&&B5(t,cAe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*$o(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Vn.mass,stiffness:i,damping:a}}else{const n=sAe(t);e={...e,...n,mass:Vn.mass},e.isResolvedFromDuration=!0}return e}function Zx(t=Vn.visualDuration,e=Vn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=dAe({...n,velocity:-Pa(n.velocity||0)}),j=y||0,E=h/(2*Math.sqrt(d*m)),A=o-a,T=Pa(Math.sqrt(d/m)),O=Math.abs(A)<5;r||(r=O?Vn.restSpeed.granular:Vn.restSpeed.default),i||(i=O?Vn.restDelta.granular:Vn.restDelta.default);let C;if(E<1){const B=MA(T,E);C=$=>{const N=Math.exp(-E*T*$);return o-N*((j+E*T*A)/B*Math.sin(B*$)+A*Math.cos(B*$))}}else if(E===1)C=B=>o-Math.exp(-T*B)*(A+(j+T*A)*B);else{const B=T*Math.sqrt(E*E-1);C=$=>{const N=Math.exp(-E*T*$),k=Math.min(B*$,300);return o-N*((j+E*T*A)*Math.sinh(k)+B*A*Math.cosh(k))/B}}const U={calculatedDuration:b&&g||null,next:B=>{const $=C(B);if(b)u.done=B>=g;else{let N=B===0?j:0;E<1&&(N=B===0?Us(j):C7(C,B,$));const k=Math.abs(N)<=r,I=Math.abs(o-$)<=i;u.done=k&&I}return u.value=u.done?o:$,u},toString:()=>{const B=Math.min(e2(U),Xx),$=k7(N=>U.next(B*N).value,B,30);return B+"ms "+$},toTransition:()=>{}};return U}Zx.applyToOptions=t=>{const e=iAe(t,100,Zx);return t.ease=e.ease,t.duration=Us(e.duration),t.type="keyframes",t};function LA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:d,restDelta:h=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},b=k=>u!==void 0&&k<u||d!==void 0&&k>d,j=k=>u===void 0?d:d===void 0||Math.abs(u-k)<Math.abs(d-k)?u:d;let E=n*e;const A=g+E,T=o===void 0?A:o(A);T!==A&&(E=T-g);const O=k=>-E*Math.exp(-k/r),C=k=>T+O(k),U=k=>{const I=O(k),L=C(k);y.done=Math.abs(I)<=h,y.value=y.done?T:L};let B,$;const N=k=>{b(y.value)&&(B=k,$=Zx({keyframes:[y.value,j(y.value)],velocity:C7(C,k,y.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return N(0),{calculatedDuration:null,next:k=>{let I=!1;return!$&&B===void 0&&(I=!0,U(k),N(k)),B!==void 0&&k>=B?$.next(k-B):(!I&&U(k),y)}}}function fAe(t,e,n){const r=[],i=n||Fo.mix||T7,a=t.length-1;for(let o=0;o<a;o++){let u=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Ia:e;u=og(d,u)}r.push(u)}return r}function hAe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(qk(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=fAe(e,r,i),d=u.length,h=m=>{if(o&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=gp(t[g],t[g+1],m);return u[g](y)};return n?m=>h($o(t[0],t[a-1],m)):h}function mAe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gp(0,e,r);t.push(kn(n,1,i))}}function pAe(t){const e=[0];return mAe(e,t.length-1),e}function gAe(t,e){return t.map(n=>n*e)}function yAe(t,e){return t.map(()=>e||v7).splice(0,t.length-1)}function Um({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TEe(r)?r.map(M5):M5(r),a={done:!1,value:e[0]},o=gAe(n&&n.length===e.length?n:pAe(e),t),u=hAe(o,e,{ease:Array.isArray(i)?i:yAe(e,i)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const vAe=t=>t!==null;function t2(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(vAe),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const xAe={decay:LA,inertia:LA,tween:Um,keyframes:Um,spring:Zx};function P7(t){typeof t.type=="string"&&(t.type=xAe[t.type])}class n2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bAe=t=>t/100;class r2 extends n2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;P7(e);const{type:n=Um,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:u}=e;const d=n||Um;d!==Um&&typeof u[0]!="number"&&(this.mixKeyframes=og(bAe,T7(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=e2(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:j,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-h*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,U=r;if(g){const k=Math.min(this.currentTime,i)/u;let I=Math.floor(k),L=k%1;!L&&k>=1&&(L=1),L===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(y==="reverse"?(L=1-L,b&&(L-=b/u)):y==="mirror"&&(U=o)),C=$o(0,1,L)*u}const B=O?{done:!1,value:m[0]}:U.next(C);a&&(B.value=a(B.value));let{done:$}=B;!O&&d!==null&&($=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return N&&j!==LA&&(B.value=t2(m,this.options,A,this.speed)),E&&E(B.value),N&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Pa(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pa(e)}get time(){return Pa(this.currentTime)}set time(e){e=Us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Di.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pa(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=rAe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function wAe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const du=t=>t*180/Math.PI,VA=t=>{const e=du(Math.atan2(t[1],t[0]));return zA(e)},_Ae={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:VA,rotateZ:VA,skewX:t=>du(Math.atan(t[1])),skewY:t=>du(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zA=t=>(t=t%360,t<0&&(t+=360),t),$5=VA,F5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),q5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),jAe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:F5,scaleY:q5,scale:t=>(F5(t)+q5(t))/2,rotateX:t=>zA(du(Math.atan2(t[6],t[5]))),rotateY:t=>zA(du(Math.atan2(-t[2],t[0]))),rotateZ:$5,rotate:$5,skewX:t=>du(Math.atan(t[4])),skewY:t=>du(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function UA(t){return t.includes("scale")?1:0}function BA(t,e){if(!t||t==="none")return UA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=jAe,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_Ae,i=u}if(!i)return UA(e);const a=r[e],o=i[1].split(",").map(AAe);return typeof a=="function"?a(o):o[a]}const EAe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return BA(n,e)};function AAe(t){return parseFloat(t.trim())}const sh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oh=new Set(sh),H5=t=>t===ah||t===ct,NAe=new Set(["x","y","z"]),SAe=sh.filter(t=>!NAe.has(t));function TAe(t){const e=[];return SAe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>BA(e,"x"),y:(t,{transform:e})=>BA(e,"y")};yu.translateX=yu.x;yu.translateY=yu.y;const vu=new Set;let $A=!1,FA=!1,qA=!1;function I7(){if(FA){const t=Array.from(vu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=TAe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}FA=!1,$A=!1,vu.forEach(t=>t.complete(qA)),vu.clear()}function O7(){vu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(FA=!0)})}function kAe(){qA=!0,O7(),I7(),qA=!1}class i2{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vu.add(this),$A||($A=!0,En.read(O7),En.resolveKeyframes(I7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}wAe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vu.delete(this)}cancel(){this.state==="scheduled"&&(vu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CAe=t=>t.startsWith("--");function PAe(t,e,n){CAe(e)?t.style.setProperty(e,n):t.style[e]=n}const IAe=Hk(()=>window.ScrollTimeline!==void 0),OAe={};function RAe(t,e){const n=Hk(t);return()=>OAe[e]??n()}const R7=RAe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),km=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,K5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:km([0,.65,.55,1]),circOut:km([.55,0,1,.45]),backIn:km([.31,.01,.66,-.59]),backOut:km([.33,1.53,.69,.99])};function D7(t,e){if(t)return typeof t=="function"?R7()?k7(t,e):"ease-out":x7(t)?km(t):Array.isArray(t)?t.map(n=>D7(n,e)||K5.easeOut):K5[t]}function DAe(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const g=D7(u,i);Array.isArray(g)&&(m.easing=g);const y={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(m,y)}function M7(t){return typeof t=="function"&&"applyToOptions"in t}function MAe({type:t,...e}){return M7(t)&&R7()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LAe extends n2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,qk(typeof e.type!="string");const h=MAe(e);this.animation=DAe(n,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=t2(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):PAe(n,r,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Pa(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pa(e)}get time(){return Pa(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&IAe()?(this.animation.timeline=e,Ia):n(this)}}const L7={anticipate:p7,backInOut:m7,circInOut:y7};function VAe(t){return t in L7}function zAe(t){typeof t.ease=="string"&&VAe(t.ease)&&(t.ease=L7[t.ease])}const G5=10;class UAe extends LAe{constructor(e){zAe(e),P7(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new r2({...o,autoplay:!1}),d=Us(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-G5).value,u.sample(d).value,G5),u.stop()}}const W5=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(uc.test(t)||t==="0")&&!t.startsWith("url("));function BAe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $Ae(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=W5(i,e),u=W5(a,e);return!o||!u?!1:BAe(t)||(n==="spring"||M7(n))&&r}function HA(t){t.duration=0,t.type="keyframes"}const FAe=new Set(["opacity","clipPath","filter","transform"]),qAe=Hk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HAe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return qAe()&&n&&FAe.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const KAe=40;class GAe extends n2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:d,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Di.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:m,...g},b=m?.KeyframeResolver||i2;this.keyframeResolver=new b(u,(j,E,A)=>this.onKeyframesResolved(j,E,y,!A),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=Di.now(),$Ae(e,a,o,u)||((Fo.instantAnimations||!d)&&m?.(t2(e,r,n)),e[0]=e[e.length-1],HA(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>KAe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!h&&HAe(y)?new UAe({...y,element:y.motionValue.owner.current}):new r2(y);b.finished.then(()=>this.notifyFinished()).catch(Ia),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kAe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WAe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YAe(t){const e=WAe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function V7(t,e,n=1){const[r,i]=YAe(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return s7(o)?parseFloat(o):o}return Qk(i)?V7(i,e,n+1):i}function a2(t,e){return t?.[e]??t?.default??t}const z7=new Set(["width","height","top","left","right","bottom",...sh]),QAe={test:t=>t==="auto",parse:t=>t},U7=t=>e=>e.test(t),B7=[ah,ct,Bs,Il,BEe,UEe,QAe],Y5=t=>B7.find(U7(t));function XAe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l7(t):!0}const ZAe=new Set(["brightness","contrast","saturate","opacity"]);function JAe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xk)||[];if(!r)return t;const i=n.replace(r,"");let a=ZAe.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const eNe=/\b([a-z-]*)\(.*?\)/gu,KA={...uc,getAnimatableNone:t=>{const e=t.match(eNe);return e?e.map(JAe).join(" "):t}},Q5={...ah,transform:Math.round},tNe={rotate:Il,rotateX:Il,rotateY:Il,rotateZ:Il,scale:rv,scaleX:rv,scaleY:rv,scaleZ:rv,skew:Il,skewX:Il,skewY:Il,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:yp,originX:L5,originY:L5,originZ:ct},s2={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,backgroundPositionX:ct,backgroundPositionY:ct,...tNe,zIndex:Q5,fillOpacity:yp,strokeOpacity:yp,numOctaves:Q5},nNe={...s2,color:tr,backgroundColor:tr,outlineColor:tr,fill:tr,stroke:tr,borderColor:tr,borderTopColor:tr,borderRightColor:tr,borderBottomColor:tr,borderLeftColor:tr,filter:KA,WebkitFilter:KA},$7=t=>nNe[t];function F7(t,e){let n=$7(t);return n!==KA&&(n=uc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rNe=new Set(["auto","none","0"]);function iNe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!rNe.has(a)&&vp(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=F7(n,i)}class aNe extends i2{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Qk(h))){const m=V7(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!z7.has(r)||e.length!==2)return;const[i,a]=e,o=Y5(i),u=Y5(a);if(o!==u)if(H5(o)&&H5(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else yu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||XAe(e[i]))&&r.push(i);r.length&&iNe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=yu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function sNe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const q7=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function H7(t){return o7(t)&&"offsetHeight"in t}const X5=30,oNe=t=>!isNaN(parseFloat(t));class lNe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Di.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oNe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kk);const r=this.events[e].add(n);return e==="change"?()=>{r(),En.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X5)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,X5);return c7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nf(t,e){return new lNe(t,e)}const{schedule:o2}=b7(queueMicrotask,!1),es={x:!1,y:!1};function K7(){return es.x||es.y}function cNe(t){return t==="x"||t==="y"?es[t]?null:(es[t]=!0,()=>{es[t]=!1}):es.x||es.y?null:(es.x=es.y=!0,()=>{es.x=es.y=!1})}function G7(t,e){const n=sNe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Z5(t){return!(t.pointerType==="touch"||K7())}function uNe(t,e,n={}){const[r,i,a]=G7(t,n),o=u=>{if(!Z5(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const m=g=>{Z5(g)&&(h(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(u=>{u.addEventListener("pointerenter",o,i)}),a}const W7=(t,e)=>e?t===e?!0:W7(t,e.parentElement):!1,l2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fNe(t){return dNe.has(t.tagName)||t.tabIndex!==-1}const Ev=new WeakSet;function J5(t){return e=>{e.key==="Enter"&&t(e)}}function Uj(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hNe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J5(()=>{if(Ev.has(n))return;Uj(n,"down");const i=J5(()=>{Uj(n,"up")}),a=()=>Uj(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function eL(t){return l2(t)&&!K7()}function mNe(t,e,n={}){const[r,i,a]=G7(t,n),o=u=>{const d=u.currentTarget;if(!eL(u))return;Ev.add(d);const h=e(d,u),m=(b,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Ev.has(d)&&Ev.delete(d),eL(b)&&typeof h=="function"&&h(b,{success:j})},g=b=>{m(b,d===window||d===document||n.useGlobalTarget||W7(d,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,i),H7(u)&&(u.addEventListener("focus",h=>hNe(h,i)),!fNe(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function Y7(t){return o7(t)&&"ownerSVGElement"in t}function pNe(t){return Y7(t)&&t.tagName==="svg"}const Xr=t=>!!(t&&t.getVelocity),gNe=[...B7,tr,uc],yNe=t=>gNe.find(U7(t)),c2=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vNe(...t){return e=>{let n=!1;const r=t.map(i=>{const a=tL(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():tL(t[i],null)}}}}function xNe(...t){return x.useCallback(vNe(...t),t)}class bNe extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=H7(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wNe({children:t,isPresent:e,anchorX:n,root:r}){const i=x.useId(),a=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(c2),d=xNe(a,t?.ref);return x.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:y,right:b}=o.current;if(e||!a.current||!h||!m)return;const j=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");u&&(E.nonce=u);const A=r??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${j}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[e]),l.jsx(bNe,{isPresent:e,childRef:a,sizeRef:o,children:x.cloneElement(t,{ref:d})})}const _Ne=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:u,root:d})=>{const h=Uk(jNe),m=x.useId();let g=!0,y=x.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const j of h.values())if(!j)return;r&&r()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,r]);return a&&g&&(y={...y}),x.useMemo(()=>{h.forEach((b,j)=>h.set(j,!1))},[n]),x.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=l.jsx(wNe,{isPresent:n,anchorX:u,root:d,children:t})),l.jsx(Ib.Provider,{value:y,children:t})};function jNe(){return new Map}function Q7(t=!0){const e=x.useContext(Ib);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=x.useId();x.useEffect(()=>{if(t)return i(a)},[t]);const o=x.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const iv=t=>t.key||"";function nL(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Wc=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:u="left",root:d})=>{const[h,m]=Q7(o),g=x.useMemo(()=>nL(t),[t]),y=o&&!h?[]:g.map(iv),b=x.useRef(!0),j=x.useRef(g),E=Uk(()=>new Map),[A,T]=x.useState(g),[O,C]=x.useState(g);a7(()=>{b.current=!1,j.current=g;for(let $=0;$<O.length;$++){const N=iv(O[$]);y.includes(N)?E.delete(N):E.get(N)!==!0&&E.set(N,!1)}},[O,y.length,y.join("-")]);const U=[];if(g!==A){let $=[...g];for(let N=0;N<O.length;N++){const k=O[N],I=iv(k);y.includes(I)||($.splice(N,0,k),U.push(k))}return a==="wait"&&U.length&&($=U),C(nL($)),T(g),null}const{forceRender:B}=x.useContext(zk);return l.jsx(l.Fragment,{children:O.map($=>{const N=iv($),k=o&&!h?!1:g===O||y.includes(N),I=()=>{if(E.has(N))E.set(N,!0);else return;let L=!0;E.forEach(V=>{V||(L=!1)}),L&&(B?.(),C(j.current),o&&m?.(),r&&r())};return l.jsx(_Ne,{isPresent:k,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:k?void 0:I,anchorX:u,children:$},N)})})},X7=x.createContext({strict:!1}),rL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sf={};for(const t in rL)Sf[t]={isEnabled:e=>rL[t].some(n=>!!e[n])};function ENe(t){for(const e in t)Sf[e]={...Sf[e],...t[e]}}const ANe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ANe.has(t)}let Z7=t=>!Jx(t);function NNe(t){typeof t=="function"&&(Z7=e=>e.startsWith("on")?!Jx(e):t(e))}try{NNe(require("@emotion/is-prop-valid").default)}catch{}function SNe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Z7(i)||n===!0&&Jx(i)||!e&&!Jx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Ob=x.createContext({});function Rb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xp(t){return typeof t=="string"||Array.isArray(t)}const u2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d2=["initial",...u2];function Db(t){return Rb(t.animate)||d2.some(e=>xp(t[e]))}function J7(t){return!!(Db(t)||t.variants)}function TNe(t,e){if(Db(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xp(n)?n:void 0,animate:xp(r)?r:void 0}}return t.inherit!==!1?e:{}}function kNe(t){const{initial:e,animate:n}=TNe(t,x.useContext(Ob));return x.useMemo(()=>({initial:e,animate:n}),[iL(e),iL(n)])}function iL(t){return Array.isArray(t)?t.join(" "):t}const bp={};function CNe(t){for(const e in t)bp[e]=t[e],Yk(e)&&(bp[e].isCSSVariable=!0)}function eq(t,{layout:e,layoutId:n}){return oh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bp[t]||t==="opacity")}const PNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},INe=sh.length;function ONe(t,e,n){let r="",i=!0;for(let a=0;a<INe;a++){const o=sh[a],u=t[o];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(o.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=q7(u,s2[o]);if(!d){i=!1;const m=PNe[o]||o;r+=`${m}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function f2(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,u=!1;for(const d in e){const h=e[d];if(oh.has(d)){o=!0;continue}else if(Yk(d)){i[d]=h;continue}else{const m=q7(h,s2[d]);d.startsWith("origin")?(u=!0,a[d]=m):r[d]=m}}if(e.transform||(o||n?r.transform=ONe(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${h} ${m}`}}const h2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tq(t,e,n){for(const r in e)!Xr(e[r])&&!eq(r,n)&&(t[r]=e[r])}function RNe({transformTemplate:t},e){return x.useMemo(()=>{const n=h2();return f2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DNe(t,e){const n=t.style||{},r={};return tq(r,n,t),Object.assign(r,RNe(t,e)),r}function MNe(t,e){const n={},r=DNe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const LNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},VNe={offset:"strokeDashoffset",array:"strokeDasharray"};function zNe(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?LNe:VNe;t[a.offset]=ct.transform(-r);const o=ct.transform(e),u=ct.transform(n);t[a.array]=`${o} ${u}`}function nq(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...u},d,h,m){if(f2(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&zNe(g,i,a,o,!1)}const rq=()=>({...h2(),attrs:{}}),iq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UNe(t,e,n,r){const i=x.useMemo(()=>{const a=rq();return nq(a,e,iq(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};tq(a,t.style,t),i.style={...a,...i.style}}return i}const BNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m2(t){return typeof t!="string"||t.includes("-")?!1:!!(BNe.indexOf(t)>-1||/[A-Z]/u.test(t))}function $Ne(t,e,n,{latestValues:r},i,a=!1){const u=(m2(t)?UNe:MNe)(e,r,i,t),d=SNe(e,typeof t=="string",a),h=t!==x.Fragment?{...d,...u,ref:n}:{},{children:m}=e,g=x.useMemo(()=>Xr(m)?m.get():m,[m]);return x.createElement(t,{...h,children:g})}function aL(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function p2(t,e,n,r){if(typeof e=="function"){const[i,a]=aL(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=aL(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Av(t){return Xr(t)?t.get():t}function FNe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:qNe(n,r,i,t),renderState:e()}}function qNe(t,e,n,r){const i={},a=r(t,{});for(const y in a)i[y]=Av(a[y]);let{initial:o,animate:u}=t;const d=Db(t),h=J7(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const g=m?u:o;if(g&&typeof g!="boolean"&&!Rb(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const j=p2(t,y[b]);if(j){const{transitionEnd:E,transition:A,...T}=j;for(const O in T){let C=T[O];if(Array.isArray(C)){const U=m?C.length-1:0;C=C[U]}C!==null&&(i[O]=C)}for(const O in E)i[O]=E[O]}}}return i}const aq=t=>(e,n)=>{const r=x.useContext(Ob),i=x.useContext(Ib),a=()=>FNe(t,e,r,i);return n?a():Uk(a)};function g2(t,e,n){const{style:r}=t,i={};for(const a in r)(Xr(r[a])||e.style&&Xr(e.style[a])||eq(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const HNe=aq({scrapeMotionValuesFromProps:g2,createRenderState:h2});function sq(t,e,n){const r=g2(t,e,n);for(const i in t)if(Xr(t[i])||Xr(e[i])){const a=sh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const KNe=aq({scrapeMotionValuesFromProps:sq,createRenderState:rq}),GNe=Symbol.for("motionComponentSymbol");function Fd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function WNe(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fd(n)&&(n.current=r))},[e])}const y2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YNe="framerAppearId",oq="data-"+y2(YNe),lq=x.createContext({});function QNe(t,e,n,r,i){const{visualElement:a}=x.useContext(Ob),o=x.useContext(X7),u=x.useContext(Ib),d=x.useContext(c2).reducedMotion,h=x.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=x.useContext(lq);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&XNe(h.current,n,i,g);const y=x.useRef(!1);x.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const b=n[oq],j=x.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return a7(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),j.current&&m.animationState&&m.animationState.animateChanges())}),x.useEffect(()=>{m&&(!j.current&&m.animationState&&m.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),j.current=!1),m.enteringChildren=void 0)}),m}function XNe(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cq(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||u&&Fd(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function cq(t){if(t)return t.options.allowProjection!==!1?t.projection:cq(t.parent)}function Bj(t,{forwardMotionProps:e=!1}={},n,r){n&&ENe(n);const i=m2(t)?KNe:HNe;function a(u,d){let h;const m={...x.useContext(c2),...u,layoutId:ZNe(u)},{isStatic:g}=m,y=kNe(u),b=i(u,g);if(!g&&Bk){JNe();const j=eSe(m);h=j.MeasureLayout,y.visualElement=QNe(t,b,m,r,j.ProjectionNode)}return l.jsxs(Ob.Provider,{value:y,children:[h&&y.visualElement?l.jsx(h,{visualElement:y.visualElement,...m}):null,$Ne(t,u,WNe(b,y.visualElement,d),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=x.forwardRef(a);return o[GNe]=t,o}function ZNe({layoutId:t}){const e=x.useContext(zk).id;return e&&t!==void 0?e+"-"+t:t}function JNe(t,e){x.useContext(X7).strict}function eSe(t){const{drag:e,layout:n}=Sf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function tSe(t,e){if(typeof Proxy>"u")return Bj;const n=new Map,r=(a,o)=>Bj(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,Bj(o,void 0,t,e)),n.get(o))})}function uq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nSe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rSe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $j(t){return t===void 0||t===1}function GA({scale:t,scaleX:e,scaleY:n}){return!$j(t)||!$j(e)||!$j(n)}function nu(t){return GA(t)||dq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dq(t){return sL(t.x)||sL(t.y)}function sL(t){return t&&t!=="0%"}function e0(t,e,n){const r=t-n,i=e*r;return n+i}function oL(t,e,n,r,i){return i!==void 0&&(t=e0(t,i,r)),e0(t,n,r)+e}function WA(t,e=0,n=1,r,i){t.min=oL(t.min,e,n,r,i),t.max=oL(t.max,e,n,r,i)}function fq(t,{x:e,y:n}){WA(t.x,e.translate,e.scale,e.originPoint),WA(t.y,n.translate,n.scale,n.originPoint)}const lL=.999999999999,cL=1.0000000000001;function iSe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let u=0;u<i;u++){a=n[u],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Hd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fq(t,o)),r&&nu(a.latestValues)&&Hd(t,a.latestValues))}e.x<cL&&e.x>lL&&(e.x=1),e.y<cL&&e.y>lL&&(e.y=1)}function qd(t,e){t.min=t.min+e,t.max=t.max+e}function uL(t,e,n,r,i=.5){const a=kn(t.min,t.max,i);WA(t,e,n,a,r)}function Hd(t,e){uL(t.x,e.x,e.scaleX,e.scale,e.originX),uL(t.y,e.y,e.scaleY,e.scale,e.originY)}function hq(t,e){return uq(rSe(t.getBoundingClientRect(),e))}function aSe(t,e,n){const r=hq(t,n),{scroll:i}=e;return i&&(qd(r.x,i.offset.x),qd(r.y,i.offset.y)),r}const dL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kd=()=>({x:dL(),y:dL()}),fL=()=>({min:0,max:0}),qn=()=>({x:fL(),y:fL()}),YA={current:null},mq={current:!1};function sSe(){if(mq.current=!0,!!Bk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>YA.current=t.matches;t.addEventListener("change",e),e()}else YA.current=!1}const oSe=new WeakMap;function lSe(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Xr(i))t.addValue(r,i);else if(Xr(a))t.addValue(r,Nf(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Nf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const hL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cSe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Di.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,En.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Db(n),this.isVariantNode=J7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];d[y]!==void 0&&Xr(b)&&b.set(d[y])}}mount(e){this.current=e,oSe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mq.current||sSe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:YA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cc(this.notifyUpdate),cc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=oh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&En.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sf){const n=Sf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hL.length;r++){const i=hL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=lSe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(s7(r)||l7(r))?r=parseFloat(r):!yNe(r)&&uc.test(n)&&(r=F7(e,n)),this.setBaseTarget(e,Xr(r)?r.get():r)),Xr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=p2(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kk),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){o2.render(this.render)}}class pq extends cSe{constructor(){super(...arguments),this.KeyframeResolver=aNe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gq(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function uSe(t){return window.getComputedStyle(t)}class dSe extends pq{constructor(){super(...arguments),this.type="html",this.renderInstance=gq}readValueFromInstance(e,n){if(oh.has(n))return this.projection?.isProjecting?UA(n):EAe(e,n);{const r=uSe(e),i=(Yk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hq(e,n)}build(e,n,r){f2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return g2(e,n,r)}}const yq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fSe(t,e,n,r){gq(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(yq.has(i)?i:y2(i),e.attrs[i])}class hSe extends pq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oh.has(n)){const r=$7(n);return r&&r.default||0}return n=yq.has(n)?n:y2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sq(e,n,r)}build(e,n,r){nq(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){fSe(e,n,r,i)}mount(e){this.isSVGTag=iq(e.tagName),super.mount(e)}}const mSe=(t,e)=>m2(t)?new hSe(e):new dSe(e,{allowProjection:t!==x.Fragment});function nf(t,e,n){const r=t.getProps();return p2(r,e,n!==void 0?n:r.custom,t)}const QA=t=>Array.isArray(t);function pSe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nf(n))}function gSe(t){return QA(t)?t[t.length-1]||0:t}function ySe(t,e){const n=nf(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const u=gSe(a[o]);pSe(t,o,u)}}function vSe(t){return!!(Xr(t)&&t.add)}function XA(t,e){const n=t.getValue("willChange");if(vSe(n))return n.add(e);if(!n&&Fo.WillChange){const r=new Fo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vq(t){return t.props[oq]}const xSe=t=>t!==null;function bSe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(xSe),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const wSe={type:"spring",stiffness:500,damping:25,restSpeed:10},_Se=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jSe={type:"keyframes",duration:.8},ESe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ASe=(t,{keyframes:e})=>e.length>2?jSe:oh.has(t)?t.startsWith("scale")?_Se(e[1]):wSe:ESe;function NSe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:u,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const v2=(t,e,n,r={},i,a)=>o=>{const u=a2(r,t)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Us(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};NSe(u)||Object.assign(m,ASe(t,m)),m.duration&&(m.duration=Us(m.duration)),m.repeatDelay&&(m.repeatDelay=Us(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(HA(m),m.delay===0&&(g=!0)),(Fo.instantAnimations||Fo.skipAnimations)&&(g=!0,HA(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=bSe(m.keyframes,u);if(y!==void 0){En.update(()=>{m.onUpdate(y),m.onComplete()});return}}return u.isSync?new r2(m):new GAe(m)};function SSe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(a=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),y=u[m];if(y===void 0||h&&SSe(h,m))continue;const b={delay:n,...a2(a||{},m)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===j&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const T=vq(t);if(T){const O=window.MotionHandoffAnimation(T,m,En);O!==null&&(b.startTime=O,E=!0)}}XA(t,m),g.start(v2(m,g,y,t.shouldReduceMotion&&z7.has(m)?{type:!1}:b,t,E));const A=g.animation;A&&d.push(A)}return o&&Promise.all(d).then(()=>{En.update(()=>{o&&ySe(t,o)})}),d}function bq(t,e,n,r=0,i=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:u-a*r}function ZA(t,e,n={}){const r=nf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(xq(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=i;return TSe(t,e,d,h,m,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,h]=u==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function TSe(t,e,n=0,r=0,i=0,a=1,o){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(ZA(d,e,{...o,delay:n+(typeof r=="function"?0:r)+bq(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function kSe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ZA(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=ZA(t,e,n);else{const i=typeof e=="function"?nf(t,e,n.custom):e;r=Promise.all(xq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wq(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const CSe=d2.length;function _q(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_q(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<CSe;n++){const r=d2[n],i=t.props[r];(xp(i)||i===!1)&&(e[r]=i)}return e}const PSe=[...u2].reverse(),ISe=u2.length;function OSe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kSe(t,n,r)))}function RSe(t){let e=OSe(t),n=mL(),r=!0;const i=d=>(h,m)=>{const g=nf(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...j}=g;h={...h,...j,...b}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,m=_q(t.parent)||{},g=[],y=new Set;let b={},j=1/0;for(let A=0;A<ISe;A++){const T=PSe[A],O=n[T],C=h[T]!==void 0?h[T]:m[T],U=xp(C),B=T===d?O.isActive:null;B===!1&&(j=A);let $=C===m[T]&&C!==h[T]&&U;if($&&r&&t.manuallyAnimateOnMount&&($=!1),O.protectedKeys={...b},!O.isActive&&B===null||!C&&!O.prevProp||Rb(C)||typeof C=="boolean")continue;const N=DSe(O.prevProp,C);let k=N||T===d&&O.isActive&&!$&&U||A>j&&U,I=!1;const L=Array.isArray(C)?C:[C];let V=L.reduce(i(T),{});B===!1&&(V={});const{prevResolvedValues:q={}}=O,M={...q,...V},ce=X=>{k=!0,y.has(X)&&(I=!0,y.delete(X)),O.needsAnimating[X]=!0;const se=t.getValue(X);se&&(se.liveStyle=!1)};for(const X in M){const se=V[X],be=q[X];if(b.hasOwnProperty(X))continue;let Y=!1;QA(se)&&QA(be)?Y=!wq(se,be):Y=se!==be,Y?se!=null?ce(X):y.add(X):se!==void 0&&y.has(X)?ce(X):O.protectedKeys[X]=!0}O.prevProp=C,O.prevResolvedValues=V,O.isActive&&(b={...b,...V}),r&&t.blockInitialAnimation&&(k=!1);const me=$&&N;k&&(!me||I)&&g.push(...L.map(X=>{const se={type:T};if(typeof X=="string"&&r&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Y=nf(be,X);if(be.enteringChildren&&Y){const{delayChildren:z}=Y.transition||{};se.delay=bq(be.enteringChildren,t,z)}}return{animation:X,options:se}}))}if(y.size){const A={};if(typeof h.initial!="boolean"){const T=nf(t,Array.isArray(h.initial)?h.initial[0]:h.initial);T&&T.transition&&(A.transition=T.transition)}y.forEach(T=>{const O=t.getBaseTarget(T),C=t.getValue(T);C&&(C.liveStyle=!0),A[T]=O??null}),g.push({animation:A})}let E=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function u(d,h){if(n[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),n[d].isActive=h;const m=o(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=mL()}}}function DSe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wq(e,t):!1}function Yc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mL(){return{animate:Yc(!0),whileInView:Yc(),whileHover:Yc(),whileTap:Yc(),whileDrag:Yc(),whileFocus:Yc(),exit:Yc()}}class _c{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MSe extends _c{constructor(e){super(e),e.animationState||(e.animationState=RSe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let LSe=0;class VSe extends _c{constructor(){super(...arguments),this.id=LSe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zSe={animation:{Feature:MSe},exit:{Feature:VSe}};function wp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ug(t){return{point:{x:t.pageX,y:t.pageY}}}const USe=t=>e=>l2(e)&&t(e,ug(e));function Bm(t,e,n,r){return wp(t,e,USe(n),r)}const jq=1e-4,BSe=1-jq,$Se=1+jq,Eq=.01,FSe=0-Eq,qSe=0+Eq;function hi(t){return t.max-t.min}function HSe(t,e,n){return Math.abs(t-e)<=n}function pL(t,e,n,r=.5){t.origin=r,t.originPoint=kn(e.min,e.max,t.origin),t.scale=hi(n)/hi(e),t.translate=kn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BSe&&t.scale<=$Se||isNaN(t.scale))&&(t.scale=1),(t.translate>=FSe&&t.translate<=qSe||isNaN(t.translate))&&(t.translate=0)}function $m(t,e,n,r){pL(t.x,e.x,n.x,r?r.originX:void 0),pL(t.y,e.y,n.y,r?r.originY:void 0)}function gL(t,e,n){t.min=n.min+e.min,t.max=t.min+hi(e)}function KSe(t,e,n){gL(t.x,e.x,n.x),gL(t.y,e.y,n.y)}function yL(t,e,n){t.min=e.min-n.min,t.max=t.min+hi(e)}function Fm(t,e,n){yL(t.x,e.x,n.x),yL(t.y,e.y,n.y)}function Ta(t){return[t("x"),t("y")]}const Aq=({current:t})=>t?t.ownerDocument.defaultView:null,vL=(t,e)=>Math.abs(t-e);function GSe(t,e){const n=vL(t.x,e.x),r=vL(t.y,e.y);return Math.sqrt(n**2+r**2)}class Nq{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=qj(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,j=GSe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!j)return;const{point:E}=y,{timestamp:A}=zr;this.history.push({...E,timestamp:A});const{onStart:T,onMove:O}=this.handlers;b||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Fj(b,this.transformPagePoint),En.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:j,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=qj(y.type==="pointercancel"?this.lastMoveEventInfo:Fj(b,this.transformPagePoint),this.history);this.startEvent&&j&&j(y,T),E&&E(y,T)},!l2(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const u=ug(e),d=Fj(u,this.transformPagePoint),{point:h}=d,{timestamp:m}=zr;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,qj(d,this.history)),this.removeListeners=og(Bm(this.contextWindow,"pointermove",this.handlePointerMove),Bm(this.contextWindow,"pointerup",this.handlePointerUp),Bm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cc(this.updatePoint)}}function Fj(t,e){return e?{point:e(t.point)}:t}function xL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qj({point:t},e){return{point:t,delta:xL(t,Sq(e)),offset:xL(t,WSe(e)),velocity:YSe(e,.1)}}function WSe(t){return t[0]}function Sq(t){return t[t.length-1]}function YSe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Sq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Us(e)));)n--;if(!r)return{x:0,y:0};const a=Pa(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QSe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kn(n,t,r.max):Math.min(t,n)),t}function bL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XSe(t,{top:e,left:n,bottom:r,right:i}){return{x:bL(t.x,n,i),y:bL(t.y,e,r)}}function wL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZSe(t,e){return{x:wL(t.x,e.x),y:wL(t.y,e.y)}}function JSe(t,e){let n=.5;const r=hi(t),i=hi(e);return i>r?n=gp(e.min,e.max-r,t.min):r>i&&(n=gp(t.min,t.max-i,e.min)),$o(0,1,n)}function eTe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const JA=.35;function tTe(t=JA){return t===!1?t=0:t===!0&&(t=JA),{x:_L(t,"left","right"),y:_L(t,"top","bottom")}}function _L(t,e,n){return{min:jL(t,e),max:jL(t,n)}}function jL(t,e){return typeof t=="number"?t:t[e]||0}const nTe=new WeakMap;class rTe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ug(g).point)},o=(g,y)=>{const{drag:b,dragPropagation:j,onDragStart:E}=this.getProps();if(b&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cNe(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ta(T=>{let O=this.getAxisMotionValue(T).get()||0;if(Bs.test(O)){const{projection:C}=this.visualElement;if(C&&C.layout){const U=C.layout.layoutBox[T];U&&(O=hi(U)*(parseFloat(O)/100))}}this.originPoint[T]=O}),E&&En.postRender(()=>E(g,y)),XA(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:j,onDirectionLock:E,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:T}=y;if(j&&this.currentDirection===null){this.currentDirection=iTe(T),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,T),this.updateAxis("y",y.point,T),this.visualElement.render(),A&&A(g,y)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ta(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Nq(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Aq(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&En.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!av(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=QSe(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Fd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=XSe(r.layoutBox,e):this.constraints=!1,this.elastic=tTe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ta(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=eTe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=aSe(r,i.root,this.visualElement.getTransformPagePoint());let o=ZSe(i.layout.layoutBox,a);if(n){const u=n(nSe(o));this.hasMutatedConstraints=!!u,u&&(o=uq(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Ta(m=>{if(!av(m,n,this.currentDirection))return;let g=d&&d[m]||{};o&&(g={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,j={type:"inertia",velocity:r?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return XA(this.visualElement,e),r.start(v2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ta(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ta(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ta(n=>{const{drag:r}=this.getProps();if(!av(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:u}=i.layout.layoutBox[n];a.set(e[n]-kn(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ta(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const d=u.get();i[o]=JSe({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ta(o=>{if(!av(o,e,null))return;const u=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];u.set(kn(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;nTe.set(this.visualElement,this);const e=this.visualElement.current,n=Bm(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Fd(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),En.read(r);const o=wp(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ta(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=JA,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function av(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iTe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aTe extends _c{constructor(e){super(e),this.removeGroupControls=Ia,this.removeListeners=Ia,this.controls=new rTe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ia}unmount(){this.removeGroupControls(),this.removeListeners()}}const EL=t=>(e,n)=>{t&&En.postRender(()=>t(e,n))};class sTe extends _c{constructor(){super(...arguments),this.removePointerDownListener=Ia}onPointerDown(e){this.session=new Nq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Aq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:EL(e),onStart:EL(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&En.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Bm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ct.test(t))t=parseFloat(t);else return t;const n=AL(t,e.target.x),r=AL(t,e.target.y);return`${n}% ${r}%`}},oTe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=uc.parse(t);if(i.length>5)return r;const a=uc.createTransformer(t),o=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=u,i[1+o]/=d;const h=kn(u,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let Hj=!1;class lTe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;CNe(cTe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Hj&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Nv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Hj=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||En.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),o2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Hj=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tq(t){const[e,n]=Q7(),r=x.useContext(zk);return l.jsx(lTe,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(lq),isPresent:e,safeToRemove:n})}const cTe={borderRadius:{...hm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hm,borderTopRightRadius:hm,borderBottomLeftRadius:hm,borderBottomRightRadius:hm,boxShadow:oTe};function uTe(t,e,n){const r=Xr(t)?t:Nf(t);return r.start(v2("",r,e,n)),r.animation}const dTe=(t,e)=>t.depth-e.depth;class fTe{constructor(){this.children=[],this.isDirty=!1}add(e){$k(this.children,e),this.isDirty=!0}remove(e){Fk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dTe),this.isDirty=!1,this.children.forEach(e)}}function hTe(t,e){const n=Di.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(cc(r),t(a-e))};return En.setup(r,!0),()=>cc(r)}const kq=["TopLeft","TopRight","BottomLeft","BottomRight"],mTe=kq.length,NL=t=>typeof t=="string"?parseFloat(t):t,SL=t=>typeof t=="number"||ct.test(t);function pTe(t,e,n,r,i,a){i?(t.opacity=kn(0,n.opacity??1,gTe(r)),t.opacityExit=kn(e.opacity??1,0,yTe(r))):a&&(t.opacity=kn(e.opacity??1,n.opacity??1,r));for(let o=0;o<mTe;o++){const u=`border${kq[o]}Radius`;let d=TL(e,u),h=TL(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||SL(d)===SL(h)?(t[u]=Math.max(kn(NL(d),NL(h),r),0),(Bs.test(h)||Bs.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=kn(e.rotate||0,n.rotate||0,r))}function TL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gTe=Cq(0,.5,g7),yTe=Cq(.5,.95,Ia);function Cq(t,e,n){return r=>r<t?0:r>e?1:n(gp(t,e,r))}function kL(t,e){t.min=e.min,t.max=e.max}function Na(t,e){kL(t.x,e.x),kL(t.y,e.y)}function CL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function PL(t,e,n,r,i){return t-=e,t=e0(t,1/n,r),i!==void 0&&(t=e0(t,1/i,r)),t}function vTe(t,e=0,n=1,r=.5,i,a=t,o=t){if(Bs.test(e)&&(e=parseFloat(e),e=kn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=kn(a.min,a.max,r);t===a&&(u-=e),t.min=PL(t.min,e,n,u,i),t.max=PL(t.max,e,n,u,i)}function IL(t,e,[n,r,i],a,o){vTe(t,e[n],e[r],e[i],e.scale,a,o)}const xTe=["x","scaleX","originX"],bTe=["y","scaleY","originY"];function OL(t,e,n,r){IL(t.x,e,xTe,n?n.x:void 0,r?r.x:void 0),IL(t.y,e,bTe,n?n.y:void 0,r?r.y:void 0)}function RL(t){return t.translate===0&&t.scale===1}function Pq(t){return RL(t.x)&&RL(t.y)}function DL(t,e){return t.min===e.min&&t.max===e.max}function wTe(t,e){return DL(t.x,e.x)&&DL(t.y,e.y)}function ML(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Iq(t,e){return ML(t.x,e.x)&&ML(t.y,e.y)}function LL(t){return hi(t.x)/hi(t.y)}function VL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _Te{constructor(){this.members=[]}add(e){$k(this.members,e),e.scheduleRender()}remove(e){if(Fk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jTe(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:j}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),j&&(r+=`skewY(${j}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Kj=["","X","Y","Z"],ETe=1e3;let ATe=0;function Gj(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Oq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",En,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Oq(r)}function Rq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},u=e?.()){this.id=ATe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TTe),this.nodes.forEach(ITe),this.nodes.forEach(OTe),this.nodes.forEach(kTe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new fTe)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Kk),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const d=this.eventHandlers.get(o);d&&d.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Y7(o)&&!pNe(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;En.read(()=>{g=window.innerWidth}),t(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=hTe(y,250),Nv.hasAnimatedSinceResize&&(Nv.hasAnimatedSinceResize=!1,this.nodes.forEach(BL)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||VTe,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=h.getProps(),T=!this.targetLayout||!Iq(this.targetLayout,b),O=!g&&y;if(this.options.layoutRoot||this.resumeFrom||O||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...a2(j,"layout"),onPlay:E,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,O)}else g||BL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RTe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Oq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PTe),this.nodes.forEach(NTe),this.nodes.forEach(STe)):this.nodes.forEach(UL),this.clearAllSnapshots();const u=Di.now();zr.delta=$o(0,1e3/60,u-zr.timestamp),zr.timestamp=u,zr.isProcessing=!0,Dj.update.process(zr),Dj.preRender.process(zr),Dj.render.process(zr),zr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CTe),this.sharedNodes.forEach(DTe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,En.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){En.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hi(this.snapshot.measuredBox.x)&&!hi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Pq(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(u||nu(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return o&&(d=this.removeTransform(d)),zTe(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return qn();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UTe))){const{scroll:h}=this.root;h&&(qd(u.x,h.offset.x),qd(u.y,h.offset.y))}return u}removeElementScroll(o){const u=qn();if(Na(u,o),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Na(u,o),qd(u.x,m.offset.x),qd(u.y,m.offset.y))}return u}applyTransform(o,u=!1){const d=qn();Na(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Hd(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),nu(m.latestValues)&&Hd(d,m.latestValues)}return nu(this.latestValues)&&Hd(d,this.latestValues),d}removeTransform(o){const u=qn();Na(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!nu(h.latestValues))continue;GA(h.latestValues)&&h.updateSnapshot();const m=qn(),g=h.measurePageBox();Na(m,g),OL(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return nu(this.latestValues)&&OL(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=zr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qn(),this.relativeTargetOrigin=qn(),Fm(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qn(),this.targetWithTransforms=qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KSe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Na(this.target,this.layout.layoutBox),fq(this.target,this.targetDelta)):Na(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qn(),this.relativeTargetOrigin=qn(),Fm(this.relativeTargetOrigin,this.target,y.target),Na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||GA(this.parent.latestValues)||dq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===zr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Na(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;iSe(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=qn());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CL(this.prevProjectionDelta.x,this.projectionDelta.x),CL(this.prevProjectionDelta.y,this.projectionDelta.y)),$m(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!VL(this.projectionDelta.x,this.prevProjectionDelta.x)||!VL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kd(),this.projectionDelta=Kd(),this.projectionDeltaWithTransform=Kd()}setAnimationOrigin(o,u=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=Kd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=qn(),b=d?d.source:void 0,j=this.layout?this.layout.source:void 0,E=b!==j,A=this.getStack(),T=!A||A.members.length<=1,O=!!(E&&!T&&this.options.crossfade===!0&&!this.path.some(LTe));this.animationProgress=0;let C;this.mixTargetDelta=U=>{const B=U/1e3;$L(g.x,o.x,B),$L(g.y,o.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fm(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MTe(this.relativeTarget,this.relativeTargetOrigin,y,B),C&&wTe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=qn()),Na(C,this.relativeTarget)),E&&(this.animationValues=m,pTe(m,h,this.latestValues,B,O,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=En.update(()=>{Nv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nf(0)),this.currentAnimation=uTe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ETe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:m}=o;if(!(!u||!d||!h)){if(this!==o&&this.layout&&h&&Dq(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||qn();const g=hi(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const y=hi(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}Na(u,d),Hd(u,m),$m(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _Te),this.sharedNodes.get(o).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Gj("z",o,h,this.animationValues);for(let m=0;m<Kj.length;m++)Gj(`rotate${Kj[m]}`,o,h,this.animationValues),Gj(`skew${Kj[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Av(u?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Av(u?.pointerEvents)||""),this.hasProjected&&!nu(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=jTe(this.projectionDeltaWithTransform,this.treeScale,m);d&&(g=d(m,g)),o.transform=g;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const j in bp){if(m[j]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:T}=bp[j],O=g==="none"?m[j]:E(m[j],h);if(A){const C=A.length;for(let U=0;U<C;U++)o[A[U]]=O}else T?this.options.visualElement.renderState.vars[j]=O:o[j]=O}this.options.layoutId&&(o.pointerEvents=h===this?Av(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(zL),this.root.sharedNodes.clear()}}}function NTe(t){t.updateLayout()}function STe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Ta(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=hi(g);g.min=n[m].min,g.max=g.min+y}):Dq(i,e.layoutBox,n)&&Ta(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=hi(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const o=Kd();$m(o,n,e.layoutBox);const u=Kd();a?$m(u,t.applyTransform(r,!0),e.measuredBox):$m(u,n,e.layoutBox);const d=!Pq(o);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=qn();Fm(b,e.layoutBox,g.layoutBox);const j=qn();Fm(j,n,y.layoutBox),Iq(b,j)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function TTe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kTe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CTe(t){t.clearSnapshot()}function zL(t){t.clearMeasurements()}function UL(t){t.isLayoutDirty=!1}function PTe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ITe(t){t.resolveTargetDelta()}function OTe(t){t.calcProjection()}function RTe(t){t.resetSkewAndRotation()}function DTe(t){t.removeLeadSnapshot()}function $L(t,e,n){t.translate=kn(e.translate,0,n),t.scale=kn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FL(t,e,n,r){t.min=kn(e.min,n.min,r),t.max=kn(e.max,n.max,r)}function MTe(t,e,n,r){FL(t.x,e.x,n.x,r),FL(t.y,e.y,n.y,r)}function LTe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VTe={duration:.45,ease:[.4,0,.1,1]},qL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HL=qL("applewebkit/")&&!qL("chrome/")?Math.round:Ia;function KL(t){t.min=HL(t.min),t.max=HL(t.max)}function zTe(t){KL(t.x),KL(t.y)}function Dq(t,e,n){return t==="position"||t==="preserve-aspect"&&!HSe(LL(e),LL(n),.2)}function UTe(t){return t!==t.root&&t.scroll?.wasRoot}const BTe=Rq({attachResizeListener:(t,e)=>wp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wj={current:void 0},Mq=Rq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wj.current){const t=new BTe({});t.mount(window),t.setOptions({layoutScroll:!0}),Wj.current=t}return Wj.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$Te={pan:{Feature:sTe},drag:{Feature:aTe,ProjectionNode:Mq,MeasureLayout:Tq}};function GL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&En.postRender(()=>a(e,ug(e)))}class FTe extends _c{mount(){const{current:e}=this.node;e&&(this.unmount=uNe(e,(n,r)=>(GL(this.node,r,"Start"),i=>GL(this.node,i,"End"))))}unmount(){}}class qTe extends _c{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=og(wp(this.node.current,"focus",()=>this.onFocus()),wp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WL(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&En.postRender(()=>a(e,ug(e)))}class HTe extends _c{mount(){const{current:e}=this.node;e&&(this.unmount=mNe(e,(n,r)=>(WL(this.node,r,"Start"),(i,{success:a})=>WL(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eN=new WeakMap,Yj=new WeakMap,KTe=t=>{const e=eN.get(t.target);e&&e(t)},GTe=t=>{t.forEach(KTe)};function WTe({root:t,...e}){const n=t||document;Yj.has(n)||Yj.set(n,{});const r=Yj.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(GTe,{root:t,...e})),r[i]}function YTe(t,e,n){const r=WTe(e);return eN.set(t,n),r.observe(t),()=>{eN.delete(t),r.unobserve(t)}}const QTe={some:0,all:1};class XTe extends _c{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QTe[i]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=h?m:g;y&&y(d)};return YTe(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZTe(e,n))&&this.startObserver()}unmount(){}}function ZTe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JTe={inView:{Feature:XTe},tap:{Feature:HTe},focus:{Feature:qTe},hover:{Feature:FTe}},eke={layout:{ProjectionNode:Mq,MeasureLayout:Tq}},tke={...zSe,...JTe,...$Te,...eke},Ni=tSe(tke,mSe);function nke(t,e){const[n,r]=x.useState(null),[i,a]=x.useState(!0),[o,u]=x.useState(null);return x.useEffect(()=>{if(!t||!e){a(!1);return}a(!0);let d=null;const h=async()=>{try{const m=await $f(t,e);if(m){const g=an(qe,Da,m.id);d=gS(g,y=>{if(y.exists()){const b=Bu(y.id,y.data());r(b),u(null),a(!1)}else r(null),a(!1)},y=>{console.error("Error listening to enrollment:",y),u(y),a(!1)})}else try{await kS(t,e,"","system",!0),h()}catch(g){console.error("Failed to create enrollment:",g),u(g),a(!1)}}catch(m){console.error("Failed to find enrollment:",m),u(m),a(!1)}};return h(),()=>{d&&d()}},[t,e]),{enrollment:n,isLoading:i,error:o}}function Lq(t,e){const[n,r]=x.useState({}),[i,a]=x.useState(!0),[o,u]=x.useState(null);return x.useEffect(()=>{if(!t||!e){a(!1);return}a(!0);const d=Ft(Ut(qe,Vs),at("campaignId","==",t),at("userId","==",e)),h=gS(d,m=>{const g={};m.docs.forEach(y=>{const b=y.data(),j={id:y.id,campaignId:b.campaignId,videoId:b.videoId,questionId:b.questionId,userId:b.userId,organizationId:b.organizationId,answer:b.answer,answeredAt:b.answeredAt?.toDate?b.answeredAt.toDate():new Date(b.answeredAt),metadata:b.metadata};g[b.questionId]=j}),r(g),u(null),a(!1)},m=>{console.error("Error listening to responses:",m),u(m),a(!1)});return()=>h()},[t,e]),{responses:n,isLoading:i,error:o}}function rke(t){const[e,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null);return x.useEffect(()=>{if(!t){i(!1);return}i(!0);const u=Ft(Ut(qe,Da),at("userId","==",t),jr("enrolledAt","desc")),d=gS(u,h=>{const m=h.docs.map(g=>Bu(g.id,g.data()));n(m),o(null),i(!1)},h=>{console.error("Error listening to enrollments:",h),o(h),i(!1)});return()=>d()},[t]),{enrollments:e,isLoading:r,error:a}}const ike=({data:t})=>!t||t.length<3?null:l.jsx("div",{className:"w-full h-[300px] flex justify-center items-center",children:l.jsx(Dd,{width:"100%",height:"100%",children:l.jsxs(Zje,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[l.jsx(nF,{stroke:"#E5E7EB"}),l.jsx(Tb,{dataKey:"subject",tick:{fill:"#374151",fontSize:12,fontWeight:500}}),l.jsx(Nb,{angle:30,domain:[0,5],tick:!1,axisLine:!1}),l.jsx($x,{name:"Community",dataKey:"B",stroke:"none",fill:"#9CA3AF",fillOpacity:.2}),l.jsx($x,{name:"You",dataKey:"A",stroke:"#2563EB",strokeWidth:3,fill:"transparent",fillOpacity:0})]})})}),ake=({userValue:t,avgValue:e,minLabel:n="Low",maxLabel:r="High"})=>{const[i,a]=x.useState(!1);x.useEffect(()=>{const h=setTimeout(()=>a(!0),100);return()=>clearTimeout(h)},[]);const o=h=>Math.max(0,Math.min(100,(h-1)/4*100)),u=o(t),d=o(e);return l.jsxs("div",{className:"mt-8 mb-10 relative px-4",children:[l.jsxs("div",{className:"h-3 w-full rounded-full bg-gradient-to-r from-red-100 via-orange-100 to-blue-100 relative shadow-inner",children:[l.jsxs("div",{className:"absolute top-full mt-2 transform -translate-x-1/2 flex flex-col items-center transition-all duration-1000 ease-out z-10",style:{left:i?`${d}%`:"0%"},children:[l.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[8px] border-b-gray-400 mb-[-1px]"}),l.jsx("div",{className:"bg-gray-400 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm whitespace-nowrap",children:"AVG"})]}),l.jsxs("div",{className:"absolute bottom-full mb-2 transform -translate-x-1/2 flex flex-col items-center transition-all duration-1000 ease-out z-20",style:{left:i?`${u}%`:"0%"},children:[l.jsx("div",{className:"bg-blue-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow-sm mb-[-1px] whitespace-nowrap",children:"YOU"}),l.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[8px] border-t-blue-600"})]})]}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-10 font-medium uppercase tracking-wide",children:[l.jsx("span",{children:n}),l.jsx("span",{children:r})]})]})},ske=({themes:t})=>{const e=t.filter(r=>r.type==="user"),n=t.filter(r=>r.type==="community");return l.jsxs("div",{className:"relative h-[200px] w-full bg-gray-50 rounded-xl border border-gray-100 overflow-hidden flex items-center justify-center p-4",children:[l.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 max-w-sm",children:[n.map((r,i)=>l.jsx("div",{className:"bg-gray-400 text-white text-xs font-medium px-3 py-1.5 rounded-full shadow-sm opacity-80 transform scale-90",children:r.name},`comm-${i}`)),e.map((r,i)=>l.jsxs("div",{className:"bg-blue-600 text-white text-sm font-bold px-4 py-2 rounded-full shadow-md z-10 animate-pulse-slow border-2 border-white",children:[r.name," ",r.percentage?`(${r.percentage}%)`:""]},`user-${i}`))]}),l.jsx("div",{className:"absolute top-[-20px] left-[-20px] w-24 h-24 bg-blue-100 rounded-full opacity-50 blur-xl"}),l.jsx("div",{className:"absolute bottom-[-10px] right-[-10px] w-32 h-32 bg-gray-200 rounded-full opacity-50 blur-xl"})]})},Vq=({campaignIdOverride:t,embedded:e=!1})=>{const{moduleId:n}=jp(),r=t||n,i=Vi(),{user:a}=Ar(),[o,u]=x.useState(!1),[d,h]=x.useState([]),[m,g]=x.useState(!0),[y,b]=x.useState(null),[j,E]=x.useState("Campaign"),A=!e;x.useEffect(()=>{(async()=>{if(!r||!a){g(!1);return}g(!0),b(null);try{const B=await Ko(r);if(!B)throw new Error("Campaign not found");E(B.title);const $=new Set;B.items.forEach(se=>$.add(se.videoId));const N=new Map,k=new Map;await Promise.all(Array.from($).map(async se=>{try{const be=await mf(se);be&&(k.set(se,be.title),be.questions?.forEach(Y=>{N.set(Y.id,{text:Y.statement||"Question",videoId:se,type:Y.type})}))}catch(be){console.warn(`Failed to load video ${se}`,be)}})),B.items.forEach(se=>{se.questions?.forEach(be=>{N.has(be.id)||N.set(be.id,{text:be.question,videoId:se.videoId})})});const I=await DU(r,a.organization),L=await MU(r,a.id),V=new Map;L.forEach(se=>{const be=V.get(se.questionId);(!be||se.answeredAt>be.answeredAt)&&V.set(se.questionId,se)});const q=Array.from(V.values());console.log(`[DEBUG] Deduplicated user responses: ${L.length} -> ${q.length}`);const M=new Map;I.forEach(se=>{const be=M.get(se.questionId)||[];be.push(se),M.set(se.questionId,be)});const ce=[];q.forEach(se=>{const be=se.questionId,Y=M.get(be)||[],z=N.get(be);if(Y.length<3)return;const Q={};let ue=0,ge=0;Y.forEach(ae=>{const Re=String(ae.answer);Q[Re]=(Q[Re]||0)+1;const Ie=parseFloat(String(ae.answer));isNaN(Ie)||(ue+=Ie,ge++)});const Ne=Object.entries(Q).sort((ae,Re)=>Re[1]-ae[1])[0]?.[0],Le=String(se.answer)===Ne;ce.push({questionId:be,question:z?.text||se.metadata?.questionText||"Question",userAnswer:se.answer,answerDistribution:Q,totalResponses:Y.length,isUserInMajority:Le,videoId:se.videoId||z?.videoId,type:z?.type||(typeof se.answer=="number"?"scale":"multiple-choice"),averageScore:ge>0?ue/ge:void 0})});const me=[],G=new Map;console.log("[DEBUG] Video IDs from campaign:",Array.from($)),console.log("[DEBUG] Total comparison data items:",ce.length),ce.forEach((se,be)=>{console.log(`[DEBUG] Comparison ${be}:`,{questionId:se.questionId,videoId:se.videoId,question:se.question.substring(0,50)})}),ce.forEach(se=>{const be=se.videoId||"unknown",Y=G.get(be)||[];Y.push(se),G.set(be,Y)}),console.log("[DEBUG] Grouped comparisons by video:"),Array.from(G.entries()).forEach(([se,be])=>{console.log(`  Video ${se}:`,{videoId:se,count:be.length,title:k.get(se)||"Unknown",questions:be.map(Y=>Y.question.substring(0,30))})}),Array.from($).forEach(se=>{const be=G.get(se);if(be&&be.length>0){let Y=0,z=0,Q=0;be.forEach(ue=>{ue.averageScore!==void 0&&typeof ue.userAnswer=="number"&&(Y+=ue.userAnswer,z+=ue.averageScore,Q++)}),me.push({videoId:se,videoTitle:k.get(se)||"Untitled Video",comparisons:be,userAverage:Q>0?Y/Q:void 0,communityAverage:Q>0?z/Q:void 0})}});const X=G.get("unknown");X&&X.length>0&&me.push({videoId:"unknown",videoTitle:"Other Questions",comparisons:X}),h(me),g(!1)}catch(B){console.error("[PeerComparison] Failed to load comparison data:",B),b("Failed to load peer comparison data"),g(!1)}})()},[r,a]);const T=U=>{const B=A?"text-white/80":"text-gray-600",$=A?"text-white/60":"text-gray-400",N=A?"bg-white/10":"bg-gray-100",k=A?"bg-blue-400":"bg-blue-500",I=A?"bg-white/30":"bg-gray-300",L=A?"text-blue-300":"text-blue-500",V=Object.entries(U.answerDistribution).sort((q,M)=>M[1]-q[1]);return l.jsx("div",{className:"space-y-4 mt-4",children:V.map(([q,M],ce)=>{const me=Math.round(M/U.totalResponses*100),G=String(q)===String(U.userAnswer);return l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex justify-between items-end mb-1 text-sm",children:[l.jsx("span",{className:`font-medium ${G?"text-blue-400":B}`,children:q}),l.jsxs("span",{className:$,children:[me,"%"]})]}),l.jsx("div",{className:`h-2 w-full ${N} rounded-full overflow-hidden`,children:l.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${G?k:I}`,style:{width:`${me}%`}})}),G&&l.jsx("div",{className:`text-[10px] ${L} font-bold mt-0.5`,children:"YOU"})]},ce)})})},O="min-h-screen bg-[#050608] pb-20 text-white";if(m)return l.jsx("div",{className:`${O} flex items-center justify-center px-6 min-h-[200px]`,children:l.jsxs("div",{className:"text-center",children:[l.jsx(Bl,{className:`w-12 h-12 animate-spin ${A?"text-white":"text-blue-500"} mx-auto mb-4`}),l.jsx("p",{className:A?"text-white/70":"text-gray-500",children:"Loading insights..."})]})});if(y)return l.jsx("div",{className:`${O} flex items-center justify-center px-6 min-h-[200px]`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:`text-2xl font-semibold mb-4 ${A?"text-white":"text-gray-900"}`,children:"Unable to Load Data"}),l.jsx("p",{className:`${A?"text-white/70":"text-gray-500"} mb-6`,children:y}),!e&&l.jsx("button",{onClick:()=>i("/employee/home"),className:`${A?"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600":"btn-primary bg-blue-600 text-white hover:bg-blue-700"}`,children:"Back to Home"})]})});const C=d.filter(U=>U.userAverage!==void 0&&U.communityAverage!==void 0).map(U=>({subject:U.videoTitle.length>15?U.videoTitle.substring(0,15)+"...":U.videoTitle,A:U.userAverage||0,B:U.communityAverage||0,fullMark:5}));return l.jsxs("div",{className:O,children:[l.jsx("div",{className:`px-6 pt-8 pb-6 ${e?"bg-white border-gray-100 text-gray-900":"bg-[#050608] border-white/10 text-white"}`,children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[!e&&l.jsxs("button",{onClick:()=>i("/employee/home"),className:"flex items-center gap-2 text-white/70 hover:text-white mb-6 transition-colors",children:[l.jsx(Zd,{size:20}),"Back"]}),l.jsx("h1",{className:`text-2xl font-bold mb-1 ${e?"text-gray-900":"text-white"}`,children:"Survey Results"}),l.jsx("p",{className:e?"text-gray-500":"text-white/70",children:j})]})}),l.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8 space-y-12",children:[C.length>=3&&l.jsxs("div",{className:`${A?"bg-[#0f1118] border border-white/10 text-white":"bg-white border border-gray-100 text-gray-900"} rounded-2xl p-6 shadow-sm`,children:[l.jsx("h2",{className:"text-center font-semibold mb-6",children:"Performance Overview"}),l.jsx(ike,{data:C}),l.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),l.jsx("span",{className:`${A?"text-white/70":"text-gray-600"} font-medium`,children:"You"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 ${A?"bg-white/40":"bg-gray-400"} rounded-full opacity-70`}),l.jsx("span",{className:`${A?"text-white/70":"text-gray-600"} font-medium`,children:"Community Avg"})]})]})]}),d.length===0&&l.jsxs("div",{className:`text-center py-12 rounded-2xl p-6 shadow-sm ${A?"bg-[#0f1118] border border-white/10 text-white":"bg-white border border-gray-100 text-gray-900"}`,children:[l.jsx("div",{className:`w-16 h-16 ${A?"bg-white/10":"bg-blue-100"} rounded-full flex items-center justify-center mx-auto mb-4`,children:l.jsx(ui,{size:32,className:`${A?"text-white":"text-blue-600"}`})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Waiting for Colleagues"}),l.jsx("p",{className:`${A?"text-white/70":"text-gray-500"} mb-6 max-w-md mx-auto`,children:"Your responses are safe! We're just waiting for a few more teammates to finish so we can show you the comparison."}),!e&&l.jsx("button",{onClick:()=>i("/employee/home"),className:"btn-primary bg-blue-600 text-white hover:bg-blue-700",children:"Continue Learning"})]}),d.map(U=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`flex items-center gap-3 pb-2 ${A?"border-b border-white/10":"border-b border-gray-100"}`,children:[l.jsx(zd,{size:20,className:A?"text-blue-400":"text-blue-600"}),l.jsx("h2",{className:`text-xl font-bold ${A?"text-white":"text-gray-900"}`,children:U.videoTitle})]}),l.jsx("div",{className:"space-y-8",children:U.comparisons.map((B,$)=>l.jsxs("div",{className:`${A?"bg-[#0f1118] border border-white/10 text-white":"bg-white border border-gray-100 text-gray-900"} p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow`,children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:B.question}),B.type==="scale"||typeof B.userAnswer=="number"&&B.averageScore?l.jsx(ake,{userValue:Number(B.userAnswer),avgValue:B.averageScore||0}):T(B),B.type==="text"&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:`text-sm mb-3 ${A?"text-white/70":"text-gray-500"}`,children:"Common Themes:"}),l.jsx(ske,{themes:[{name:"Communication",type:"user",percentage:85},{name:"Teamwork",type:"community"},{name:"Leadership",type:"community"},{name:"Strategy",type:"user",percentage:40}]})]}),l.jsxs("div",{className:`mt-6 flex items-center gap-2 text-sm ${A?"text-white/60":"text-gray-400"}`,children:[l.jsx(ui,{size:14,className:A?"text-white/60":""}),l.jsxs("span",{children:[B.totalResponses," responses"]}),B.isUserInMajority?l.jsxs("span",{className:"flex items-center gap-1 text-green-500 ml-auto",children:[l.jsx(Pi,{size:14}),"In Majority"]}):l.jsxs("span",{className:"flex items-center gap-1 text-blue-400 ml-auto",children:[l.jsx(Jie,{size:14}),"Unique View"]})]})]},$))})]},U.videoId)),l.jsx("div",{className:`${A?"bg-[#0f1118] border border-white/10 text-white":"bg-blue-50 border border-blue-100 text-gray-900"} rounded-2xl p-6`,children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`${A?"p-3 bg-white/10 text-white":"p-3 bg-blue-100 text-blue-600"} rounded-xl`,children:l.jsx(MS,{size:24})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Analyze with AI"}),l.jsx("p",{className:`${A?"text-white/70":"text-gray-600"} mb-4`,children:"Want to understand why your score differs from the average? Ask our AI Copilot."}),l.jsx("div",{className:"flex flex-wrap gap-2",children:["Analyze my gaps","How can I improve?","Summarize key themes"].map((U,B)=>l.jsxs("button",{onClick:()=>u(!0),className:`${A?"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 text-white":"px-4 py-2 bg-white hover:bg-blue-50 border border-blue-200 text-blue-700"} rounded-lg text-sm transition-colors shadow-sm`,children:['"',U,'"']},B))})]})]})}),!e&&d.length>0&&l.jsx("div",{className:"text-center pt-8 pb-12",children:l.jsxs("button",{onClick:()=>i("/employee/home"),className:`${A?"inline-flex items-center gap-2 px-8 py-3 text-lg bg-blue-500 text-white hover:bg-blue-600 shadow-lg shadow-blue-900/40":"btn-primary inline-flex items-center gap-2 px-8 py-3 text-lg bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-200"}`,children:[l.jsx(_o,{size:20}),"Continue Learning"]})})]}),o&&l.jsx(D0,{isOpen:o,onClose:()=>u(!1),context:{userRole:"employee"}})]})},Qc=({className:t=""})=>l.jsx("div",{className:`animate-pulse bg-white/5 rounded-xl ${t}`});var dg={};(function t(e,n,r,i){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=(function(){if(!e.OffscreenCanvas)return!1;try{var Y=new OffscreenCanvas(1,1),z=Y.getContext("2d");z.fillRect(0,0,1,1);var Q=Y.transferToImageBitmap();z.createPattern(Q,"no-repeat")}catch{return!1}return!0})();function d(){}function h(Y){var z=n.exports.Promise,Q=z!==void 0?z:e.Promise;return typeof Q=="function"?new Q(Y):(Y(d,d),null)}var m=(function(Y,z){return{transform:function(Q){if(Y)return Q;if(z.has(Q))return z.get(Q);var ue=new OffscreenCanvas(Q.width,Q.height),ge=ue.getContext("2d");return ge.drawImage(Q,0,0),z.set(Q,ue),ue},clear:function(){z.clear()}}})(u,new Map),g=(function(){var Y=Math.floor(16.666666666666668),z,Q,ue={},ge=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(z=function(pe){var Ne=Math.random();return ue[Ne]=requestAnimationFrame(function Ae(Le){ge===Le||ge+Y-1<Le?(ge=Le,delete ue[Ne],pe()):ue[Ne]=requestAnimationFrame(Ae)}),Ne},Q=function(pe){ue[pe]&&cancelAnimationFrame(ue[pe])}):(z=function(pe){return setTimeout(pe,Y)},Q=function(pe){return clearTimeout(pe)}),{frame:z,cancel:Q}})(),y=(function(){var Y,z,Q={};function ue(ge){function pe(Ne,Ae){ge.postMessage({options:Ne||{},callback:Ae})}ge.init=function(Ae){var Le=Ae.transferControlToOffscreen();ge.postMessage({canvas:Le},[Le])},ge.fire=function(Ae,Le,ae){if(z)return pe(Ae,null),z;var Re=Math.random().toString(36).slice(2);return z=h(function(Ie){function K(ee){ee.data.callback===Re&&(delete Q[Re],ge.removeEventListener("message",K),z=null,m.clear(),ae(),Ie())}ge.addEventListener("message",K),pe(Ae,Re),Q[Re]=K.bind(null,{data:{callback:Re}})}),z},ge.reset=function(){ge.postMessage({reset:!0});for(var Ae in Q)Q[Ae](),delete Q[Ae]}}return function(){if(Y)return Y;if(!r&&a){var ge=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Y=new Worker(URL.createObjectURL(new Blob([ge])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}ue(Y)}return Y}})(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(Y,z){return z?z(Y):Y}function E(Y){return Y!=null}function A(Y,z,Q){return j(Y&&E(Y[z])?Y[z]:b[z],Q)}function T(Y){return Y<0?0:Math.floor(Y)}function O(Y,z){return Math.floor(Math.random()*(z-Y))+Y}function C(Y){return parseInt(Y,16)}function U(Y){return Y.map(B)}function B(Y){var z=String(Y).replace(/[^0-9a-f]/gi,"");return z.length<6&&(z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]),{r:C(z.substring(0,2)),g:C(z.substring(2,4)),b:C(z.substring(4,6))}}function $(Y){var z=A(Y,"origin",Object);return z.x=A(z,"x",Number),z.y=A(z,"y",Number),z}function N(Y){Y.width=document.documentElement.clientWidth,Y.height=document.documentElement.clientHeight}function k(Y){var z=Y.getBoundingClientRect();Y.width=z.width,Y.height=z.height}function I(Y){var z=document.createElement("canvas");return z.style.position="fixed",z.style.top="0px",z.style.left="0px",z.style.pointerEvents="none",z.style.zIndex=Y,z}function L(Y,z,Q,ue,ge,pe,Ne,Ae,Le){Y.save(),Y.translate(z,Q),Y.rotate(pe),Y.scale(ue,ge),Y.arc(0,0,1,Ne,Ae,Le),Y.restore()}function V(Y){var z=Y.angle*(Math.PI/180),Q=Y.spread*(Math.PI/180);return{x:Y.x,y:Y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Y.startVelocity*.5+Math.random()*Y.startVelocity,angle2D:-z+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Y.color,shape:Y.shape,tick:0,totalTicks:Y.ticks,decay:Y.decay,drift:Y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Y.gravity*3,ovalScalar:.6,scalar:Y.scalar,flat:Y.flat}}function q(Y,z){z.x+=Math.cos(z.angle2D)*z.velocity+z.drift,z.y+=Math.sin(z.angle2D)*z.velocity+z.gravity,z.velocity*=z.decay,z.flat?(z.wobble=0,z.wobbleX=z.x+10*z.scalar,z.wobbleY=z.y+10*z.scalar,z.tiltSin=0,z.tiltCos=0,z.random=1):(z.wobble+=z.wobbleSpeed,z.wobbleX=z.x+10*z.scalar*Math.cos(z.wobble),z.wobbleY=z.y+10*z.scalar*Math.sin(z.wobble),z.tiltAngle+=.1,z.tiltSin=Math.sin(z.tiltAngle),z.tiltCos=Math.cos(z.tiltAngle),z.random=Math.random()+2);var Q=z.tick++/z.totalTicks,ue=z.x+z.random*z.tiltCos,ge=z.y+z.random*z.tiltSin,pe=z.wobbleX+z.random*z.tiltCos,Ne=z.wobbleY+z.random*z.tiltSin;if(Y.fillStyle="rgba("+z.color.r+", "+z.color.g+", "+z.color.b+", "+(1-Q)+")",Y.beginPath(),o&&z.shape.type==="path"&&typeof z.shape.path=="string"&&Array.isArray(z.shape.matrix))Y.fill(X(z.shape.path,z.shape.matrix,z.x,z.y,Math.abs(pe-ue)*.1,Math.abs(Ne-ge)*.1,Math.PI/10*z.wobble));else if(z.shape.type==="bitmap"){var Ae=Math.PI/10*z.wobble,Le=Math.abs(pe-ue)*.1,ae=Math.abs(Ne-ge)*.1,Re=z.shape.bitmap.width*z.scalar,Ie=z.shape.bitmap.height*z.scalar,K=new DOMMatrix([Math.cos(Ae)*Le,Math.sin(Ae)*Le,-Math.sin(Ae)*ae,Math.cos(Ae)*ae,z.x,z.y]);K.multiplySelf(new DOMMatrix(z.shape.matrix));var ee=Y.createPattern(m.transform(z.shape.bitmap),"no-repeat");ee.setTransform(K),Y.globalAlpha=1-Q,Y.fillStyle=ee,Y.fillRect(z.x-Re/2,z.y-Ie/2,Re,Ie),Y.globalAlpha=1}else if(z.shape==="circle")Y.ellipse?Y.ellipse(z.x,z.y,Math.abs(pe-ue)*z.ovalScalar,Math.abs(Ne-ge)*z.ovalScalar,Math.PI/10*z.wobble,0,2*Math.PI):L(Y,z.x,z.y,Math.abs(pe-ue)*z.ovalScalar,Math.abs(Ne-ge)*z.ovalScalar,Math.PI/10*z.wobble,0,2*Math.PI);else if(z.shape==="star")for(var ne=Math.PI/2*3,Ee=4*z.scalar,Ue=8*z.scalar,Qe=z.x,bt=z.y,Je=5,et=Math.PI/Je;Je--;)Qe=z.x+Math.cos(ne)*Ue,bt=z.y+Math.sin(ne)*Ue,Y.lineTo(Qe,bt),ne+=et,Qe=z.x+Math.cos(ne)*Ee,bt=z.y+Math.sin(ne)*Ee,Y.lineTo(Qe,bt),ne+=et;else Y.moveTo(Math.floor(z.x),Math.floor(z.y)),Y.lineTo(Math.floor(z.wobbleX),Math.floor(ge)),Y.lineTo(Math.floor(pe),Math.floor(Ne)),Y.lineTo(Math.floor(ue),Math.floor(z.wobbleY));return Y.closePath(),Y.fill(),z.tick<z.totalTicks}function M(Y,z,Q,ue,ge){var pe=z.slice(),Ne=Y.getContext("2d"),Ae,Le,ae=h(function(Re){function Ie(){Ae=Le=null,Ne.clearRect(0,0,ue.width,ue.height),m.clear(),ge(),Re()}function K(){r&&!(ue.width===i.width&&ue.height===i.height)&&(ue.width=Y.width=i.width,ue.height=Y.height=i.height),!ue.width&&!ue.height&&(Q(Y),ue.width=Y.width,ue.height=Y.height),Ne.clearRect(0,0,ue.width,ue.height),pe=pe.filter(function(ee){return q(Ne,ee)}),pe.length?Ae=g.frame(K):Ie()}Ae=g.frame(K),Le=Ie});return{addFettis:function(Re){return pe=pe.concat(Re),ae},canvas:Y,promise:ae,reset:function(){Ae&&g.cancel(Ae),Le&&Le()}}}function ce(Y,z){var Q=!Y,ue=!!A(z||{},"resize"),ge=!1,pe=A(z,"disableForReducedMotion",Boolean),Ne=a&&!!A(z||{},"useWorker"),Ae=Ne?y():null,Le=Q?N:k,ae=Y&&Ae?!!Y.__confetti_initialized:!1,Re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ie;function K(ne,Ee,Ue){for(var Qe=A(ne,"particleCount",T),bt=A(ne,"angle",Number),Je=A(ne,"spread",Number),et=A(ne,"startVelocity",Number),kr=A(ne,"decay",Number),$a=A(ne,"gravity",Number),ps=A(ne,"drift",Number),Sn=A(ne,"colors",U),sr=A(ne,"ticks",Number),sa=A(ne,"shapes"),Fa=A(ne,"scalar"),pi=!!A(ne,"flat"),ye=$(ne),Ce=Qe,We=[],He=Y.width*ye.x,Se=Y.height*ye.y;Ce--;)We.push(V({x:He,y:Se,angle:bt,spread:Je,startVelocity:et,color:Sn[Ce%Sn.length],shape:sa[O(0,sa.length)],ticks:sr,decay:kr,gravity:$a,drift:ps,scalar:Fa,flat:pi}));return Ie?Ie.addFettis(We):(Ie=M(Y,We,Le,Ee,Ue),Ie.promise)}function ee(ne){var Ee=pe||A(ne,"disableForReducedMotion",Boolean),Ue=A(ne,"zIndex",Number);if(Ee&&Re)return h(function(et){et()});Q&&Ie?Y=Ie.canvas:Q&&!Y&&(Y=I(Ue),document.body.appendChild(Y)),ue&&!ae&&Le(Y);var Qe={width:Y.width,height:Y.height};Ae&&!ae&&Ae.init(Y),ae=!0,Ae&&(Y.__confetti_initialized=!0);function bt(){if(Ae){var et={getBoundingClientRect:function(){if(!Q)return Y.getBoundingClientRect()}};Le(et),Ae.postMessage({resize:{width:et.width,height:et.height}});return}Qe.width=Qe.height=null}function Je(){Ie=null,ue&&(ge=!1,e.removeEventListener("resize",bt)),Q&&Y&&(document.body.contains(Y)&&document.body.removeChild(Y),Y=null,ae=!1)}return ue&&!ge&&(ge=!0,e.addEventListener("resize",bt,!1)),Ae?Ae.fire(ne,Qe,Je):K(ne,Qe,Je)}return ee.reset=function(){Ae&&Ae.reset(),Ie&&Ie.reset()},ee}var me;function G(){return me||(me=ce(null,{useWorker:!0,resize:!0})),me}function X(Y,z,Q,ue,ge,pe,Ne){var Ae=new Path2D(Y),Le=new Path2D;Le.addPath(Ae,new DOMMatrix(z));var ae=new Path2D;return ae.addPath(Le,new DOMMatrix([Math.cos(Ne)*ge,Math.sin(Ne)*ge,-Math.sin(Ne)*pe,Math.cos(Ne)*pe,Q,ue])),ae}function se(Y){if(!o)throw new Error("path confetti are not supported in this browser");var z,Q;typeof Y=="string"?z=Y:(z=Y.path,Q=Y.matrix);var ue=new Path2D(z),ge=document.createElement("canvas"),pe=ge.getContext("2d");if(!Q){for(var Ne=1e3,Ae=Ne,Le=Ne,ae=0,Re=0,Ie,K,ee=0;ee<Ne;ee+=2)for(var ne=0;ne<Ne;ne+=2)pe.isPointInPath(ue,ee,ne,"nonzero")&&(Ae=Math.min(Ae,ee),Le=Math.min(Le,ne),ae=Math.max(ae,ee),Re=Math.max(Re,ne));Ie=ae-Ae,K=Re-Le;var Ee=10,Ue=Math.min(Ee/Ie,Ee/K);Q=[Ue,0,0,Ue,-Math.round(Ie/2+Ae)*Ue,-Math.round(K/2+Le)*Ue]}return{type:"path",path:z,matrix:Q}}function be(Y){var z,Q=1,ue="#000000",ge='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Y=="string"?z=Y:(z=Y.text,Q="scalar"in Y?Y.scalar:Q,ge="fontFamily"in Y?Y.fontFamily:ge,ue="color"in Y?Y.color:ue);var pe=10*Q,Ne=""+pe+"px "+ge,Ae=new OffscreenCanvas(pe,pe),Le=Ae.getContext("2d");Le.font=Ne;var ae=Le.measureText(z),Re=Math.ceil(ae.actualBoundingBoxRight+ae.actualBoundingBoxLeft),Ie=Math.ceil(ae.actualBoundingBoxAscent+ae.actualBoundingBoxDescent),K=2,ee=ae.actualBoundingBoxLeft+K,ne=ae.actualBoundingBoxAscent+K;Re+=K+K,Ie+=K+K,Ae=new OffscreenCanvas(Re,Ie),Le=Ae.getContext("2d"),Le.font=Ne,Le.fillStyle=ue,Le.fillText(z,ee,ne);var Ee=1/Q;return{type:"bitmap",bitmap:Ae.transferToImageBitmap(),matrix:[Ee,0,0,Ee,-Re*Ee/2,-Ie*Ee/2]}}n.exports=function(){return G().apply(this,arguments)},n.exports.reset=function(){G().reset()},n.exports.create=ce,n.exports.shapeFromPath=se,n.exports.shapeFromText=be})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),dg,!1);const oke=dg.exports;dg.exports.create;const lke={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},cke={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},zq={"Foster Psychological Safety":{gradient:"from-slate-600 to-slate-700",icon:Au},"Establish Prosocial Norms":{gradient:"from-blue-600 to-blue-700",icon:ui},"Build Trust":{gradient:"from-emerald-600 to-emerald-700",icon:Hie},"Promote Inclusion":{gradient:"from-amber-600 to-amber-700",icon:Gie},"Encourage Growth Mindset":{gradient:"from-indigo-600 to-indigo-700",icon:KU},"Develop Empathy":{gradient:"from-rose-600 to-rose-700",icon:RE},"Strengthen Communication":{gradient:"from-cyan-600 to-cyan-700",icon:rae},"Foster Collaboration":{gradient:"from-teal-600 to-teal-700",icon:Kae}},uke=t=>zq[t]?.gradient||"from-slate-500 to-slate-600",dke=()=>{const t=Vi(),{user:e,logout:n}=Ar(),[r,i]=x.useState([]),[a,o]=x.useState(!0),{enrollments:u,isLoading:d}=rke(e?.id||""),[h,m]=x.useState(!1),[g,y]=x.useState("All"),[b,j]=x.useState(!1),[E,A]=x.useState("all"),[T,O]=x.useState({}),[C,U]=x.useState(""),[B,$]=x.useState({}),[N,k]=x.useState(null),[I,L]=x.useState(null),[V,q]=x.useState(null),[M,ce]=x.useState({}),[me,G]=x.useState({}),[X,se]=x.useState(0),be=x.useRef({}),[Y,z]=x.useState(null),Q=x.useRef(null),ue=x.useRef(null);x.useEffect(()=>{const ye=Ce=>{(Ce.metaKey||Ce.ctrlKey)&&Ce.key==="k"&&(Ce.preventDefault(),ue.current?.focus())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[]);const{responses:ge}=Lq(N||"",e?.id||""),pe=()=>{L(null),k(null),se(0)},Ne=tN.useCallback(async()=>{if(e){o(!0);try{const ye=await xU(e.organization,e.department,e.id,e.cohortIds);i(ye)}catch(ye){console.error("Failed to load campaigns:",ye)}finally{o(!1)}}},[e?.organization,e?.department,e?.id,e?.cohortIds]);x.useEffect(()=>{Ne()},[Ne]),x.useEffect(()=>()=>{Q.current&&(window.clearTimeout(Q.current),Q.current=null)},[]);const Ae=async(ye,Ce,We,He)=>{if(!(!e||!He))try{await OS(ye,e.id,Ce,e.organization||"",We,He)}catch(Se){console.error("Failed to record video watch progress:",Se)}},Le=async(ye,Ce,We,He,Se,$e)=>{if(e)try{$e&&He!==void 0&&Se!==void 0&&await Ae(ye,$e,He,Se),await PS(ye,e.id,Ce,{questionTarget:We,watchedDuration:He,totalDuration:Se}),oke({particleCount:100,spread:70,origin:{y:.6}})}catch(lt){console.error("Failed to mark video as finished:",lt)}},ae=async(ye,Ce,We,He)=>{if(e)try{const Se=V?.questions||[],lt=Object.entries(He).filter(([tt])=>!ge[tt]).map(async([tt,Rn])=>{const Ke=Se.find(wt=>(wt.id||`q-${Se.indexOf(wt)}`)===tt);await RS(ye,Ce,tt,e.id,e.organization||"",Rn,{questionType:Ke?.type||"text",questionText:Ke?.text||"Question"}),await IS(ye,e.id,We,Se.length,1,tt)});await Promise.all(lt),z(ye),setTimeout(()=>{L(null)},500)}catch(Se){console.error("Failed to submit answers:",Se)}},Ie=x.useMemo(()=>r.map(ye=>({id:ye.id,title:ye.title,description:ye.description,duration:`${ye.items.length} videos`,competencies:ye.metadata.tags||[ye.skillFocus],totalVideos:ye.items.length,source:ye.source||"organization",items:ye.items,endDate:ye.schedule?.endDate})),[r]),K=x.useMemo(()=>{const ye=new Set;return Ie.forEach(Ce=>{Ce.competencies.forEach(We=>{We&&ye.add(We)})}),["All",...Array.from(ye)]},[Ie]),ee=x.useMemo(()=>[{label:"All Sources",value:"all",icon:Bie},{label:"Your Org",value:"organization",icon:Oi},{label:"DI Code",value:"dicode",icon:DE}],[]),ne=x.useMemo(()=>Ie.map(ye=>{const Ce=u.find(lt=>lt.campaignId===ye.id);let We=0,He=!1,Se=0,$e="not-started";if(Ce){$e=Ce.status;const lt=Ce.completedModules??Object.values(Ce.moduleProgress||{}).filter(tt=>tt.completed).length;We=ye.totalVideos===0?0:Math.round(lt/ye.totalVideos*100),He=ye.totalVideos>0&&We===100,Se=lt}return{...ye,completionPercentage:We,completed:He,status:$e,nextVideoIndex:Se}}),[Ie,u]);x.useEffect(()=>{K.includes(g)||y("All")},[K,g]),x.useEffect(()=>{z(null)},[N]),x.useEffect(()=>{const ye=async()=>{const Ce={},We={},He={};for(const Se of ne)if(Se.items){let $e=0;for(const lt of Se.items)if(lt.videoId)try{const tt=await mf(lt.videoId);if(tt){He[lt.videoId]=tt;const Rn=tt.duration||0,Ke=Array.isArray(tt.questions)?tt.questions.length:0;$e+=Rn+Ke*60,Se.status==="in-progress"&&!Se.completed&&Se.items[Se.nextVideoIndex]?.videoId===lt.videoId&&tt.thumbnailUrl&&(Ce[Se.id]=tt.thumbnailUrl)}}catch(tt){console.error(`Failed to fetch video data for ${lt.videoId}:`,tt)}We[Se.id]=$e}O(Ce),$(We),G(He)};ne.length>0&&ye()},[ne]),x.useEffect(()=>{(async()=>{if(!I||!N){q(null),ce({});return}try{const Ce=await mf(I);console.log("Fetched video data:",Ce),console.log("Video has questions:",Ce?.questions),q(Ce);const We={};Ce?.questions&&Array.isArray(Ce.questions)&&Ce.questions.forEach((He,Se)=>{const $e=He.id||`q-${Se}`,lt=ge[$e];lt&&(We[$e]=lt.answer)}),ce(We)}catch(Ce){console.error("Failed to fetch video:",Ce),q(null),ce({})}})()},[I,N,ge]);const Ee=x.useMemo(()=>{let ye=ne;if(g!=="All"&&(ye=ye.filter(Ce=>Ce.competencies.includes(g))),b&&(ye=ye.filter(Ce=>Ce.status==="in-progress")),E!=="all"&&(ye=ye.filter(Ce=>E==="organization"?Ce.source==="organization":Ce.source!=="organization")),C.trim()){const Ce=C.toLowerCase();ye=ye.filter(We=>We.title.toLowerCase().includes(Ce)||We.description.toLowerCase().includes(Ce)||We.competencies.some(He=>He.toLowerCase().includes(Ce)))}return ye},[ne,g,C,b,E]),Ue=x.useMemo(()=>Ee.filter(ye=>ye.status==="in-progress"&&!ye.completed),[Ee]);x.useEffect(()=>{const ye=Ce=>{if(!(Ce.target instanceof HTMLInputElement||Ce.target instanceof HTMLTextAreaElement)&&(Ce.key==="ArrowUp"||Ce.key==="ArrowDown")){Ce.preventDefault();const We=Ee;if(We.length===0)return;const He=We.findIndex($e=>$e.id===N);let Se=0;Ce.key==="ArrowDown"?Se=He===-1?0:Math.min(He+1,We.length-1):Se=He===-1?We.length-1:Math.max(He-1,0),k(We[Se].id)}};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[Ee,N]);const Qe=x.useMemo(()=>new Set(Ue.map(ye=>ye.id)),[Ue]),bt=x.useMemo(()=>Ee.filter(ye=>ye.source==="organization"&&!Qe.has(ye.id)),[Ee,Qe]),Je=x.useMemo(()=>Ee.filter(ye=>ye.source!=="organization"&&!Qe.has(ye.id)),[Ee,Qe]),et=[{title:"In Progress",data:Ue,layout:"carousel"},{title:"Your Organization",data:bt,layout:"grid"},{title:"DI Code Collections",data:Je,layout:"grid"}].filter(ye=>ye.data.length>0),kr=(ye,Ce=!1)=>{const We=typeof window<"u"?window.innerWidth>=1024:!1;if(Ce||!We){t(`/employee/campaign/${ye}`);return}k(ye),L(null)},$a=(ye,Ce=!1,We=!1)=>{const He=Ce,Se=uke(ye.competencies[0]||""),$e=T[ye.id],lt=vt=>{if(!vt)return null;const Yt=new Date(vt),ft=Yt.getDate(),pr=Yt.toLocaleDateString("en-US",{month:"short"}).toUpperCase();return{day:ft,month:pr}},tt=ye.source==="organization"?lt(ye.endDate):null,Rn=B[ye.id]||0,Ke=Math.ceil(Rn/60),wt=Ke>0?`${Ke} mins`:"";return l.jsxs(Ni.div,{layout:!0,variants:cke,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>kr(ye.id,We),className:"relative overflow-hidden rounded-3xl border border-white/10 p-4 hover:border-white/30 transition-colors cursor-pointer",children:[He&&$e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${$e})`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-black/30"})]}):l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${Se}`}),l.jsx("div",{className:"relative z-10",children:He?l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/50 mb-1",children:"In Progress"}),l.jsx("h3",{className:"text-white text-lg font-semibold truncate",children:ye.title}),l.jsx("p",{className:"text-white/60 text-sm mt-1",children:ye.competencies[0]})]}),l.jsx(Ld,{size:18,className:"text-white/70"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-2",children:[l.jsx("span",{children:"Completion"}),l.jsxs("span",{children:[ye.completionPercentage,"%"]})]}),l.jsx("div",{className:"h-2 rounded-full bg-white/15 overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-white",style:{width:`${ye.completionPercentage}%`}})})]})]}):l.jsxs("div",{className:"flex gap-4",children:[tt?l.jsxs("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${Se} flex flex-col items-center justify-center flex-shrink-0`,children:[l.jsx("div",{className:"text-2xl font-bold text-white leading-none",children:tt.day}),l.jsx("div",{className:"text-[10px] font-semibold text-white/80 leading-none mt-0.5",children:tt.month})]}):l.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${Se} flex items-center justify-center flex-shrink-0`,children:l.jsx(Zc,{size:20,className:"text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/40",children:ye.source==="organization"?"Org Campaign":"DI Code"}),l.jsx("h3",{className:"text-white text-lg font-semibold truncate",children:ye.title}),l.jsx("p",{className:"text-white/50 text-sm",children:ye.competencies[0]}),l.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-white/60",children:[ye.totalVideos>0&&l.jsxs("span",{children:[ye.totalVideos," ",ye.totalVideos===1?"module":"modules"]}),wt&&l.jsxs(l.Fragment,{children:[ye.totalVideos>0&&l.jsx("span",{children:""}),l.jsx("span",{children:wt})]})]})]}),l.jsx("div",{className:"flex items-center justify-center text-white/20 group-hover:text-primary transition-colors",children:l.jsx(Ld,{size:24})})]})})]},ye.id)},ps=()=>a||d?l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 py-6",children:l.jsx("div",{className:"space-y-8",children:[1,2].map(ye=>l.jsxs("div",{className:"space-y-4",children:[l.jsx(Qc,{className:"h-8 w-48 bg-white/10"}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3,4].map(Ce=>l.jsx("div",{className:"bg-[#090909] rounded-2xl border border-white/5 p-4 space-y-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Qc,{className:"w-24 h-16 rounded-lg flex-shrink-0"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Qc,{className:"h-4 w-3/4"}),l.jsx(Qc,{className:"h-3 w-1/2"})]})]})},Ce))})]},ye))})}):et.length?l.jsxs(Ni.div,{variants:lke,initial:"hidden",animate:"visible",className:"flex-1 overflow-y-auto custom-scrollbar pr-4 py-6",children:[Ue.length>0&&!C&&!g&&E==="all"&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-[#090909] border border-white/10 p-6 md:p-8",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20 opacity-50"}),l.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[l.jsxs("div",{className:"space-y-2 max-w-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-xs font-bold uppercase tracking-wider",children:[l.jsx(ZR,{size:14}),l.jsx("span",{children:"Continue Learning"})]}),l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:Ue[0].title}),l.jsx("p",{className:"text-white/60 line-clamp-1",children:Ue[0].description}),l.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[l.jsx("div",{className:"flex-1 max-w-xs h-2 rounded-full bg-white/10 overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Ue[0].completionPercentage}%`}})}),l.jsxs("span",{className:"text-sm text-white/60",children:[Ue[0].completionPercentage,"% complete"]})]})]}),l.jsxs("button",{onClick:()=>k(Ue[0].id),className:"flex-shrink-0 flex items-center gap-2 px-6 py-3 rounded-full bg-white text-black font-bold hover:bg-white/90 transition-all active:scale-95",children:[l.jsx(_o,{size:18,fill:"currentColor"}),l.jsx("span",{children:"Jump back in"})]})]})]})}),l.jsx("div",{className:"space-y-8",children:et.map(ye=>{const Ce=ye.layout==="carousel";return l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-white text-lg font-semibold",children:ye.title})}),l.jsx(Ni.div,{layout:!0,className:Ce?"flex gap-6 overflow-x-auto overflow-visible scrollbar-hide pb-2":"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:ye.data.map(We=>l.jsx("div",{className:Ce?"min-w-[320px] flex-shrink-0":"",children:$a(We,Ce)},We.id))})]},ye.title)})})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center text-center px-8",children:l.jsxs("div",{children:[l.jsx(Zc,{size:48,className:"text-white/20 mx-auto mb-4"}),l.jsx("h3",{className:"text-white text-2xl font-semibold mb-2",children:"No campaigns available"}),l.jsx("p",{className:"text-white/60",children:"Adjust your filters or check back later for new learning programs."})]})}),Sn=()=>{if(!et.length){let ye="No campaigns found",Ce="Try adjusting your filters to see more results.";return C?(ye=`No results for "${C}"`,Ce="Check your spelling or try a different search term."):b?(ye="No campaigns in progress",Ce='Start a new campaign from the "All" view to see it here.'):E!=="all"?(ye=`No ${E} campaigns`,Ce="Try selecting a different source filter."):g&&(ye=`No campaigns for ${g}`,Ce="Try selecting a different competency to see other learning paths."),l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:l.jsx(jo,{size:32,className:"text-white/40"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:ye}),l.jsx("p",{className:"text-white/60 max-w-md mx-auto",children:Ce}),(C||b||E!=="all"||g)&&l.jsx("button",{onClick:()=>{U(""),j(!1),A("all"),y("")},className:"mt-6 px-6 py-2.5 rounded-full bg-white text-black font-semibold text-sm hover:bg-white/90 transition-colors",children:"Clear all filters"})]})}return et.map(ye=>{const Ce=ye.layout==="carousel";return l.jsxs("div",{className:"space-y-3",children:[ye.title!=="In Progress"&&l.jsx(fke,{title:ye.title}),l.jsx("div",{className:Ce?"flex gap-4 overflow-x-auto overflow-visible scrollbar-hide -mx-4 px-4":"grid gap-4 md:grid-cols-2",children:ye.data.map(We=>l.jsx("div",{className:Ce?"min-w-[280px] flex-shrink-0":"",children:$a(We,Ce,!0)},We.id))})]},ye.title)})},sr=()=>{const ye=ne.length>0,Ce=Se=>`w-full flex items-center gap-3 px-3 py-2 rounded-2xl transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[#090909] ${Se?"bg-white/15 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,We=ye?l.jsx("div",{className:"w-64 flex-shrink-0 sticky top-2 self-start pl-2",children:l.jsxs("nav",{className:"space-y-6 text-white",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-white/40",children:"Competencies"}),l.jsx("div",{className:"mt-3 space-y-1",children:K.map(Se=>{const $e=g===Se,lt=zq[Se]?.icon||Au;return l.jsxs("button",{onClick:()=>{y(Se),pe()},className:Ce($e),children:[l.jsx(lt,{size:16,className:$e?"text-white":"text-white/40"}),l.jsx("span",{className:`truncate text-sm font-medium ${$e?"text-white":"text-white/60"}`,children:Se||"Unnamed"})]},Se)})})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-white/40",children:"Status"}),l.jsx("div",{className:"mt-3 space-y-1",children:l.jsxs("button",{onClick:()=>{j(Se=>!Se),pe()},className:Ce(b),children:[l.jsx(ZR,{size:16,className:b?"text-white":"text-white/40"}),l.jsx("span",{className:`text-sm font-medium ${b?"text-white":"text-white/60"}`,children:"In Progress"})]})})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-white/40",children:"Source"}),l.jsx("div",{className:"mt-3 space-y-1",children:ee.map(Se=>{const $e=E===Se.value,lt=Se.icon;return l.jsxs("button",{onClick:()=>{A(Se.value),pe()},className:Ce($e),children:[l.jsx(lt,{size:16,className:$e?"text-white":"text-white/40"}),l.jsx("span",{className:`text-sm font-medium ${$e?"text-white":"text-white/60"}`,children:Se.label})]},Se.value)})})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-white/40",children:"Assistant"}),l.jsx("div",{className:"mt-3",children:l.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center gap-3 px-4 py-2.5 rounded-2xl bg-white/5 text-sm font-semibold text-white hover:bg-white/10 transition-all",children:[l.jsx(nie,{size:18,className:"text-white"}),l.jsx("span",{children:"DiCode Copilot"})]})})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-white/40",children:"Account"}),l.jsx("div",{className:"mt-3",children:l.jsxs("button",{onClick:()=>n(),className:Ce(!1),children:[l.jsx(ax,{size:16,className:"text-white/40"}),l.jsx("span",{className:"truncate text-sm font-medium text-white/60",children:"Log Out"})]})})]})]})}):null;if(!N){const Se=ps();return We?l.jsx(Wc,{mode:"wait",children:l.jsx(Ni.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 bg-[#090909] rounded-3xl border border-white/5 p-4 overflow-hidden",children:l.jsxs("div",{className:"h-full flex gap-6 overflow-hidden",children:[We,Se]})},"feed-with-sidebar")}):l.jsx(Wc,{mode:"wait",children:l.jsx(Ni.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 bg-[#090909] rounded-3xl border border-white/5 p-4 overflow-hidden",children:Se},"feed-no-sidebar")})}const He=(()=>{if(Y===N)return l.jsxs(Ni.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"flex-1 bg-[#090909] rounded-3xl border border-white/5 overflow-hidden p-4 flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Peer comparison"}),l.jsx("h3",{className:"text-white text-lg font-semibold",children:"See how your answers stack up"})]}),l.jsx("button",{onClick:()=>z(null),className:"inline-flex items-center gap-2 px-3 h-10 rounded-full bg-white/10 text-white font-medium hover:bg-white/20 transition-colors",children:"Back to modules"})]}),l.jsx(Vq,{campaignIdOverride:N,embedded:!0})]},"peer-comparison");if(I&&V){const Se=V.questions&&Array.isArray(V.questions)&&V.questions.length>0?V.questions:me[I]?.questions&&Array.isArray(me[I].questions)?me[I].questions:[],$e=Se.length,lt=Ke=>{if(!I)return;const wt=Ke.currentTarget.currentTime||0;be.current[I]=Math.max(be.current[I]||0,wt)},tt=Ke=>Ke.text||Ke.statement||Ke.question||"Untitled Question",Rn=(Ke,wt)=>{const vt=(Ke.type||"").toLowerCase();return wt<2&&!vt?"scale":vt.includes("choice")||vt.includes("select")||Ke.options?.length?"multiple-choice":vt.includes("scale")||vt.includes("likert")||Ke.scaleMax||wt<2?"scale":"text"};return l.jsxs(Ni.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col space-y-1 overflow-hidden",children:[l.jsx("div",{className:"space-y-1 flex-shrink-0",children:l.jsx("div",{className:"relative aspect-video bg-black rounded-3xl overflow-hidden",children:V.storageUrl?l.jsx("video",{src:V.storageUrl,controls:!0,className:"w-full h-full object-contain bg-black",poster:V.thumbnailUrl,onTimeUpdate:lt,onEnded:Ke=>{if(N&&I){const vt=r.find(Yt=>Yt.id===N)?.items.find(Yt=>Yt.videoId===I);if(vt){const Yt=Ke.currentTarget.duration||V?.duration||0,ft=Math.max(be.current[I]||0,Ke.currentTarget.currentTime||0);Le(N,vt.id,$e,ft,Yt,I),$e===0&&z(N)}}},children:"Your browser does not support the video tag."}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_o,{size:64,className:"text-white/20 mx-auto mb-4"}),l.jsx("p",{className:"text-white/40",children:"Video not available"})]})})})}),Se.length>0&&l.jsxs("div",{className:"rounded-3xl p-6 space-y-6 flex-1 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-white text-xl font-bold",children:["Question ",X+1," of ",Se.length]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>{X>0?se(Ke=>Ke-1):L(null)},className:"flex items-center gap-2 px-4 h-10 rounded-full bg-white/10 text-white font-medium hover:bg-white/15 transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[#090909]",title:X===0?"Back to modules":"Previous",children:[l.jsx(FU,{size:18}),l.jsx("span",{className:"uppercase tracking-wide text-xs",children:X===0?"Back":"Previous"})]}),X<Se.length-1?l.jsxs("button",{onClick:()=>se(Ke=>Ke+1),disabled:(()=>{const Ke=Se[X];return Ke.isRequired&&!M[Ke.id||`q-${X}`]})(),className:"flex items-center gap-2 px-4 h-10 rounded-full bg-white text-black font-semibold uppercase tracking-wide text-xs hover:bg-white/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-white/40 focus-visible:ring-offset-2 focus-visible:ring-offset-[#090909]",children:[l.jsx("span",{children:"Next"}),l.jsx(nx,{size:18})]}):l.jsxs("button",{onClick:()=>{if(N&&I){const wt=r.find(vt=>vt.id===N)?.items.find(vt=>vt.videoId===I);wt&&ae(N,I,wt.id,M)}},disabled:Se.some(Ke=>Ke.isRequired&&!M[Ke.id||`q-${Se.indexOf(Ke)}`]),className:"flex items-center gap-2 px-4 h-10 rounded-full bg-white text-black font-semibold uppercase tracking-wide text-xs hover:bg-white/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus-visible:ring-2 focus-visible:ring-white/40 focus-visible:ring-offset-2 focus-visible:ring-offset-[#090909]",children:[l.jsx("span",{children:"Submit"}),l.jsx(nx,{size:18})]})]})]}),l.jsx("div",{className:"w-full h-px bg-white/10 rounded-full mb-6",children:l.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${(X+1)/Se.length*100}%`}})})]}),(()=>{const Ke=Se[X],wt=Ke.id||`q-${X}`,vt=ge[wt],Yt=!!vt,ft=M[wt],pr=tt(Ke),Gn=!!vt,Dn=Rn(Ke,X);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-white text-sm font-semibold",children:X+1})}),l.jsx("div",{className:"flex-1 flex items-start gap-2",children:l.jsxs("h4",{className:"text-white font-semibold text-lg flex items-center gap-2",children:[pr," ",Ke.isRequired&&l.jsx("span",{className:"text-red-400",children:"*"}),Gn&&l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-2 py-1 text-xs text-white/70",children:[l.jsx(di,{size:12}),"Answered"]})]})})]}),Dn==="multiple-choice"&&Ke.options&&l.jsx("div",{className:`space-y-2 ml-11 ${Gn?"opacity-50":""}`,children:Ke.options.map((qt,Tn)=>l.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all ${ft===qt?"bg-white/15 border-2 border-white/30":"bg-white/5 border-2 border-transparent hover:bg-white/10"}`,children:[l.jsx("input",{type:"radio",name:wt,value:qt,checked:ft===qt,disabled:Yt,onChange:Bt=>{Yt||ce(zn=>({...zn,[wt]:Bt.target.value}))},className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"text-white text-sm",children:qt})]},Tn))}),Dn==="scale"&&l.jsxs("div",{className:`ml-11 ${Gn?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-white/60 text-xs",children:Ke.scaleMin||1}),l.jsx("span",{className:"text-white/60 text-xs",children:Ke.scaleMax||5})]}),l.jsx("div",{className:"flex gap-2",children:Array.from({length:(Ke.scaleMax||5)-(Ke.scaleMin||1)+1},(qt,Tn)=>{const Bt=(Ke.scaleMin||1)+Tn;return l.jsx("button",{disabled:Yt,onClick:()=>{Yt||(ce(zn=>({...zn,[wt]:Bt})),X<Se.length-1&&(Q.current&&window.clearTimeout(Q.current),Q.current=window.setTimeout(()=>{se(zn=>Math.min(zn+1,Se.length-1)),Q.current=null},400)))},className:`flex-1 py-3 rounded-xl font-semibold transition-all ${ft===Bt?"bg-white text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:Bt},Bt)})})]}),Dn==="text"&&l.jsx("div",{className:`ml-11 ${Gn?"opacity-50":""}`,children:l.jsx("textarea",{value:ft||"",onChange:qt=>{Yt||ce(Tn=>({...Tn,[wt]:qt.target.value}))},placeholder:"Type your answer here...",rows:4,disabled:Yt,className:"w-full p-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 resize-none"})})]},wt)})()]})]},"video-module")}return l.jsx(Ni.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"flex-1 flex items-end justify-center text-center px-6 pb-10",children:(()=>{const Se=N?r.find(wt=>wt.id===N):null,$e=Se&&B[N]||0,lt=$e>0?Math.ceil($e/60):null,tt=Se?.schedule?.endDate?new Date(Se.schedule.endDate):null,Rn=tt?tt.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"No end date",Ke=Se?.items?.length??0;return l.jsxs("div",{className:"relative max-w-5xl w-full overflow-hidden min-h-[82vh] flex items-end bg-transparent rounded-[32px]",children:[(()=>{const wt=Se?.items?.[0]?.videoId,vt=wt&&me[wt]?.thumbnailUrl||(N?T[N]:void 0);return vt?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-xl scale-110 opacity-50 pointer-events-none",style:{backgroundImage:`url(${vt})`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/50 to-black/65 pointer-events-none"})]}):l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/50 to-black/65 pointer-events-none"})})(),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsx(Zc,{size:96,className:"text-white/10"})}),l.jsxs("div",{className:"relative p-10 md:p-14 space-y-5 text-left w-full",children:[l.jsxs("div",{className:"flex items-center gap-3 text-white/70 text-xs uppercase tracking-[0.35em]",children:[l.jsx(Zc,{size:18}),l.jsx("span",{children:N?"Campaign ready":"Select a campaign to begin"})]}),l.jsx("h3",{className:"text-white text-4xl md:text-5xl font-semibold leading-tight",children:Se?.title||"Pick a module to begin"}),Se?.description&&l.jsx("p",{className:"text-white/70 text-base md:text-lg leading-relaxed max-w-3xl",children:Se.description}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs md:text-sm text-white/70",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5",children:[l.jsx("span",{className:"text-white/60",children:"End date"}),l.jsx("span",{className:"text-white",children:Rn})]}),lt!==null&&l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5",children:[l.jsx("span",{className:"text-white/60",children:"Est. time"}),l.jsxs("span",{className:"text-white",children:[lt," min"]})]}),Ke>0&&l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1.5",children:[l.jsx("span",{className:"text-white/60",children:"Modules"}),l.jsx("span",{className:"text-white",children:Ke})]})]}),l.jsx("div",{className:"pt-2",children:l.jsx("p",{className:"text-white/80 text-sm md:text-base font-medium",children:N?"Choose a module from the sidebar to load its video lesson and assessment.":"Choose a campaign from the sidebar to see its modules and start learning."})})]})]})})()},"campaign-details")})();return We?l.jsx(Wc,{mode:"wait",children:l.jsx(Ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex-1 bg-[#090909] rounded-3xl border border-white/5 p-4 overflow-hidden",children:l.jsxs("div",{className:"h-full flex gap-4 overflow-hidden",children:[We,l.jsx(Wc,{mode:"wait",children:He})]})},"split-view-with-sidebar")}):l.jsx(Wc,{mode:"wait",children:l.jsx(Ni.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex-1 bg-[#090909] rounded-3xl border border-white/5 p-4 overflow-hidden",children:l.jsx(Wc,{mode:"wait",children:He})},"split-view-no-sidebar")})},sa=()=>{const ye=l.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4].map(He=>l.jsx("div",{className:"rounded-2xl border border-white/5 p-4 space-y-3",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Qc,{className:"w-12 h-12 rounded-lg"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Qc,{className:"h-4 w-24"}),l.jsx(Qc,{className:"h-3 w-32"})]})]})},He))}),Ce=l.jsx("div",{className:"p-6 text-center text-white/50 text-sm",children:"No campaigns match your filters yet."}),We=()=>a||d?ye:Ee.length===0?Ce:l.jsx("div",{className:"p-4 space-y-4",children:Ee.map(He=>{const Se=N===He.id,$e=T[He.id],lt=r.find(qt=>qt.id===He.id);if(!lt)return null;const tt=u.find(qt=>qt.campaignId===He.id),Rn=tt?.moduleProgress||{},Ke=tt?.completedModules??Object.values(Rn).filter(qt=>qt.completed).length,wt=He.totalVideos===0?0:Math.round(Ke/He.totalVideos*100),vt=Object.keys(Rn).length>0||tt?.status==="in-progress"||tt?.status==="completed",Yt=He.totalVideos>0&&Ke>=He.totalVideos,ft=lt.items.findIndex(qt=>!Rn[qt.id]?.completed),pr=B[He.id]||0,Gn=Math.ceil(pr/60),Dn=He.completionPercentage>0;return l.jsx(Ni.div,{layout:!0,className:"overflow-hidden rounded-3xl",children:l.jsx(Wc,{mode:"wait",initial:!1,children:Se?l.jsxs(Ni.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"space-y-4",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl text-white shadow-2xl",children:[$e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${$e})`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1324] via-[#0b1324]/80 to-transparent"})]}):l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0b1324] via-[#152b55] to-[#1d4ed8]"}),l.jsx("div",{className:"absolute inset-0 opacity-40 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.7),_transparent_60%)] pointer-events-none"}),l.jsxs("div",{className:"relative p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-white/60 mb-2",children:"Campaign"}),l.jsx("h2",{className:"text-2xl font-semibold leading-tight",children:He.title})]}),l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex items-baseline justify-between text-white gap-4",children:[l.jsx("p",{className:"text-sm text-white/70",children:Yt?"Completed":vt?"In progress":"Not started"}),vt&&l.jsxs("span",{className:"text-2xl font-semibold",children:[wt,"%"]})]}),vt&&l.jsx("div",{className:"mt-3 h-2 rounded-full bg-white/20 overflow-hidden w-full",children:l.jsx("div",{className:"h-full rounded-full bg-white",style:{width:`${wt}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-4 text-white/80",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium uppercase tracking-[0.3em]",children:[l.jsx(Zc,{size:16}),l.jsx("span",{className:"text-white",children:He.totalVideos})]}),Gn>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium uppercase tracking-[0.3em]",children:[l.jsx(qU,{size:16}),l.jsxs("span",{className:"text-white",children:[Gn," mins"]})]})]})]})]}),l.jsx(Ni.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},className:"space-y-1 pl-2",children:lt.items.map((qt,Tn)=>{const Bt=Rn[qt.id],zn=!!Bt?.completed,or=me[qt.videoId],Cr=or?.title||`Module ${Tn+1}`,oa=or?.description||"Video Lesson",qa=or?.questions?Array.isArray(or.questions)?or.questions.length:0:3,ri=`${or?.duration?Math.ceil(or.duration/60)+qa:5+qa} mins`,la=Bt?((Bt.videoFinished?1:0)+Math.min(Bt.questionsAnswered,Bt.questionTarget))/(Bt.questionTarget+1):0,Hr=Math.round(la*100),Pr=!zn&&ft===Tn&&!Yt,gn=!zn&&ft!==-1&&Tn>ft,kt=I===qt.videoId,Ir=()=>l.jsxs("div",{className:"relative w-10 h-10",children:[l.jsxs("svg",{className:"transform -rotate-90",viewBox:"0 0 36 36",children:[l.jsx("path",{className:kt?"text-black/10":"text-white/20",strokeWidth:"4",stroke:"currentColor",fill:"none",strokeLinecap:"round",d:`M18 2.0845
                                     a 15.9155 15.9155 0 0 1 0 31.831
                                     a 15.9155 15.9155 0 0 1 0 -31.831`}),l.jsx("path",{className:kt?"text-black":"text-white",strokeWidth:"4",strokeDasharray:`${Hr}, 100`,stroke:"currentColor",fill:"none",strokeLinecap:"round",d:`M18 2.0845
                                     a 15.9155 15.9155 0 0 1 0 31.831
                                     a 15.9155 15.9155 0 0 1 0 -31.831`})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:`text-xs font-semibold ${kt?"text-black":"text-white"}`,children:[Hr,"%"]})})]});return Pr?l.jsx("div",{onClick:()=>L(qt.videoId),className:`border rounded-3xl p-5 cursor-pointer active:scale-[0.98] transition-all ${kt?"bg-white border-white text-black shadow-lg scale-[1.02]":"bg-white/10 border-white/20 text-white hover:bg-white/15"}`,children:l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${kt?"bg-black/10 text-black":"bg-white/10 text-white"}`,children:Tn+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-xs uppercase tracking-[0.3em] mb-1 ${kt?"text-black/50":"text-white/50"}`,children:"In Progress"}),l.jsx("h3",{className:"text-lg font-semibold truncate",children:Cr}),l.jsxs("p",{className:`text-sm truncate ${kt?"text-black/60":"text-white/60"}`,children:[oa,"  ",ri]})]}),l.jsx(Ir,{})]})},qt.id):l.jsxs("div",{onClick:()=>!gn&&L(qt.videoId),className:`py-4 flex items-center justify-between gap-4 px-4 rounded-xl transition-all ${kt?"bg-white text-black shadow-lg scale-[1.02]":`${zn?"text-white":"text-white/60"} ${gn?"cursor-not-allowed":"cursor-pointer hover:bg-white/5 active:scale-[0.98]"} ${Tn%2===0?"bg-white/5":"bg-transparent"}`}`,children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold ${kt?"bg-black/10 text-black":"bg-white/10 text-white"}`,children:Tn+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:`text-sm font-semibold truncate ${kt?"text-black":"text-white"}`,children:Cr}),l.jsxs("p",{className:`text-xs truncate ${kt?"text-black/40":"text-white/40"}`,children:[oa,"  ",ri]})]})]}),l.jsx("div",{className:"flex-shrink-0",children:zn?l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${kt?"bg-green-600 text-white":"bg-green-500 text-white"}`,children:l.jsx(di,{size:18})}):l.jsx(Ir,{})})]},qt.id)})})]},"expanded"):l.jsxs(Ni.button,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},onClick:()=>{k(He.id),L(null),z(null)},className:"relative overflow-hidden rounded-2xl border border-white/10 bg-transparent p-4 hover:border-white/30 active:scale-[0.98] transition-all cursor-pointer w-full text-left block",children:[$e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-40",style:{backgroundImage:`url(${$e})`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0b1324] via-[#0b1324]/80 to-transparent"})]}):l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0b1324] via-[#152b55] to-[#1d4ed8]"}),l.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-white/60 mb-1",children:"Campaign"}),l.jsx("h2",{className:"text-lg font-semibold text-white leading-tight",children:He.title})]}),l.jsx("div",{className:"flex-shrink-0",children:Dn&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs text-white/60 mb-1.5",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[He.completionPercentage,"%"]})]}),l.jsx("div",{className:"h-1.5 rounded-full bg-white/15 overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-white",style:{width:`${He.completionPercentage}%`}})})]})})]})]},"collapsed")})},He.id)})});return l.jsx("div",{className:"w-96 flex flex-col",children:l.jsx("div",{className:"flex-1 overflow-y-auto",children:We()})})},Fa=()=>l.jsxs("div",{className:"min-h-screen bg-[#050608] flex flex-col lg:hidden",children:[l.jsxs("div",{className:"employee-header pt-6 px-6 pb-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-0 relative",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:"/dicode_logo.png",alt:"DiCode",className:"h-16 w-auto"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-white/60",children:["Hello, ",e?.name.split(" ")[0]]}),l.jsx("h1",{className:"text-2xl font-semibold text-white leading-tight",children:"Your Campaigns"})]})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("button",{onClick:()=>t("/employee/profile"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:[l.jsx("span",{className:"sr-only",children:"Open profile menu"}),l.jsx(nD,{size:24,className:"text-white"})]})})]}),Ie.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative mb-3",children:[l.jsx(jo,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40"}),l.jsx("input",{ref:ue,type:"text",value:C,onChange:ye=>{U(ye.target.value),pe()},placeholder:"Search campaigns...",className:"pl-9 pr-4 py-2 rounded-full bg-white/5 border border-white/15 text-sm text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-white/20 w-full"})]}),l.jsx("div",{className:"-mx-6 mb-6",children:l.jsx("div",{className:"flex items-center gap-3 overflow-x-auto scrollbar-hide py-4 px-6",children:K.map(ye=>l.jsx("button",{onClick:()=>y(ye),className:`px-5 py-2.5 rounded-full text-sm font-semibold transition-all whitespace-nowrap flex-shrink-0 ${g===ye?"bg-white text-gray-900":"bg-white/10 text-white hover:bg-white/20"}`,children:ye},ye))})})]})]}),l.jsx("div",{className:"px-6 pb-20 flex-1 flex flex-col",children:a||d?l.jsx("div",{className:"flex flex-1 items-center justify-center",children:l.jsx("div",{className:"text-white/70 text-sm",children:"Loading your campaigns..."})}):Ie.length===0?l.jsx("div",{className:"flex flex-1 items-center justify-center",children:l.jsxs("div",{className:"card card--no-border text-center py-12",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Zc,{size:32,className:"text-blue-primary"})}),l.jsx("h3",{className:"text-xl font-semibold text-dark-text mb-2",children:"No Campaigns Available"}),l.jsx("p",{className:"text-dark-text-muted",children:"No learning campaigns have been assigned to you yet. Check back later or contact your administrator."})]})}):l.jsx("div",{className:"space-y-8 flex-1 -mt-12",children:Sn()})})]}),pi=()=>l.jsxs("div",{className:"hidden lg:flex flex-col h-screen overflow-hidden bg-[#050608]",children:[l.jsxs("div",{className:"h-20 flex-shrink-0 flex items-center justify-between px-6 bg-[#050608]",children:[l.jsx("div",{className:"flex-1 flex justify-start",children:l.jsx("div",{className:"flex items-center gap-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/dicode_logo.png",alt:"DiCode",className:"h-10 w-auto"}),l.jsx("div",{className:"h-6 w-px bg-white/10 mx-2"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-white/70",children:["Hello, ",e?.name.split(" ")[0]]}),l.jsx("h1",{className:"text-lg font-bold text-white tracking-wide",children:"Your Campaigns"})]})]})})}),l.jsxs("div",{className:"flex-1 max-w-xl mx-4 flex justify-center items-center gap-3",children:[(N||I)&&l.jsx("button",{onClick:pe,className:"p-2.5 rounded-full bg-white/10 text-white hover:bg-white/20 transition-all flex-shrink-0",title:"Back to feed",children:l.jsx(Yie,{size:18})}),l.jsxs("div",{className:"relative w-full",children:[l.jsx(jo,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40"}),l.jsx("input",{type:"text",placeholder:"Search your learning content...",value:C,onChange:ye=>{U(ye.target.value),pe()},className:"w-full pl-11 pr-4 py-2.5 rounded-full bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/30 focus:outline-none focus:ring-2 focus:ring-white/10 focus:bg-white/10 transition-all"})]})]}),l.jsx("div",{className:"flex-1 flex justify-end items-center gap-4",children:l.jsxs("button",{onClick:()=>t("/employee/profile"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:[l.jsx("span",{className:"sr-only",children:"Open profile menu"}),l.jsx(nD,{size:24,className:"text-white"})]})})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden p-1 gap-1",children:[sr(),N&&sa()]})]});return l.jsxs(l.Fragment,{children:[Fa(),pi(),h&&l.jsx(D0,{isOpen:h,onClose:()=>m(!1),context:{userRole:"employee"}})]})};function fke({title:t}){return l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-white/80 text-sm font-semibold tracking-[0.35em] uppercase",children:t})})}const hke=[{label:"Edit profile",active:!0},{label:"My stats",active:!1},{label:"Contact support",active:!1}],mke=[{label:"Security",active:!1},{label:"Email notifications",active:!1},{label:"Report an issue",active:!1},{label:"Privacy statement",active:!1}],pke=[{title:"General",items:[{key:"Edit profile",label:"Edit profile",icon:Nu},{key:"My stats",label:"My stats",icon:uie},{key:"Security",label:"Security",icon:Au},{key:"Email notifications",label:"Email notifications",icon:np}]},{title:"Support",items:[{key:"Report an issue",label:"Report an issue",icon:RE},{key:"Contact support",label:"Contact support",icon:RE}]},{title:"Legal",items:[{key:"Privacy statement",label:"Privacy statement",icon:DS},{key:"Change password",label:"Change password",icon:Au}]}],gke=t=>{if(!t)return null;if(t instanceof Date)return t;if(typeof t=="object"&&typeof t.toDate=="function")return t.toDate();const e=new Date(t);return Number.isNaN(e.getTime())?null:e},yke=()=>{const t=Vi(),{user:e,logout:n,refreshUser:r}=Ar(),[i,a]=x.useState(!1),[o,u]=x.useState(!0),[d,h]=x.useState(!1),[m,g]=x.useState("Edit profile"),[y,b]=x.useState("list"),[j,E]=x.useState({name:e?.name||"",email:e?.email||"",department:e?.department||""}),[A,T]=x.useState({emailNotifications:!0,moduleReminders:!0,progressUpdates:!0}),[O,C]=x.useState({completedModules:0,totalModules:0,completionRate:0,averageScore:0,currentStreak:0,totalLearningHours:0,joinDate:"N/A",lastActivity:"N/A"});x.useEffect(()=>{(async()=>{if(e){u(!0);try{const ce=await OU(e.id),me=await LU(e.id),G=ce.filter(Q=>Q.status==="completed").length,X=ce.length,se=X>0?Math.round(G/X*100):0,be=ce.map(Q=>gke(Q.lastAccessedAt)).filter(Q=>!!Q).sort((Q,ue)=>ue.getTime()-Q.getTime()),Y=be.length>0?U(be[0]):"No activity yet";C({completedModules:G,totalModules:X,completionRate:se,averageScore:me.averageScore,currentStreak:me.currentStreak,totalLearningHours:me.totalLearningHours,joinDate:"N/A",lastActivity:Y})}catch(ce){console.error("[Profile] Failed to load stats:",ce)}finally{u(!1)}}})()},[e]);const U=M=>{const me=new Date().getTime()-M.getTime(),G=Math.floor(me/(1e3*60*60*24));return G===0?"Today":G===1?"Yesterday":G<7?`${G} days ago`:M.toLocaleDateString("en-US",{month:"long",year:"numeric"})},B=async()=>{if(e){h(!0);try{await Uf(e.id,{name:j.name.trim(),department:j.department.trim()||null}),await r(),a(!1)}catch(M){console.error("[Profile] Failed to update profile:",M),alert("Failed to update profile. Please try again.")}finally{h(!1)}}},$=()=>{n(),t("/login")},N=()=>{if(typeof window<"u"&&window.innerWidth<1024&&y==="detail"){b("list");return}t(-1)},k=()=>{E({name:e?.name||"",email:e?.email||"",department:e?.department||""}),a(!1)},I=[{key:"emailNotifications",title:"Email notifications",description:"Receive updates via email"},{key:"moduleReminders",title:"Module reminders",description:"Stay on track with modules"},{key:"progressUpdates",title:"Progress updates",description:"Weekly summaries in your inbox"}],L=[{label:"Completed modules",value:`${O.completedModules}/${O.totalModules}`,icon:Pi},{label:"Completion rate",value:`${O.completionRate}%`,icon:UU},{label:"Current streak",value:`${O.currentStreak} days`,icon:Rie},{label:"Learning time",value:`${O.totalLearningHours}h`,icon:Aie}],V=()=>l.jsx("div",{className:"flex flex-wrap items-center justify-end gap-3",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-white/10",children:[l.jsx(hn,{size:16}),"Cancel"]}),l.jsx("button",{onClick:B,disabled:d,className:"inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-black shadow-sm transition hover:bg-white/90 disabled:cursor-not-allowed disabled:opacity-70",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Bl,{size:16,className:"animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(gf,{size:16}),"Save changes"]})})]}):l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:border-white/30 hover:bg-white/10",children:[l.jsx(rD,{size:16}),"Edit profile"]})}),q=()=>l.jsxs("div",{className:"relative rounded-2xl bg-[#090909] p-6 shadow-sm space-y-8",children:[l.jsxs("div",{className:"flex flex-wrap items-start gap-6 -mt-20",children:[l.jsx("div",{className:"h-28 w-28 rounded-2xl border-4 border-[#050608] bg-gradient-to-br from-indigo-500 via-purple-500 to-amber-300 text-3xl font-semibold text-white shadow-lg flex items-center justify-center",children:e?.name?.charAt(0).toUpperCase()||"U"}),l.jsxs("div",{className:"min-w-[240px] flex-1 space-y-2",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:j.name||"Your name"}),l.jsx("p",{className:"text-sm text-white/70",children:j.email||"your.email@company.com"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-medium text-white",children:[l.jsx(Nu,{size:14}),e?.role||"Employee"]}),l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-medium text-white",children:[l.jsx(Oi,{size:14}),j.department||"Department"]}),l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold text-white",children:"Active"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Full name"}),l.jsx("p",{className:"text-xs text-white/60",children:"Your display name"})]})}),l.jsx("input",{type:"text",value:j.name,onChange:M=>E({...j,name:M.target.value}),disabled:!i,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 text-sm text-white placeholder:text-white/50 focus:border-white/40 focus:ring-2 focus:ring-white/15 disabled:cursor-not-allowed disabled:bg-white/5 disabled:text-white/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Email"}),l.jsx("p",{className:"text-xs text-white/60",children:"Where you receive notifications"})]}),l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-2 py-1 text-xs font-medium text-white",children:[l.jsx(Pi,{size:14}),"Verified"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Eu,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/50"}),l.jsx("input",{type:"email",value:j.email,onChange:M=>E({...j,email:M.target.value}),disabled:!0,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 pl-10 text-sm text-white/60 placeholder:text-white/50 focus:border-white/30 focus:ring-2 focus:ring-white/15"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Department"}),l.jsx("p",{className:"text-xs text-white/60",children:"Where you sit in the org"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/50"}),l.jsx("input",{type:"text",value:j.department,onChange:M=>E({...j,department:M.target.value}),disabled:!i,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 pl-10 text-sm text-white placeholder:text-white/50 focus:border-white/40 focus:ring-2 focus:ring-white/15 disabled:cursor-not-allowed disabled:bg-white/5 disabled:text-white/50"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Role"}),l.jsx("p",{className:"text-xs text-white/60",children:"This is managed by your admin"})]}),l.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 text-sm font-medium text-white/60 capitalize",children:e?.role||"Employee"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Your progress"}),l.jsx("p",{className:"text-xs text-white/60",children:"Live snapshot from your enrollments"})]}),o?l.jsx(Bl,{className:"h-5 w-5 animate-spin text-white"}):null]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(M=>l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs font-medium text-white",children:[l.jsx(M.icon,{size:14,className:"text-white"}),l.jsx("span",{className:"text-sm font-semibold text-white",children:M.value}),l.jsx("span",{className:"text-xs text-white/60",children:M.label})]},M.label))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(np,{className:"h-4 w-4 text-white"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Notification preferences"}),l.jsx("p",{className:"text-xs text-white/60",children:"Choose how you want to stay in the loop"})]})]}),l.jsx("div",{className:"space-y-0 rounded-2xl border border-white/10 overflow-hidden",children:I.map(M=>l.jsxs("div",{className:"flex items-center justify-between px-4 py-4 bg-[#111] border-b border-white/5 last:border-b-0",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:M.title}),l.jsx("p",{className:"text-xs text-white/60",children:M.description})]}),l.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[l.jsx("input",{type:"checkbox",className:"peer sr-only",checked:A[M.key],onChange:ce=>T({...A,[M.key]:ce.target.checked})}),l.jsx("div",{className:"h-6 w-11 rounded-full bg-white/20 transition peer-checked:bg-white peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-white/30"}),l.jsx("div",{className:"absolute left-1 top-1 h-4 w-4 rounded-full bg-white shadow transition peer-checked:translate-x-5 peer-checked:bg-[#0c0c0c]"})]})]},M.key))})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Account activity"}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm text-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Member since"}),l.jsx("span",{className:"font-medium text-white",children:O.joinDate})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Last activity"}),l.jsx("span",{className:"font-medium text-white",children:O.lastActivity})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Completion rate"}),l.jsxs("span",{className:"font-medium text-white",children:[O.completionRate,"%"]})]})]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Learning cadence"}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm text-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Current streak"}),l.jsxs("span",{className:"font-semibold text-white",children:[O.currentStreak," days"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Average score"}),l.jsxs("span",{className:"font-medium text-white",children:[O.averageScore,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Learning time"}),l.jsxs("span",{className:"font-medium text-white",children:[O.totalLearningHours,"h"]})]})]})]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"My stats"}),l.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Well add detailed analytics and insights here soon."})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[l.jsx(Au,{className:"h-4 w-4 text-white"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Security"}),l.jsx("p",{className:"text-xs text-white/60",children:"Manage password and sign-in protection"})]})]})]});return l.jsx("div",{className:"min-h-screen bg-[#050608] text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-10 space-y-8",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:border-white/30 hover:bg-white/10",children:[l.jsx(Zd,{size:16}),"Back"]})}),l.jsxs("div",{className:"hidden lg:flex gap-8",children:[l.jsx("aside",{className:"w-64 space-y-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"Profile"}),l.jsx("div",{className:"mt-3 space-y-1",children:hke.map(M=>{const ce=M.active;return l.jsx("button",{className:`w-full flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[#050608] ${ce?"bg-white/15 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:l.jsx("span",{children:M.label})},M.label)})})]}),l.jsxs("div",{className:"border-t border-white/10 pt-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/50",children:"Settings"}),l.jsxs("div",{className:"mt-3 space-y-1",children:[mke.map(M=>{const ce=M.active;return l.jsx("button",{className:`w-full flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[#050608] ${ce?"bg-white/15 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:l.jsx("span",{children:M.label})},M.label)}),l.jsx("button",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium text-white/60 transition-all hover:text-white hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:ring-offset-2 focus-visible:ring-offset-[#050608]",children:l.jsx("span",{children:"Change password"})})]})]}),l.jsxs("button",{onClick:$,className:"w-full inline-flex items-center justify-center gap-2 rounded-full bg-red-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-red-600",children:[l.jsx(ax,{size:16}),"Log out"]})]})]})}),l.jsx("div",{className:"w-px bg-white/5 rounded-full self-stretch"}),l.jsxs("main",{className:"flex-1 space-y-6",children:[l.jsx("div",{className:"flex flex-wrap items-center justify-end gap-3",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-white/10",children:[l.jsx(hn,{size:16}),"Cancel"]}),l.jsx("button",{onClick:B,disabled:d,className:"inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-black shadow-sm transition hover:bg-white/90 disabled:cursor-not-allowed disabled:opacity-70",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Bl,{size:16,className:"animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(gf,{size:16}),"Save changes"]})})]}):l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:border-white/30 hover:bg-white/10",children:[l.jsx(rD,{size:16}),"Edit profile"]})}),l.jsxs("div",{className:"relative rounded-2xl bg-[#090909] p-6 shadow-sm space-y-8",children:[l.jsxs("div",{className:"flex flex-wrap items-start gap-6 -mt-20",children:[l.jsx("div",{className:"h-28 w-28 rounded-2xl border-4 border-[#050608] bg-gradient-to-br from-indigo-500 via-purple-500 to-amber-300 text-3xl font-semibold text-white shadow-lg flex items-center justify-center",children:e?.name?.charAt(0).toUpperCase()||"U"}),l.jsxs("div",{className:"min-w-[240px] flex-1 space-y-2",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:j.name||"Your name"}),l.jsx("p",{className:"text-sm text-white/70",children:j.email||"your.email@company.com"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-medium text-white",children:[l.jsx(Nu,{size:14}),e?.role||"Employee"]}),l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-medium text-white",children:[l.jsx(Oi,{size:14}),j.department||"Department"]}),l.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold text-white",children:"Active"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Full name"}),l.jsx("p",{className:"text-xs text-white/60",children:"Your display name"})]})}),l.jsx("input",{type:"text",value:j.name,onChange:M=>E({...j,name:M.target.value}),disabled:!i,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 text-sm text-white placeholder:text-white/50 focus:border-white/40 focus:ring-2 focus:ring-white/15 disabled:cursor-not-allowed disabled:bg-white/5 disabled:text-white/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Email"}),l.jsx("p",{className:"text-xs text-white/60",children:"Where you receive notifications"})]}),l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-2 py-1 text-xs font-medium text-white",children:[l.jsx(Pi,{size:14}),"Verified"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Eu,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/50"}),l.jsx("input",{type:"email",value:j.email,onChange:M=>E({...j,email:M.target.value}),disabled:!0,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 pl-10 text-sm text-white/60 placeholder:text-white/50 focus:border-white/30 focus:ring-2 focus:ring-white/15"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Department"}),l.jsx("p",{className:"text-xs text-white/60",children:"Where you sit in the org"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-white/50"}),l.jsx("input",{type:"text",value:j.department,onChange:M=>E({...j,department:M.target.value}),disabled:!i,className:"w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 pl-10 text-sm text-white placeholder:text-white/50 focus:border-white/40 focus:ring-2 focus:ring-white/15 disabled:cursor-not-allowed disabled:bg-white/5 disabled:text-white/50"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Role"}),l.jsx("p",{className:"text-xs text-white/60",children:"This is managed by your admin"})]}),l.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-2.5 text-sm font-medium text-white/60 capitalize",children:e?.role||"Employee"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Your progress"}),l.jsx("p",{className:"text-xs text-white/60",children:"Live snapshot from your enrollments"})]}),o?l.jsx(Bl,{className:"h-5 w-5 animate-spin text-white"}):null]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(M=>l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-2 text-xs font-medium text-white",children:[l.jsx(M.icon,{size:14,className:"text-white"}),l.jsx("span",{className:"text-sm font-semibold text-white",children:M.value}),l.jsx("span",{className:"text-xs text-white/60",children:M.label})]},M.label))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(np,{className:"h-4 w-4 text-white"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Notification preferences"}),l.jsx("p",{className:"text-xs text-white/60",children:"Choose how you want to stay in the loop"})]})]}),l.jsx("div",{className:"space-y-0 rounded-2xl border border-white/10 overflow-hidden",children:I.map(M=>l.jsxs("div",{className:"flex items-center justify-between px-4 py-4 bg-[#111] border-b border-white/5 last:border-b-0",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:M.title}),l.jsx("p",{className:"text-xs text-white/60",children:M.description})]}),l.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[l.jsx("input",{type:"checkbox",className:"peer sr-only",checked:A[M.key],onChange:ce=>T({...A,[M.key]:ce.target.checked})}),l.jsx("div",{className:"h-6 w-11 rounded-full bg-white/20 transition peer-checked:bg-white peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-white/30"}),l.jsx("div",{className:"absolute left-1 top-1 h-4 w-4 rounded-full bg-white shadow transition peer-checked:translate-x-5 peer-checked:bg-[#0c0c0c]"})]})]},M.key))})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Account activity"}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm text-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Member since"}),l.jsx("span",{className:"font-medium text-white",children:O.joinDate})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Last activity"}),l.jsx("span",{className:"font-medium text-white",children:O.lastActivity})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Completion rate"}),l.jsxs("span",{className:"font-medium text-white",children:[O.completionRate,"%"]})]})]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Learning cadence"}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm text-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Current streak"}),l.jsxs("span",{className:"font-semibold text-white",children:[O.currentStreak," days"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Average score"}),l.jsxs("span",{className:"font-medium text-white",children:[O.averageScore,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white/60",children:"Learning time"}),l.jsxs("span",{className:"font-medium text-white",children:[O.totalLearningHours,"h"]})]})]})]})]}),l.jsxs("div",{className:"rounded-xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"My stats"}),l.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Well add detailed analytics and insights here soon."})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[l.jsx(Au,{className:"h-4 w-4 text-white"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"Security"}),l.jsx("p",{className:"text-xs text-white/60",children:"Manage password and sign-in protection"})]})]})]})]})]}),l.jsx("div",{className:"lg:hidden space-y-4",children:y==="list"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[l.jsx("div",{className:"h-16 w-16 rounded-lg bg-gradient-to-br from-indigo-500 via-purple-500 to-amber-300 flex items-center justify-center text-xl font-semibold text-white shadow-lg",children:e?.name?.charAt(0).toUpperCase()||"U"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-base font-semibold text-white",children:j.name||"Your name"}),l.jsx("p",{className:"text-xs text-white/60",children:j.email||"your.email@company.com"})]})]}),l.jsxs("div",{className:"rounded-3xl overflow-hidden",children:[pke.map(M=>l.jsxs("div",{className:"px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between pb-2",children:[l.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-white/50",children:M.title}),l.jsx("div",{className:"flex-1 ml-3 h-px bg-white/10"})]}),l.jsx("div",{className:"space-y-1",children:M.items.map(ce=>{const me=ce.icon,G=m===ce.key;return l.jsxs("button",{onClick:()=>{g(ce.key),b("detail")},className:`w-full flex items-center justify-between py-3 text-left transition transform ${G?"text-white":"text-white/80"} hover:bg-white/5 active:scale-[0.99]`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"h-8 w-8 rounded-full bg-white/5 flex items-center justify-center",children:l.jsx(me,{size:16})}),l.jsx("span",{className:"text-sm font-semibold",children:ce.label})]}),l.jsx(nx,{size:16,className:"text-white/50"})]},ce.key)})})]},M.title)),l.jsxs("button",{onClick:$,className:"w-full flex items-center justify-between px-4 py-4 text-left text-sm font-semibold text-red-400 transition hover:bg-white/5 active:scale-[0.99] border-t border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"h-8 w-8 rounded-full bg-red-500/10 flex items-center justify-center text-red-400",children:l.jsx(ax,{size:16})}),l.jsx("span",{children:"Logout"})]}),l.jsx(nx,{size:16,className:"text-red-400/80"})]})]})]}):l.jsxs("div",{className:"space-y-4",children:[m==="Edit profile"&&l.jsxs(l.Fragment,{children:[V(),q()]}),m==="My stats"&&l.jsxs("div",{className:"rounded-2xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:"My stats"}),l.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Well add detailed analytics and insights here soon."})]}),m!=="Edit profile"&&m!=="My stats"&&m!=="Logout"&&l.jsxs("div",{className:"rounded-2xl bg-white/5 p-4",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:m}),l.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Content coming soon for this section."})]})]})})]})})},vke=()=>{const{moduleId:t}=jp(),e=Vi(),{user:n}=Ar(),r=x.useRef(null),[i,a]=x.useState(null),[o,u]=x.useState([]),[d,h]=x.useState(!0),[m,g]=x.useState(null),[y,b]=x.useState(0),[j,E]=x.useState({}),[A,T]=x.useState(null),{responses:O}=Lq(i?.id||"",n?.id||"");x.useEffect(()=>{let N=!0;return(async()=>{if(!t||!n){h(!1);return}h(!0),g(null);try{await $f(t,n.id)||await kS(t,n.id,n.organization||"","system",!0),await CS(t,n.id);const L=await Ko(t);if(!N)return;if(!L){g("Campaign not found"),h(!1);return}if(a(L),L.items.length===0){g("This campaign has no videos yet"),h(!1);return}const q=[...L.items].sort((G,X)=>G.order-X.order).map(async G=>{const X=await mf(G.videoId);if(!X)return null;const se=Array.isArray(X.questions)?X.questions.length:0;return{id:G.videoId,itemId:G.id,order:G.order,title:X.title,description:X.description,videoUrl:X.storageUrl,duration:X.duration,competencies:X.metadata.tags||[],questions:X.questions||[],questionTarget:se}}),M=(await Promise.all(q)).filter(Boolean);if(!N)return;if(M.length===0){g("Failed to load video content"),h(!1);return}const ce=[];let me=0;M.forEach(G=>{ce.push({id:`video-${G.id}`,type:"video",videoId:G.id,content:G,itemId:G.itemId,questionTarget:G.questionTarget,index:me++}),G.questions.forEach(X=>{ce.push({id:`q-${X.id}`,type:"question",videoId:G.id,questionId:X.id,content:X,itemId:G.itemId,questionTarget:G.questionTarget,index:me++})})}),u(ce),h(!1)}catch(I){console.error("[VideoModule] Failed to load campaign:",I),N&&(g("Unable to load this campaign. Please try again later."),h(!1))}})(),()=>{N=!1}},[t,n]),x.useEffect(()=>{const N=r.current;if(!N)return;const k=()=>{const I=Math.round(N.scrollTop/N.clientHeight);I!==y&&I>=0&&I<o.length&&b(I)};return N.addEventListener("scroll",k),()=>N.removeEventListener("scroll",k)},[o.length,y]),x.useEffect(()=>{if(o.length>0&&Object.keys(O).length>0){const N={};o.forEach(k=>{if(k.type==="question"){const I=k.content.id,L=O[I];L&&(N[I]=L.answer)}}),Object.keys(N).length>0&&E(k=>({...k,...N}))}},[o,O]);const C=(N,k,I)=>{!i||!n||!I||OS(i.id,n.id,N,n.organization||"",k,I).catch(L=>console.error("Failed to track video progress",L))},U=async(N,k,I,L,V)=>{if(!(!i||!n))try{L!==void 0&&V!==void 0&&C(k,L,V),await PS(i.id,n.id,N,{questionTarget:I,watchedDuration:L,totalDuration:V})}catch(q){console.error("Failed to record video completion",q)}},B=async(N,k)=>{E(L=>({...L,[N]:k}));const I=o[y];if(!(!i||!n||!I)){T(N);try{const L=I.content;await RS(i.id,I.videoId,N,n.id,n.organization||"",k,{questionType:L.type,questionText:L.statement}),setTimeout(()=>{$(y+1)},800),await IS(i.id,n.id,I.itemId,I.questionTarget,1,N)}catch(L){console.error("Failed to save response",L)}finally{T(null)}}},$=N=>{if(N>=o.length){e(`/employee/comparison/${t}`);return}r.current&&r.current.scrollTo({top:N*r.current.clientHeight,behavior:"smooth"})};return d?l.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center px-6",children:[l.jsx(Bl,{className:"w-12 h-12 animate-spin text-white mb-4"}),l.jsx("p",{className:"text-white/70",children:"Loading experience..."})]}):m||o.length===0?l.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-white",children:[l.jsx("p",{children:m||"No content available"}),l.jsx("button",{onClick:()=>e("/employee/home"),className:"mt-4 underline",children:"Back"})]}):l.jsxs("div",{className:"fixed inset-0 bg-black text-white overflow-hidden",children:[l.jsx("button",{onClick:()=>e(`/employee/campaign/${t}`),className:"absolute top-6 right-6 z-50 bg-black/20 backdrop-blur-sm p-2 rounded-full text-white hover:bg-white/20 transition-all",children:l.jsx(hn,{size:24})}),l.jsx("div",{ref:r,className:"h-full w-full overflow-y-scroll snap-y snap-mandatory scroll-smooth no-scrollbar",style:{scrollSnapType:"y mandatory"},children:o.map((N,k)=>{const I=k===y;return l.jsxs("div",{className:"h-full w-full snap-start snap-always relative flex items-center justify-center",children:[N.type==="video"?l.jsx(xke,{data:N.content,isActive:I,onCompleted:L=>U(N.itemId,N.videoId,N.questionTarget,L?.watchedDuration,L?.totalDuration),onProgress:(L,V)=>C(N.videoId,L,V)}):l.jsx(bke,{data:N.content,response:j[N.content.id],onAnswer:L=>B(N.content.id,L),isSaving:A===N.content.id}),I&&k<o.length-1&&l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-white/50 pointer-events-none",children:l.jsx(OE,{size:32})})]},N.id)})})]})},xke=({data:t,isActive:e,onCompleted:n,onProgress:r})=>{const i=x.useRef(null),a=x.useRef(!1),o=x.useRef(0);x.useEffect(()=>{i.current&&(e?(a.current=!1,o.current=0,i.current.currentTime=0,i.current.play().catch(h=>console.log("Autoplay prevented",h))):i.current.pause())},[e]);const u=()=>{if(!i.current)return;const h=i.current.currentTime||0;o.current=Math.max(o.current,h)},d=()=>{if(a.current)return;a.current=!0;const h=i.current?.duration||t.duration||0,m=Math.max(o.current,i.current?.currentTime||0);h>0&&r&&r(m,h),n?.({watchedDuration:m,totalDuration:h})};return l.jsxs("div",{className:"relative w-full h-full bg-black",children:[l.jsx("video",{ref:i,src:t.videoUrl,className:"w-full h-full object-cover",playsInline:!0,muted:!1,onTimeUpdate:u,onEnded:d}),l.jsxs("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent p-6 pb-20 pointer-events-none",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.title}),t.description&&l.jsx("p",{className:"text-white/80 line-clamp-2",children:t.description})]})]})},bke=({data:t,response:e,onAnswer:n,isSaving:r})=>{const i=x.useRef(null),[a,o]=x.useState(typeof e=="string"?e:""),u=e!==void 0;return x.useEffect(()=>{typeof e=="string"&&o(e)},[e]),l.jsxs("div",{className:"w-full h-full bg-dark-bg flex flex-col items-center justify-center p-8 relative",children:[l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:l.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-blue-900/20 to-transparent"})}),l.jsxs("div",{className:"w-full max-w-md z-10",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-center text-white leading-snug",children:t.statement}),u&&l.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:l.jsx(di,{size:20,className:"text-white",strokeWidth:3})})]}),l.jsxs("div",{className:`space-y-3 ${u?"opacity-50 pointer-events-none":""}`,children:[(t.type==="behavioral-perception"||t.type==="behavioral-intent")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between text-sm text-white/50 mb-2 px-2",children:[l.jsx("span",{children:t.scaleLabels?.low||"Disagree"}),l.jsx("span",{children:t.scaleLabels?.high||"Agree"})]}),l.jsx("div",{className:"grid grid-cols-5 gap-3",children:[1,2,3,4,5].map(d=>l.jsx("button",{onClick:()=>!u&&n(d),disabled:u,className:`
                                            aspect-square rounded-xl font-bold text-lg transition-all
                                            ${e===d?"bg-primary text-white scale-110 shadow-lg shadow-primary/50":u?"bg-white/5 text-white/20 cursor-not-allowed":"bg-white/10 hover:bg-white/20 text-white cursor-pointer"}
                                        `,children:d},d))})]}),t.type==="qualitative"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{ref:i,value:a,onChange:d=>!u&&o(d.target.value),disabled:u,className:`w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder:text-white/30 min-h-[150px] focus:outline-none transition-colors ${u?"cursor-not-allowed opacity-60":"focus:border-primary/50"}`,placeholder:u?"Your answer has been saved":"Type your thoughts here...",onBlur:d=>!u&&d.target.value&&n(d.target.value)}),!u&&l.jsx("button",{onClick:()=>i.current?.blur(),className:"w-full py-3 bg-primary rounded-xl font-semibold text-white hover:bg-blue-600 transition-colors",children:"Submit Answer"})]})]}),r&&l.jsx("div",{className:"mt-6 flex justify-center",children:l.jsx(Bl,{className:"animate-spin text-white/50",size:20})})]})]})},wke=()=>{const{campaignId:t}=jp(),e=Vi(),{user:n}=Ar(),[r,i]=x.useState(null),[a,o]=x.useState(!0),[u,d]=x.useState({}),{enrollment:h,isLoading:m}=nke(t||"",n?.id||"");x.useEffect(()=>{h&&t&&n?.id&&CS(t,n.id).catch($=>{console.error("Failed to update enrollment access:",$)})},[h?.id,t,n?.id]),x.useEffect(()=>{h&&console.log("Enrollment updated:",{completedModules:h.completedModules,moduleProgressCount:Object.values(h.moduleProgress||{}).filter($=>$.completed).length,status:h.status,moduleProgress:h.moduleProgress})},[h?.completedModules,h?.status,h?.moduleProgress]),x.useEffect(()=>{(async()=>{if(t){o(!0);try{const N=await Ko(t);if(i(N),N){const k=Array.from(new Set((N.items||[]).map(V=>V.videoId).filter(Boolean))),I=await Promise.all(k.map(V=>mf(V))),L={};I.forEach(V=>{V&&(L[V.id]=V)}),d(L)}else d({})}catch(N){console.error("Failed to load campaign details:",N)}finally{o(!1)}}})()},[t]);const g=()=>{r&&e(`/employee/module/${r.id}`)};if(a||m)return l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center",children:l.jsx("div",{className:"text-white/70",children:"Loading..."})});if(!r)return l.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Campaign Not Found"}),l.jsx("button",{onClick:()=>e("/employee/home"),className:"text-primary hover:underline",children:"Back to Home"})]})});const y=r.items.length,b=5,j=h?.moduleProgress||{},E=h?.completedModules??Object.values(j).filter($=>$.completed).length,A=y===0?0:Math.round(E/y*100),T=Number.isNaN(A)?0:A,O=Object.keys(j).length>0||h?.status==="in-progress"||h?.status==="completed",C=y>0&&E>=y,U=r.items.findIndex($=>!j[$.id]?.completed),B=r.items.reduce(($,N)=>{const k=u[N.videoId],I=k?.questions?k.questions.length:3,L=k?.duration?Math.ceil(k.duration/60):b;return $+L+I},0);return l.jsxs("div",{className:"min-h-screen bg-dark-bg flex flex-col",children:[l.jsx("div",{className:"p-4 sm:p-8 space-y-6",children:l.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-[#0b1324] via-[#152b55] to-[#1d4ed8] text-white shadow-2xl",children:[l.jsx("div",{className:"absolute inset-0 opacity-40 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.7),_transparent_60%)] pointer-events-none"}),l.jsxs("div",{className:"relative p-6 sm:p-8 space-y-8",children:[l.jsxs("button",{onClick:()=>e("/employee/home"),className:"inline-flex items-center gap-2 text-sm text-white/80 hover:text-white transition-colors",children:[l.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/15 backdrop-blur-sm border border-white/20",children:l.jsx(Zd,{size:18})}),"Back to campaigns"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-white/60 mb-2",children:"Campaign"}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold leading-tight",children:r.title})]}),l.jsxs("div",{className:"w-full max-w-md space-y-3",children:[l.jsxs("div",{className:"flex items-baseline justify-between text-white gap-4",children:[l.jsx("p",{className:"text-sm text-white/70",children:C?"Completed":O?"In progress":"Not started"}),O&&l.jsxs("span",{className:"text-3xl font-semibold",children:[T,"%"]})]}),O?l.jsx("div",{className:"mt-1 h-2 rounded-full bg-white/20 overflow-hidden w-full",children:l.jsx("div",{className:"h-full rounded-full bg-white",style:{width:`${T}%`}})}):l.jsxs("button",{onClick:g,className:"mt-4 inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/30 px-6 py-2 text-sm font-semibold text-white hover:bg-white/20 transition-colors",children:[l.jsx(_o,{size:16,fill:"currentColor"}),"Start campaign"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[status!=="completed"&&l.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/30 px-4 py-2 text-sm font-semibold text-white hover:bg-white/20 transition-colors",children:[l.jsx(_o,{size:16,fill:"currentColor"}),O?"Continue":"Start campaign"]}),l.jsxs("button",{onClick:()=>e(`/employee/comparison/${r.id}`),className:"inline-flex items-center gap-2 rounded-full bg-white text-slate-900 px-4 py-2 text-sm font-semibold hover:bg-white/90 transition-colors",children:[l.jsx($U,{size:16}),"View comparison"]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-white/80",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium uppercase tracking-[0.3em]",children:[l.jsx(Zc,{size:16}),l.jsxs("span",{className:"text-white",children:[y," modules"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium uppercase tracking-[0.3em]",children:[l.jsx(qU,{size:16}),l.jsxs("span",{className:"text-white",children:[B," mins"]})]})]})]})]})}),l.jsxs("div",{className:"flex-1 px-4 sm:px-8 pb-24 space-y-1 mt-4",children:[r.items.map(($,N)=>{const k=N+1,I=u[$.videoId],L=I?.title||`Module ${k}`,V=I?.description||"Video Lesson",q=I?.questions?I.questions.length:3,ce=`${I?.duration?Math.ceil(I.duration/60)+q:b+q} mins`,me=I?.thumbnailUrl,G=j[$.id],X=!!G?.completed,se=X?100:G?Math.round(((G.videoFinished?1:0)+Math.min(G.questionsAnswered,G.questionTarget))/(G.questionTarget+1)*100):0,be=!X&&U===N&&!C,Y=!X&&U!==-1&&N>U;return be?O?l.jsxs("div",{onClick:g,className:"bg-transparent pb-6 mb-4 cursor-pointer",children:[l.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[me&&l.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl overflow-hidden bg-slate-100 flex-shrink-0",children:l.jsx("img",{src:me,alt:L,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 font-semibold",children:"In Progress"}),l.jsx("h3",{className:"text-xl font-semibold text-white mt-1",children:L}),se>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"h-2 bg-slate-900/40 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-400 to-indigo-500",style:{width:`${se}%`}})}),l.jsxs("div",{className:"mt-1 flex justify-between text-xs text-white/70",children:[l.jsx("span",{children:"Module progress"}),l.jsxs("span",{children:[se,"%"]})]})]})]})]})}),l.jsxs("button",{className:"mt-6 w-full py-3.5 bg-blue-600 text-white rounded-2xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-500 transition-colors",children:[l.jsx(_o,{size:18,fill:"currentColor"}),"Continue learning"]})]},$.id):l.jsxs("div",{onClick:g,className:"bg-white/10 border border-white/20 rounded-[2rem] p-6 sm:p-7 text-white cursor-pointer hover:bg-white/15 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[me&&l.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl overflow-hidden bg-white/10 flex-shrink-0",children:l.jsx("img",{src:me,alt:L,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-semibold",children:L}),l.jsxs("p",{className:"text-sm text-white/70",children:[V,"  ",ce]})]})]}),l.jsxs("button",{className:"mt-6 w-full py-3.5 bg-white text-slate-900 rounded-2xl font-semibold flex items-center justify-center gap-2",children:[l.jsx(_o,{size:18,fill:"currentColor",className:"text-slate-900"}),"Start learning"]})]},$.id):l.jsxs("div",{onClick:()=>!Y&&g(),className:`py-4 flex items-center justify-between gap-4 rounded-2xl px-3 ${N%2===0?"bg-white/5":"bg-transparent"} ${X?"text-white":"text-white/60"} ${Y?"cursor-not-allowed":"cursor-pointer"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[me&&l.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-white/10 flex-shrink-0",children:l.jsx("img",{src:me,alt:L,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-white",children:L}),l.jsxs("p",{className:"text-sm text-white/40",children:[V,"  ",ce]})]}),!X&&se>0&&l.jsx("div",{className:"mt-2 w-48 h-1.5 bg-white/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-white/60 rounded-full",style:{width:`${se}%`}})})]}),l.jsx("div",{className:`${X?"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center text-white":"flex items-center justify-center"}`,children:X?l.jsx(di,{size:18}):l.jsx(wo,{size:18,className:"text-white/40"})})]},$.id)}),l.jsx("div",{className:"h-8"})]})]})};function mm({children:t,requiredRole:e}){const{user:n,isAuthenticated:r,isLoading:i}=Ar();return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-bg text-dark-text",children:"Checking permissions..."}):r?e&&n?.role!==e?l.jsx(xr,{to:n?.role==="admin"?"/admin":"/employee",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(xr,{to:"/login",replace:!0})}function _ke(){const{user:t,isAuthenticated:e,isLoading:n}=Ar();if(n)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-bg text-dark-text",children:"Loading your workspace..."});const r=t?.requirePasswordChange===!0,i=t?.role==="admin"&&!t?.organization,a=t?.role==="employee"&&!t?.onboardingCompletedAt;return l.jsxs(bG,{children:[l.jsx(dn,{path:"/login",element:e?r?l.jsx(xr,{to:"/change-password",replace:!0}):i?l.jsx(xr,{to:"/admin/onboarding",replace:!0}):a?l.jsx(xr,{to:"/employee/onboarding",replace:!0}):l.jsx(xr,{to:t?.role==="admin"?"/admin":"/employee",replace:!0}):l.jsx(dse,{})}),l.jsx(dn,{path:"/invite/:token",element:l.jsx(fse,{})}),l.jsx(dn,{path:"/reset-password",element:l.jsx(mse,{})}),l.jsx(dn,{path:"/change-password",element:l.jsx(mm,{children:l.jsx(hse,{})})}),l.jsx(dn,{path:"/admin/onboarding",element:l.jsx(mm,{requiredRole:"admin",children:l.jsx(bEe,{})})}),l.jsx(dn,{path:"/employee/onboarding",element:l.jsx(mm,{requiredRole:"employee",children:l.jsx(wEe,{})})}),l.jsxs(dn,{path:"/admin",element:r?l.jsx(xr,{to:"/change-password",replace:!0}):i?l.jsx(xr,{to:"/admin/onboarding",replace:!0}):l.jsx(mm,{requiredRole:"admin",children:l.jsx(gse,{})}),children:[l.jsx(dn,{index:!0,element:l.jsx(xr,{to:"/admin/overview",replace:!0})}),l.jsx(dn,{path:"overview",element:l.jsx(vse,{})}),l.jsx(dn,{path:"analytics",element:l.jsx(P5,{})}),l.jsx(dn,{path:"analytics/:tab",element:l.jsx(P5,{})}),l.jsx(dn,{path:"campaigns",element:l.jsx(iEe,{})}),l.jsx(dn,{path:"employees",element:l.jsx(uEe,{})}),l.jsx(dn,{path:"assets",element:l.jsx(nEe,{})}),l.jsx(dn,{path:"company",element:l.jsx(mEe,{})}),l.jsx(dn,{path:"account",element:l.jsx(tEe,{})})]}),l.jsxs(dn,{path:"/employee",element:r?l.jsx(xr,{to:"/change-password",replace:!0}):a?l.jsx(xr,{to:"/employee/onboarding",replace:!0}):l.jsx(mm,{requiredRole:"employee",children:l.jsx(yse,{})}),children:[l.jsx(dn,{index:!0,element:l.jsx(xr,{to:"/employee/home",replace:!0})}),l.jsx(dn,{path:"home",element:l.jsx(dke,{})}),l.jsx(dn,{path:"profile",element:l.jsx(yke,{})}),l.jsx(dn,{path:"campaign/:campaignId",element:l.jsx(wke,{})}),l.jsx(dn,{path:"module/:moduleId",element:l.jsx(vke,{})}),l.jsx(dn,{path:"comparison/:moduleId",element:l.jsx(Vq,{})})]}),l.jsx(dn,{path:"/",element:e?r?l.jsx(xr,{to:"/change-password",replace:!0}):i?l.jsx(xr,{to:"/admin/onboarding",replace:!0}):a?l.jsx(xr,{to:"/employee/onboarding",replace:!0}):l.jsx(xr,{to:t?.role==="admin"?"/admin":"/employee",replace:!0}):l.jsx(xr,{to:"/login",replace:!0})}),l.jsx(dn,{path:"*",element:l.jsx(xr,{to:"/",replace:!0})})]})}function jke(){return l.jsx(Bre,{children:l.jsx(qG,{children:l.jsx(_ke,{})})})}TK.createRoot(document.getElementById("root")).render(l.jsx(tN.StrictMode,{children:l.jsx(jke,{})}))});export default Eke();
